nohup: ignoring input
[2025-04-09 20:58:35] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest
[2025-04-09 20:58:35] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[KALEN-SIM] ⚙️ 啟動模擬版本：0408-MiniVer.2+SimTest
[KALEN-SIM] 📂 路徑：/home/hmtf000001/auto_trading_v0408_sim.py
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_v0408_sim.py", line 34, in <module>
    client = OpenAI(api_key=OPENAI_API_KEY)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hmtf000001/myenv/lib/python3.11/site-packages/openai/_client.py", line 105, in __init__
    super().__init__(
  File "/home/hmtf000001/myenv/lib/python3.11/site-packages/openai/_base_client.py", line 738, in __init__
    self._client = http_client or httpx.Client(
                                  ^^^^^^^^^^^^^
TypeError: Client.__init__() got an unexpected keyword argument 'proxies'
nohup: ignoring input
[2025-04-09 21:00:32] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest
[2025-04-09 21:00:32] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[KALEN-SIM] ⚙️ 啟動模擬版本：0408-MiniVer.2+SimTest
[KALEN-SIM] 📂 路徑：/home/hmtf000001/auto_trading_v0408_sim.py
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_v0408_sim.py", line 34, in <module>
    client = OpenAI(api_key=OPENAI_API_KEY)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hmtf000001/myenv/lib/python3.11/site-packages/openai/_client.py", line 105, in __init__
    super().__init__(
  File "/home/hmtf000001/myenv/lib/python3.11/site-packages/openai/_base_client.py", line 738, in __init__
    self._client = http_client or httpx.Client(
                                  ^^^^^^^^^^^^^
TypeError: Client.__init__() got an unexpected keyword argument 'proxies'
nohup: ignoring input
[2025-04-09 21:02:32] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest
[2025-04-09 21:02:32] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-09 21:02:32] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-09 21:02:33] ❌ Login failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[KALEN-SIM] ⚙️ 啟動模擬版本：0408-MiniVer.2+SimTest
[KALEN-SIM] 📂 路徑：/home/hmtf000001/auto_trading_v0408_sim.py
nohup: ignoring input
[2025-04-09 21:03:44] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest
[2025-04-09 21:03:44] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-09 21:03:44] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-09 21:03:44] ❌ Login failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[KALEN-SIM] ⚙️ 啟動模擬版本：0408-MiniVer.2+SimTest
[KALEN-SIM] 📂 路徑：/home/hmtf000001/auto_trading_v0408_sim.py
nohup: ignoring input
[2025-04-09 21:14:42] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest
[2025-04-09 21:14:42] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-09 21:14:42] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-09 21:14:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 21:14:43] 📰 [SIM] News Sentiment：BUY
[2025-04-09 21:14:45] [SIM] 📊 GOLD: MACD=-0.47, RSI=51.30, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:14:47] [SIM] 📊 SILVER: MACD=-0.90, RSI=47.56, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:14:50] [SIM] 📊 NATGAS: MACD=-0.35, RSI=48.19, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:14:52] [SIM] 📊 NASDAQ: MACD=-0.21, RSI=56.09, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:14:54] [SIM] 📊 APPLE: MACD=0.17, RSI=50.14, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:14:56] [SIM] 📊 EUR/USD: MACD=0.41, RSI=56.06, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:14:59] [SIM] 📊 DOW: MACD=0.61, RSI=53.97, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:15:01] [SIM] 📊 NATGAS_MINI: MACD=0.20, RSI=49.85, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:15:03] [SIM] 📊 EUR/USD_MINI: MACD=-0.38, RSI=54.41, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 76%)
[2025-04-09 21:15:04] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2115.zip
nohup: ignoring input
[2025-04-09 21:17:40] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest
[2025-04-09 21:17:40] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-09 21:17:40] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-09 21:17:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 21:17:42] 📰 [SIM] News Sentiment：BUY
[2025-04-09 21:17:43] [SIM] 📊 GOLD: MACD=-0.23, RSI=45.65, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:17:45] [SIM] 📊 SILVER: MACD=0.01, RSI=47.97, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:17:47] [SIM] 📊 NATGAS: MACD=-1.37, RSI=44.22, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:17:49] [SIM] 📊 NASDAQ: MACD=-0.38, RSI=45.50, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:17:52] [SIM] 📊 APPLE: MACD=-0.30, RSI=48.63, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:17:54] [SIM] 📊 EUR/USD: MACD=1.31, RSI=48.13, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:17:56] [SIM] 📊 DOW: MACD=1.15, RSI=63.75, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:17:58] [SIM] 📊 NATGAS_MINI: MACD=-0.19, RSI=51.47, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:18:01] [SIM] 📊 EUR/USD_MINI: MACD=-1.47, RSI=41.99, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 78%)
[2025-04-09 21:18:02] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2118.zip
[2025-04-09 21:23:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 21:23:02] 📰 [SIM] News Sentiment：BUY
[2025-04-09 21:23:03] [SIM] 📊 GOLD: MACD=-0.33, RSI=52.41, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:23:06] [SIM] 📊 SILVER: MACD=1.53, RSI=57.54, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:23:08] [SIM] 📊 NATGAS: MACD=-0.73, RSI=56.69, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:23:10] [SIM] 📊 NASDAQ: MACD=1.36, RSI=60.02, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:23:12] [SIM] 📊 APPLE: MACD=-0.30, RSI=46.47, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:23:15] [SIM] 📊 EUR/USD: MACD=1.25, RSI=46.66, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:23:17] [SIM] 📊 DOW: MACD=0.34, RSI=47.85, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:23:19] [SIM] 📊 NATGAS_MINI: MACD=-0.16, RSI=49.67, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:23:21] [SIM] 📊 EUR/USD_MINI: MACD=0.05, RSI=53.67, SIGNAL=NEUTRAL → BUY
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 80%)
[2025-04-09 21:23:22] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2123.zip
[2025-04-09 21:28:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 21:28:23] 📰 [SIM] News Sentiment：BUY
[2025-04-09 21:28:25] [SIM] 📊 GOLD: MACD=-0.26, RSI=43.30, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:28:27] [SIM] 📊 SILVER: MACD=-0.84, RSI=44.82, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:28:30] [SIM] 📊 NATGAS: MACD=-0.16, RSI=47.77, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:28:32] [SIM] 📊 NASDAQ: MACD=0.49, RSI=52.67, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:28:34] [SIM] 📊 APPLE: MACD=0.51, RSI=53.20, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:28:36] [SIM] 📊 EUR/USD: MACD=0.29, RSI=61.20, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:28:39] [SIM] 📊 DOW: MACD=0.52, RSI=50.20, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:28:41] [SIM] 📊 NATGAS_MINI: MACD=0.71, RSI=51.54, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:28:43] [SIM] 📊 EUR/USD_MINI: MACD=-0.01, RSI=47.02, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 81%)
[2025-04-09 21:28:44] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2128.zip
[2025-04-09 21:33:45] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 21:33:45] 📰 [SIM] News Sentiment：BUY
[2025-04-09 21:33:46] [SIM] 📊 GOLD: MACD=-0.70, RSI=48.26, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:33:48] [SIM] 📊 SILVER: MACD=0.27, RSI=55.19, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:33:51] [SIM] 📊 NATGAS: MACD=-0.56, RSI=47.60, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:33:53] [SIM] 📊 NASDAQ: MACD=0.39, RSI=65.53, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:33:55] [SIM] 📊 APPLE: MACD=-0.57, RSI=48.95, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:33:57] [SIM] 📊 EUR/USD: MACD=1.02, RSI=59.43, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:34:00] [SIM] 📊 DOW: MACD=-0.72, RSI=51.52, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:34:02] [SIM] 📊 NATGAS_MINI: MACD=-0.58, RSI=46.96, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:34:04] [SIM] 📊 EUR/USD_MINI: MACD=-0.65, RSI=47.90, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 82%)
[2025-04-09 21:34:05] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2134.zip
[2025-04-09 21:39:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 21:39:06] 📰 [SIM] News Sentiment：BUY
[2025-04-09 21:39:07] [SIM] 📊 GOLD: MACD=0.27, RSI=46.75, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:39:09] [SIM] 📊 SILVER: MACD=-1.15, RSI=51.12, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:39:11] [SIM] 📊 NATGAS: MACD=-0.05, RSI=52.70, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:39:14] [SIM] 📊 NASDAQ: MACD=-0.23, RSI=49.54, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:39:16] [SIM] 📊 APPLE: MACD=-0.50, RSI=39.74, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:39:18] [SIM] 📊 EUR/USD: MACD=0.51, RSI=48.45, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:39:20] [SIM] 📊 DOW: MACD=0.57, RSI=49.53, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:39:23] [SIM] 📊 NATGAS_MINI: MACD=0.09, RSI=49.33, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:39:25] [SIM] 📊 EUR/USD_MINI: MACD=0.18, RSI=57.20, SIGNAL=NEUTRAL → BUY
  adding: auto_trading_v0408_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 82%)
[2025-04-09 21:39:26] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2139.zip
[2025-04-09 21:44:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 21:44:27] 📰 [SIM] News Sentiment：BUY
[2025-04-09 21:44:28] [SIM] 📊 GOLD: MACD=-0.13, RSI=47.90, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:44:30] [SIM] 📊 SILVER: MACD=-0.73, RSI=52.97, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:44:32] [SIM] 📊 NATGAS: MACD=0.25, RSI=49.59, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:44:34] [SIM] 📊 NASDAQ: MACD=-0.70, RSI=42.97, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:44:37] [SIM] 📊 APPLE: MACD=0.10, RSI=48.99, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:44:39] [SIM] 📊 EUR/USD: MACD=0.81, RSI=54.39, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:44:41] [SIM] 📊 DOW: MACD=-0.42, RSI=52.92, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:44:43] [SIM] 📊 NATGAS_MINI: MACD=-0.34, RSI=50.05, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:44:46] [SIM] 📊 EUR/USD_MINI: MACD=0.18, RSI=44.78, SIGNAL=NEUTRAL → BUY
  adding: auto_trading_v0408_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 83%)
[2025-04-09 21:44:47] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2144.zip
[2025-04-09 21:49:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 21:49:47] 📰 [SIM] News Sentiment：BUY
[2025-04-09 21:49:48] [SIM] 📊 GOLD: MACD=-0.29, RSI=40.64, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:49:51] [SIM] 📊 SILVER: MACD=-0.48, RSI=49.11, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:49:53] [SIM] 📊 NATGAS: MACD=0.79, RSI=61.60, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:49:55] [SIM] 📊 NASDAQ: MACD=-0.23, RSI=51.91, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:49:57] [SIM] 📊 APPLE: MACD=0.24, RSI=47.57, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:50:00] [SIM] 📊 EUR/USD: MACD=-0.01, RSI=48.12, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:50:02] [SIM] 📊 DOW: MACD=-0.00, RSI=53.09, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:50:04] [SIM] 📊 NATGAS_MINI: MACD=-0.83, RSI=47.45, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:50:06] [SIM] 📊 EUR/USD_MINI: MACD=-0.60, RSI=37.57, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 84%)
[2025-04-09 21:50:07] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2150.zip
[2025-04-09 21:55:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 21:55:08] 📰 [SIM] News Sentiment：BUY
[2025-04-09 21:55:09] [SIM] 📊 GOLD: MACD=0.61, RSI=53.55, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:55:11] [SIM] 📊 SILVER: MACD=0.46, RSI=54.38, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:55:14] [SIM] 📊 NATGAS: MACD=-0.45, RSI=47.15, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:55:16] [SIM] 📊 NASDAQ: MACD=-0.08, RSI=51.64, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:55:19] [SIM] 📊 APPLE: MACD=1.04, RSI=55.76, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:55:21] [SIM] 📊 EUR/USD: MACD=0.24, RSI=58.36, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:55:23] [SIM] 📊 DOW: MACD=-0.16, RSI=52.50, SIGNAL=NEUTRAL → SELL
[2025-04-09 21:55:25] [SIM] 📊 NATGAS_MINI: MACD=0.56, RSI=47.41, SIGNAL=NEUTRAL → BUY
[2025-04-09 21:55:28] [SIM] 📊 EUR/USD_MINI: MACD=1.24, RSI=51.36, SIGNAL=NEUTRAL → BUY
  adding: auto_trading_v0408_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 84%)
[2025-04-09 21:55:29] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2155.zip
[2025-04-09 22:00:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:00:29] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:00:31] [SIM] 📊 GOLD: MACD=0.65, RSI=54.19, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:00:33] [SIM] 📊 SILVER: MACD=0.04, RSI=51.64, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:00:35] [SIM] 📊 NATGAS: MACD=0.23, RSI=45.78, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:00:37] [SIM] 📊 NASDAQ: MACD=-0.77, RSI=52.17, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:00:40] [SIM] 📊 APPLE: MACD=0.15, RSI=52.15, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:00:42] [SIM] 📊 EUR/USD: MACD=0.80, RSI=51.39, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:00:44] [SIM] 📊 DOW: MACD=0.04, RSI=37.32, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:00:46] [SIM] 📊 NATGAS_MINI: MACD=-0.25, RSI=50.05, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:00:49] [SIM] 📊 EUR/USD_MINI: MACD=-0.28, RSI=44.33, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 84%)
[2025-04-09 22:00:50] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2200.zip
[2025-04-09 22:05:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:05:51] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:05:52] [SIM] 📊 GOLD: MACD=0.39, RSI=50.10, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:05:54] [SIM] 📊 SILVER: MACD=-0.61, RSI=46.47, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:05:56] [SIM] 📊 NATGAS: MACD=-0.58, RSI=43.46, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:05:59] [SIM] 📊 NASDAQ: MACD=-0.51, RSI=43.53, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:06:01] [SIM] 📊 APPLE: MACD=-0.35, RSI=56.97, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:06:03] [SIM] 📊 EUR/USD: MACD=-0.10, RSI=44.68, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:06:05] [SIM] 📊 DOW: MACD=0.90, RSI=52.41, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:06:08] [SIM] 📊 NATGAS_MINI: MACD=0.65, RSI=51.91, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:06:10] [SIM] 📊 EUR/USD_MINI: MACD=-0.52, RSI=51.40, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 84%)
[2025-04-09 22:06:11] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2206.zip
[2025-04-09 22:11:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:11:12] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:11:13] [SIM] 📊 GOLD: MACD=-0.30, RSI=52.50, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:11:15] [SIM] 📊 SILVER: MACD=0.21, RSI=51.51, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:11:17] [SIM] 📊 NATGAS: MACD=-0.83, RSI=45.23, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:11:20] [SIM] 📊 NASDAQ: MACD=-0.45, RSI=49.31, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:11:22] [SIM] 📊 APPLE: MACD=-0.23, RSI=50.56, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:11:24] [SIM] 📊 EUR/USD: MACD=0.79, RSI=44.98, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:11:26] [SIM] 📊 DOW: MACD=0.23, RSI=53.72, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:11:29] [SIM] 📊 NATGAS_MINI: MACD=0.25, RSI=50.56, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:11:31] [SIM] 📊 EUR/USD_MINI: MACD=0.86, RSI=50.80, SIGNAL=NEUTRAL → BUY
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 85%)
[2025-04-09 22:11:32] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2211.zip
nohup: ignoring input
[2025-04-09 22:16:10] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest
[2025-04-09 22:16:10] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-09 22:16:10] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-09 22:16:11] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:16:11] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:16:14] 📊 [SIM] NASDAQ: MACD=-1.75, RSI=50.23, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:16:15] 📊 [SIM] EUR/USD: MACD=-0.19, RSI=54.23, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:16:17] 📊 [SIM] EUR/USD_MINI: MACD=-0.12, RSI=49.58, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:16:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:16:33] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:16:34] [SIM] 📊 GOLD: MACD=-0.07, RSI=46.21, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:16:36] [SIM] 📊 SILVER: MACD=1.43, RSI=54.92, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:16:38] [SIM] 📊 NATGAS: MACD=0.66, RSI=55.96, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:16:41] [SIM] 📊 NASDAQ: MACD=-0.26, RSI=52.97, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:16:43] [SIM] 📊 APPLE: MACD=0.34, RSI=65.20, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:16:45] [SIM] 📊 EUR/USD: MACD=1.05, RSI=56.92, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:16:47] [SIM] 📊 DOW: MACD=-0.23, RSI=47.83, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:16:50] [SIM] 📊 NATGAS_MINI: MACD=0.75, RSI=47.96, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:16:52] [SIM] 📊 EUR/USD_MINI: MACD=-1.05, RSI=41.61, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 85%)
[2025-04-09 22:16:53] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2216.zip
nohup: ignoring input
[2025-04-09 22:19:09] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest
[2025-04-09 22:19:09] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-09 22:19:09] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-09 22:19:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:19:10] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:19:13] 📊 [SIM] NASDAQ: MACD=0.82, RSI=50.23, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:19:14] 📊 [SIM] EUR/USD: MACD=-0.23, RSI=50.69, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:19:16] 📊 [SIM] EUR/USD_MINI: MACD=1.01, RSI=53.85, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:21:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:21:17] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:21:20] 📊 [SIM] NASDAQ: MACD=-0.12, RSI=42.55, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:21:21] 📊 [SIM] EUR/USD: MACD=0.90, RSI=55.93, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:21:23] 📊 [SIM] EUR/USD_MINI: MACD=0.94, RSI=52.59, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:21:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:21:53] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:21:55] [SIM] 📊 GOLD: MACD=0.63, RSI=50.88, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:21:57] [SIM] 📊 SILVER: MACD=0.07, RSI=52.11, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:21:59] [SIM] 📊 NATGAS: MACD=0.50, RSI=52.24, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:22:01] [SIM] 📊 NASDAQ: MACD=-1.12, RSI=53.03, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:22:04] [SIM] 📊 APPLE: MACD=-0.39, RSI=45.58, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:22:06] [SIM] 📊 EUR/USD: MACD=0.96, RSI=51.12, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:22:08] [SIM] 📊 DOW: MACD=0.65, RSI=51.00, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:22:10] [SIM] 📊 NATGAS_MINI: MACD=-0.49, RSI=45.80, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:22:12] [SIM] 📊 EUR/USD_MINI: MACD=1.06, RSI=57.47, SIGNAL=NEUTRAL → BUY
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 85%)
[2025-04-09 22:22:13] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2222.zip
[2025-04-09 22:24:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:24:16] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:24:19] 📊 [SIM] NASDAQ: MACD=0.38, RSI=43.96, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:24:20] 📊 [SIM] EUR/USD: MACD=-0.23, RSI=48.99, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:24:22] 📊 [SIM] EUR/USD_MINI: MACD=0.29, RSI=46.42, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:26:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:26:23] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:26:26] 📊 [SIM] NASDAQ: MACD=-0.03, RSI=50.61, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:26:28] 📊 [SIM] EUR/USD: MACD=0.09, RSI=46.53, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:26:30] 📊 [SIM] EUR/USD_MINI: MACD=0.60, RSI=50.20, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:27:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:27:14] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:27:16] [SIM] 📊 GOLD: MACD=0.96, RSI=56.63, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:27:18] [SIM] 📊 SILVER: MACD=-0.13, RSI=49.88, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:27:21] [SIM] 📊 NATGAS: MACD=0.75, RSI=48.61, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:27:23] [SIM] 📊 NASDAQ: MACD=-0.64, RSI=41.58, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:27:26] [SIM] 📊 APPLE: MACD=0.60, RSI=49.07, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:27:28] [SIM] 📊 EUR/USD: MACD=-0.26, RSI=53.84, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:27:30] [SIM] 📊 DOW: MACD=0.31, RSI=50.04, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:27:32] [SIM] 📊 NATGAS_MINI: MACD=0.33, RSI=53.28, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:27:34] [SIM] 📊 EUR/USD_MINI: MACD=-0.23, RSI=49.27, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 56%)
  adding: sim_trading_log.txt (deflated 86%)
[2025-04-09 22:27:35] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2227.zip
[2025-04-09 22:29:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:29:22] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:29:26] 📊 [SIM] NASDAQ: MACD=0.27, RSI=49.43, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:29:27] 📊 [SIM] EUR/USD: MACD=-0.61, RSI=44.27, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:29:29] 📊 [SIM] EUR/USD_MINI: MACD=-1.17, RSI=49.36, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:31:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:31:31] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:31:33] 📊 [SIM] NASDAQ: MACD=-0.33, RSI=43.22, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:31:35] 📊 [SIM] EUR/USD: MACD=-0.21, RSI=58.26, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:31:37] 📊 [SIM] EUR/USD_MINI: MACD=0.07, RSI=42.99, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:32:36] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:32:36] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:32:37] [SIM] 📊 GOLD: MACD=-0.32, RSI=51.56, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:32:39] [SIM] 📊 SILVER: MACD=-0.15, RSI=47.46, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:32:42] [SIM] 📊 NATGAS: MACD=0.50, RSI=52.24, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:32:44] [SIM] 📊 NASDAQ: MACD=1.27, RSI=50.94, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:32:46] [SIM] 📊 APPLE: MACD=0.03, RSI=53.31, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:32:48] [SIM] 📊 EUR/USD: MACD=0.55, RSI=50.14, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:32:51] [SIM] 📊 DOW: MACD=-0.97, RSI=37.49, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:32:53] [SIM] 📊 NATGAS_MINI: MACD=0.78, RSI=48.86, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:32:55] [SIM] 📊 EUR/USD_MINI: MACD=0.34, RSI=58.38, SIGNAL=NEUTRAL → BUY
  adding: auto_trading_v0408_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 86%)
[2025-04-09 22:32:56] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2232.zip
[2025-04-09 22:34:30] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:34:30] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:34:33] 📊 [SIM] NASDAQ: MACD=0.33, RSI=47.45, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:34:34] 📊 [SIM] EUR/USD: MACD=1.01, RSI=56.43, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:34:36] 📊 [SIM] EUR/USD_MINI: MACD=-0.19, RSI=56.16, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:36:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:36:38] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:36:40] 📊 [SIM] NASDAQ: MACD=0.10, RSI=49.35, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:36:42] 📊 [SIM] EUR/USD: MACD=0.08, RSI=52.31, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:36:44] 📊 [SIM] EUR/USD_MINI: MACD=0.07, RSI=54.29, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:37:57] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:37:57] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:37:58] [SIM] 📊 GOLD: MACD=-0.47, RSI=52.18, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:38:00] [SIM] 📊 SILVER: MACD=-0.07, RSI=51.57, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:38:03] [SIM] 📊 NATGAS: MACD=0.36, RSI=49.21, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:38:05] [SIM] 📊 NASDAQ: MACD=-0.21, RSI=48.85, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:38:07] [SIM] 📊 APPLE: MACD=-0.23, RSI=49.39, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:38:09] [SIM] 📊 EUR/USD: MACD=-0.49, RSI=38.45, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:38:12] [SIM] 📊 DOW: MACD=-0.04, RSI=48.90, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:38:14] [SIM] 📊 NATGAS_MINI: MACD=-0.56, RSI=46.55, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:38:16] [SIM] 📊 EUR/USD_MINI: MACD=-1.40, RSI=45.31, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 86%)
[2025-04-09 22:38:17] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2238.zip
[2025-04-09 22:39:37] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:39:37] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:39:40] 📊 [SIM] NASDAQ: MACD=-0.31, RSI=53.09, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:39:41] 📊 [SIM] EUR/USD: MACD=0.46, RSI=48.74, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:39:43] 📊 [SIM] EUR/USD_MINI: MACD=0.12, RSI=51.32, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:41:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:41:44] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:41:47] 📊 [SIM] NASDAQ: MACD=-0.69, RSI=44.65, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:41:48] 📊 [SIM] EUR/USD: MACD=-0.56, RSI=44.75, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:41:50] 📊 [SIM] EUR/USD_MINI: MACD=0.33, RSI=48.95, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:43:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:43:18] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:43:19] [SIM] 📊 GOLD: MACD=-0.34, RSI=48.16, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:43:21] [SIM] 📊 SILVER: MACD=-0.72, RSI=44.27, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:43:24] [SIM] 📊 NATGAS: MACD=0.15, RSI=51.64, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:43:26] [SIM] 📊 NASDAQ: MACD=-0.73, RSI=41.07, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:43:28] [SIM] 📊 APPLE: MACD=-0.96, RSI=55.34, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:43:31] [SIM] 📊 EUR/USD: MACD=-0.53, RSI=53.66, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:43:33] [SIM] 📊 DOW: MACD=-0.41, RSI=45.68, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:43:35] [SIM] 📊 NATGAS_MINI: MACD=0.63, RSI=49.61, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:43:37] [SIM] 📊 EUR/USD_MINI: MACD=-0.19, RSI=47.94, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 86%)
[2025-04-09 22:43:38] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2243.zip
[2025-04-09 22:44:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:44:44] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:44:46] 📊 [SIM] NASDAQ: MACD=-0.13, RSI=51.90, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:44:48] 📊 [SIM] EUR/USD: MACD=0.09, RSI=47.32, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:44:50] 📊 [SIM] EUR/USD_MINI: MACD=0.52, RSI=49.01, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:46:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:46:51] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:46:54] 📊 [SIM] NASDAQ: MACD=0.22, RSI=57.44, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:46:55] 📊 [SIM] EUR/USD: MACD=-1.20, RSI=47.03, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:46:57] 📊 [SIM] EUR/USD_MINI: MACD=0.42, RSI=59.06, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:48:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:48:39] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:48:41] [SIM] 📊 GOLD: MACD=-1.06, RSI=29.96, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:48:43] [SIM] 📊 SILVER: MACD=0.39, RSI=45.26, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:48:45] [SIM] 📊 NATGAS: MACD=-0.54, RSI=48.57, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:48:47] [SIM] 📊 NASDAQ: MACD=-0.56, RSI=45.21, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:48:50] [SIM] 📊 APPLE: MACD=0.62, RSI=47.89, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:48:52] [SIM] 📊 EUR/USD: MACD=-0.22, RSI=54.72, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:48:54] [SIM] 📊 DOW: MACD=0.09, RSI=51.16, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:48:56] [SIM] 📊 NATGAS_MINI: MACD=0.07, RSI=54.79, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:48:59] [SIM] 📊 EUR/USD_MINI: MACD=-0.74, RSI=46.21, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 87%)
[2025-04-09 22:49:00] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2249.zip
[2025-04-09 22:49:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:49:51] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:49:53] 📊 [SIM] NASDAQ: MACD=-0.37, RSI=46.44, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:49:55] 📊 [SIM] EUR/USD: MACD=0.40, RSI=50.06, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:49:56] 📊 [SIM] EUR/USD_MINI: MACD=0.35, RSI=55.77, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:51:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:51:58] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:52:01] 📊 [SIM] NASDAQ: MACD=0.47, RSI=47.67, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:52:02] 📊 [SIM] EUR/USD: MACD=-0.32, RSI=53.72, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:52:04] 📊 [SIM] EUR/USD_MINI: MACD=0.07, RSI=50.49, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:54:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:54:00] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:54:02] [SIM] 📊 GOLD: MACD=0.43, RSI=53.35, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:54:04] [SIM] 📊 SILVER: MACD=0.25, RSI=55.27, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:54:06] [SIM] 📊 NATGAS: MACD=0.01, RSI=53.99, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:54:08] [SIM] 📊 NASDAQ: MACD=-0.38, RSI=47.88, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:54:11] [SIM] 📊 APPLE: MACD=0.28, RSI=48.19, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:54:13] [SIM] 📊 EUR/USD: MACD=0.10, RSI=47.75, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:54:15] [SIM] 📊 DOW: MACD=-0.37, RSI=48.87, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:54:17] [SIM] 📊 NATGAS_MINI: MACD=-1.23, RSI=49.65, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:54:20] [SIM] 📊 EUR/USD_MINI: MACD=0.33, RSI=54.80, SIGNAL=NEUTRAL → BUY
  adding: auto_trading_v0408_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 87%)
[2025-04-09 22:54:21] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2254.zip
[2025-04-09 22:54:57] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:54:57] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:55:00] 📊 [SIM] NASDAQ: MACD=0.51, RSI=52.90, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:55:01] 📊 [SIM] EUR/USD: MACD=-0.03, RSI=53.79, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:55:03] 📊 [SIM] EUR/USD_MINI: MACD=0.18, RSI=49.81, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:57:05] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:57:05] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:57:07] 📊 [SIM] NASDAQ: MACD=-0.75, RSI=41.29, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:57:09] 📊 [SIM] EUR/USD: MACD=0.09, RSI=49.32, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:57:11] 📊 [SIM] EUR/USD_MINI: MACD=0.19, RSI=52.92, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:59:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 22:59:22] 📰 [SIM] News Sentiment：BUY
[2025-04-09 22:59:23] [SIM] 📊 GOLD: MACD=-0.40, RSI=47.33, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:59:25] [SIM] 📊 SILVER: MACD=-0.05, RSI=50.88, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:59:28] [SIM] 📊 NATGAS: MACD=-0.58, RSI=50.69, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:59:30] [SIM] 📊 NASDAQ: MACD=-0.16, RSI=55.95, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:59:32] [SIM] 📊 APPLE: MACD=0.10, RSI=45.79, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:59:34] [SIM] 📊 EUR/USD: MACD=-0.46, RSI=54.30, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:59:37] [SIM] 📊 DOW: MACD=0.17, RSI=47.68, SIGNAL=NEUTRAL → BUY
[2025-04-09 22:59:39] [SIM] 📊 NATGAS_MINI: MACD=-1.58, RSI=40.52, SIGNAL=NEUTRAL → SELL
[2025-04-09 22:59:41] [SIM] 📊 EUR/USD_MINI: MACD=0.33, RSI=49.61, SIGNAL=NEUTRAL → BUY
  adding: auto_trading_v0408_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 87%)
[2025-04-09 22:59:42] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2259.zip
[2025-04-09 23:00:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:00:04] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:00:06] 📊 [SIM] NASDAQ: MACD=0.48, RSI=52.00, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:00:08] 📊 [SIM] EUR/USD: MACD=0.16, RSI=46.70, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:00:10] 📊 [SIM] EUR/USD_MINI: MACD=-0.77, RSI=50.89, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:02:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:02:13] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:02:15] 📊 [SIM] NASDAQ: MACD=0.02, RSI=45.28, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:02:16] 📊 [SIM] EUR/USD: MACD=-0.43, RSI=46.01, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:02:18] 📊 [SIM] EUR/USD_MINI: MACD=-1.10, RSI=44.76, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:04:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:04:43] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:04:44] [SIM] 📊 GOLD: MACD=-0.30, RSI=50.99, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:04:46] [SIM] 📊 SILVER: MACD=0.33, RSI=52.74, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:04:49] [SIM] 📊 NATGAS: MACD=-1.06, RSI=43.36, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:04:51] [SIM] 📊 NASDAQ: MACD=0.69, RSI=55.24, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:04:53] [SIM] 📊 APPLE: MACD=-1.17, RSI=45.19, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:04:55] [SIM] 📊 EUR/USD: MACD=-0.33, RSI=51.97, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:04:57] [SIM] 📊 DOW: MACD=0.42, RSI=51.03, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:05:00] [SIM] 📊 NATGAS_MINI: MACD=0.35, RSI=50.36, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:05:02] [SIM] 📊 EUR/USD_MINI: MACD=-0.22, RSI=46.77, SIGNAL=NEUTRAL → SELL
  adding: auto_trading_v0408_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 87%)
[2025-04-09 23:05:03] 🗃️ [SIM] 備份完成：Final_Trading_SimBackup_20250409_2305.zip
[2025-04-09 23:05:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:05:10] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:05:13] 📊 [SIM] NASDAQ: MACD=-0.39, RSI=42.56, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:05:14] 📊 [SIM] EUR/USD: MACD=-0.44, RSI=46.26, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:05:16] 📊 [SIM] EUR/USD_MINI: MACD=-0.22, RSI=45.22, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:10:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:10:16] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:10:19] 📊 [SIM] NASDAQ: MACD=0.24, RSI=47.24, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:10:20] 📊 [SIM] EUR/USD: MACD=-0.07, RSI=45.63, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:10:22] 📊 [SIM] EUR/USD_MINI: MACD=0.27, RSI=52.68, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:15:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:15:23] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:15:25] 📊 [SIM] NASDAQ: MACD=0.58, RSI=50.66, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:15:26] 📊 [SIM] EUR/USD: MACD=0.95, RSI=52.81, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:15:28] 📊 [SIM] EUR/USD_MINI: MACD=0.34, RSI=49.91, SIGNAL=NEUTRAL → BUY
nohup: ignoring input
[2025-04-09 23:17:47] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest
[2025-04-09 23:17:47] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-09 23:17:47] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-09 23:17:48] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:17:48] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:17:51] 📊 [SIM] NASDAQ: MACD=0.64, RSI=54.55, Direction=BUY
[2025-04-09 23:17:51] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:17:52] 📊 [SIM] EUR/USD: MACD=-0.28, RSI=47.77, Direction=SELL
[2025-04-09 23:17:52] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:17:54] 📊 [SIM] EUR/USD_MINI: MACD=1.69, RSI=53.99, Direction=BUY
[2025-04-09 23:17:54] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:20:28] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:20:28] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:20:31] 📊 [SIM] NASDAQ: MACD=-0.34, RSI=51.11, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:20:32] 📊 [SIM] EUR/USD: MACD=-0.26, RSI=43.34, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:20:34] 📊 [SIM] EUR/USD_MINI: MACD=-0.38, RSI=43.96, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:22:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:22:56] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:22:58] 📊 [SIM] NASDAQ: MACD=0.28, RSI=44.81, Direction=BUY
[2025-04-09 23:22:59] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:23:00] 📊 [SIM] EUR/USD: MACD=-0.36, RSI=54.23, Direction=SELL
[2025-04-09 23:23:00] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:23:02] 📊 [SIM] EUR/USD_MINI: MACD=0.84, RSI=58.27, Direction=BUY
[2025-04-09 23:23:02] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:25:34] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:25:34] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:25:37] 📊 [SIM] NASDAQ: MACD=0.26, RSI=50.18, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:25:38] 📊 [SIM] EUR/USD: MACD=0.18, RSI=54.71, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:25:40] 📊 [SIM] EUR/USD_MINI: MACD=-0.79, RSI=48.85, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:28:03] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:28:03] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:28:05] 📊 [SIM] NASDAQ: MACD=1.19, RSI=54.04, Direction=BUY
[2025-04-09 23:28:05] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:28:07] 📊 [SIM] EUR/USD: MACD=0.14, RSI=50.73, Direction=BUY
[2025-04-09 23:28:07] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:28:09] 📊 [SIM] EUR/USD_MINI: MACD=-0.30, RSI=52.93, Direction=SELL
[2025-04-09 23:28:09] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:30:41] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:30:41] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:30:43] 📊 [SIM] NASDAQ: MACD=-0.05, RSI=48.87, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:30:44] 📊 [SIM] EUR/USD: MACD=1.02, RSI=51.02, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:30:46] 📊 [SIM] EUR/USD_MINI: MACD=-0.12, RSI=48.83, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:33:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:33:10] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:33:12] 📊 [SIM] NASDAQ: MACD=0.49, RSI=53.91, Direction=BUY
[2025-04-09 23:33:12] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:33:14] 📊 [SIM] EUR/USD: MACD=0.34, RSI=45.20, Direction=BUY
[2025-04-09 23:33:14] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:33:16] 📊 [SIM] EUR/USD_MINI: MACD=0.06, RSI=52.59, Direction=BUY
[2025-04-09 23:33:16] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:35:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:35:47] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:35:49] 📊 [SIM] NASDAQ: MACD=0.30, RSI=50.68, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:35:51] 📊 [SIM] EUR/USD: MACD=-0.42, RSI=43.14, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:35:52] 📊 [SIM] EUR/USD_MINI: MACD=-0.74, RSI=46.54, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:38:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:38:17] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:38:19] 📊 [SIM] NASDAQ: MACD=0.10, RSI=41.25, Direction=BUY
[2025-04-09 23:38:19] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:38:21] 📊 [SIM] EUR/USD: MACD=-0.03, RSI=50.15, Direction=SELL
[2025-04-09 23:38:21] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:38:23] 📊 [SIM] EUR/USD_MINI: MACD=-0.40, RSI=53.61, Direction=SELL
[2025-04-09 23:38:23] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
nohup: ignoring input
[2025-04-09 23:40:07] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Fixed
[2025-04-09 23:40:07] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-09 23:40:07] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-09 23:40:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:40:09] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:40:11] 📊 [SIM] NASDAQ: MACD=-0.57, RSI=54.88, Direction=SELL
[2025-04-09 23:40:11] ✅ [SIM] 下單成功：SELL IX.D.NASDAQ.IFM.IP size=0.1
[2025-04-09 23:40:12] 📊 [SIM] EUR/USD: MACD=0.54, RSI=56.86, Direction=BUY
[2025-04-09 23:40:13] ✅ [SIM] 下單成功：BUY CS.D.EURUSD.CFD.IP size=0.1
[2025-04-09 23:40:15] 📊 [SIM] EUR/USD_MINI: MACD=-0.22, RSI=44.38, Direction=SELL
[2025-04-09 23:40:15] ✅ [SIM] 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-09 23:40:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:40:53] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:40:56] 📊 [SIM] NASDAQ: MACD=-0.24, RSI=54.89, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:40:57] 📊 [SIM] EUR/USD: MACD=-0.12, RSI=51.68, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:40:59] 📊 [SIM] EUR/USD_MINI: MACD=0.48, RSI=47.76, SIGNAL=NEUTRAL → BUY
nohup: ignoring input
[2025-04-09 23:43:15] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Fixed
[2025-04-09 23:43:15] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-09 23:43:15] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-09 23:43:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:43:16] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:43:18] 📊 [SIM] NASDAQ: MACD=-0.88, RSI=50.86, Direction=SELL
[2025-04-09 23:43:18] ✅ [SIM] 下單成功：SELL IX.D.NASDAQ.IFM.IP size=0.1
[2025-04-09 23:43:20] 📊 [SIM] EUR/USD: MACD=-0.27, RSI=52.92, Direction=SELL
[2025-04-09 23:43:20] ✅ [SIM] 下單成功：SELL CS.D.EURUSD.CFD.IP size=0.1
[2025-04-09 23:43:22] 📊 [SIM] EUR/USD_MINI: MACD=1.00, RSI=49.85, Direction=BUY
[2025-04-09 23:43:22] ✅ [SIM] 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-09 23:43:24] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:43:24] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:43:27] 📊 [SIM] NASDAQ: MACD=-0.00, RSI=50.56, Direction=SELL
[2025-04-09 23:43:27] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:43:28] 📊 [SIM] EUR/USD: MACD=0.73, RSI=63.20, Direction=BUY
[2025-04-09 23:43:28] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:43:30] 📊 [SIM] EUR/USD_MINI: MACD=1.69, RSI=57.70, Direction=BUY
[2025-04-09 23:43:31] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:45:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:45:15] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:45:18] 📊 [SIM] NASDAQ: MACD=-0.36, RSI=55.57, Direction=SELL
[2025-04-09 23:45:18] ✅ [SIM] 下單成功：SELL IX.D.NASDAQ.IFM.IP size=0.1
[2025-04-09 23:45:19] 📊 [SIM] EUR/USD: MACD=0.40, RSI=46.26, Direction=BUY
[2025-04-09 23:45:20] ✅ [SIM] 下單成功：BUY CS.D.EURUSD.CFD.IP size=0.1
[2025-04-09 23:45:22] 📊 [SIM] EUR/USD_MINI: MACD=-0.59, RSI=47.65, Direction=SELL
[2025-04-09 23:45:22] ✅ [SIM] 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-09 23:46:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:46:00] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:46:02] 📊 [SIM] NASDAQ: MACD=0.80, RSI=61.18, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:46:03] 📊 [SIM] EUR/USD: MACD=0.30, RSI=54.25, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:46:05] 📊 [SIM] EUR/USD_MINI: MACD=-0.05, RSI=46.30, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:48:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:48:23] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:48:25] 📊 [SIM] NASDAQ: MACD=0.27, RSI=46.01, Direction=BUY
[2025-04-09 23:48:26] ✅ [SIM] 下單成功：BUY IX.D.NASDAQ.IFM.IP size=0.1
[2025-04-09 23:48:27] 📊 [SIM] EUR/USD: MACD=0.64, RSI=51.06, Direction=BUY
[2025-04-09 23:48:27] ✅ [SIM] 下單成功：BUY CS.D.EURUSD.CFD.IP size=0.1
[2025-04-09 23:48:29] 📊 [SIM] EUR/USD_MINI: MACD=0.43, RSI=52.68, Direction=BUY
[2025-04-09 23:48:29] ✅ [SIM] 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-09 23:48:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:48:31] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:48:34] 📊 [SIM] NASDAQ: MACD=0.37, RSI=46.59, Direction=BUY
[2025-04-09 23:48:34] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:48:35] 📊 [SIM] EUR/USD: MACD=-0.39, RSI=48.71, Direction=SELL
[2025-04-09 23:48:35] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:48:37] 📊 [SIM] EUR/USD_MINI: MACD=-0.51, RSI=51.43, Direction=SELL
[2025-04-09 23:48:38] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:50:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:50:23] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:50:25] 📊 [SIM] NASDAQ: MACD=1.44, RSI=49.03, Direction=BUY
[2025-04-09 23:50:26] ✅ [SIM] 下單成功：BUY IX.D.NASDAQ.IFM.IP size=0.1
[2025-04-09 23:50:27] 📊 [SIM] EUR/USD: MACD=0.26, RSI=49.03, Direction=BUY
[2025-04-09 23:50:27] ✅ [SIM] 下單成功：BUY CS.D.EURUSD.CFD.IP size=0.1
[2025-04-09 23:50:29] 📊 [SIM] EUR/USD_MINI: MACD=0.93, RSI=53.82, Direction=BUY
[2025-04-09 23:50:29] ✅ [SIM] 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-09 23:51:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:51:06] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:51:08] 📊 [SIM] NASDAQ: MACD=0.13, RSI=49.57, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:51:09] 📊 [SIM] EUR/USD: MACD=-1.14, RSI=48.98, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:51:11] 📊 [SIM] EUR/USD_MINI: MACD=-1.23, RSI=44.41, SIGNAL=NEUTRAL → SELL
[2025-04-09 23:53:30] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:53:30] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:53:33] 📊 [SIM] NASDAQ: MACD=-2.09, RSI=35.57, Direction=SELL
[2025-04-09 23:53:33] ✅ [SIM] 下單成功：SELL IX.D.NASDAQ.IFM.IP size=0.1
[2025-04-09 23:53:34] 📊 [SIM] EUR/USD: MACD=0.25, RSI=56.22, Direction=BUY
[2025-04-09 23:53:34] ✅ [SIM] 下單成功：BUY CS.D.EURUSD.CFD.IP size=0.1
[2025-04-09 23:53:36] 📊 [SIM] EUR/USD_MINI: MACD=-0.07, RSI=55.01, Direction=SELL
[2025-04-09 23:53:36] ✅ [SIM] 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-09 23:53:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:53:38] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:53:41] 📊 [SIM] NASDAQ: MACD=-0.21, RSI=54.07, Direction=SELL
[2025-04-09 23:53:41] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:53:42] 📊 [SIM] EUR/USD: MACD=-1.14, RSI=44.63, Direction=SELL
[2025-04-09 23:53:43] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:53:44] 📊 [SIM] EUR/USD_MINI: MACD=-0.09, RSI=47.40, Direction=SELL
[2025-04-09 23:53:45] ❌ [SIM] 下單失敗：400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-09 23:55:30] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:55:30] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:55:32] 📊 [SIM] NASDAQ: MACD=-0.21, RSI=47.57, Direction=SELL
[2025-04-09 23:55:33] ✅ [SIM] 下單成功：SELL IX.D.NASDAQ.IFM.IP size=0.1
[2025-04-09 23:55:34] 📊 [SIM] EUR/USD: MACD=-0.49, RSI=51.95, Direction=SELL
[2025-04-09 23:55:34] ✅ [SIM] 下單成功：SELL CS.D.EURUSD.CFD.IP size=0.1
[2025-04-09 23:55:36] 📊 [SIM] EUR/USD_MINI: MACD=0.54, RSI=53.76, Direction=BUY
[2025-04-09 23:55:36] ✅ [SIM] 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-09 23:56:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:56:12] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:56:14] 📊 [SIM] NASDAQ: MACD=0.71, RSI=54.05, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:56:15] 📊 [SIM] EUR/USD: MACD=0.26, RSI=53.45, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:56:17] 📊 [SIM] EUR/USD_MINI: MACD=0.02, RSI=48.92, SIGNAL=NEUTRAL → BUY
[2025-04-09 23:58:37] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-09 23:58:37] 📰 [SIM] News Sentiment：BUY
[2025-04-09 23:58:40] 📊 [SIM] NASDAQ: MACD=-0.07, RSI=53.41, Direction=SELL
[2025-04-09 23:58:40] ✅ [SIM] 下單成功：SELL IX.D.NASDAQ.IFM.IP size=0.1
[2025-04-09 23:58:41] 📊 [SIM] EUR/USD: MACD=-1.26, RSI=38.22, Direction=SELL
[2025-04-09 23:58:42] ✅ [SIM] 下單成功：SELL CS.D.EURUSD.CFD.IP size=0.1
[2025-04-09 23:58:44] 📊 [SIM] EUR/USD_MINI: MACD=-0.17, RSI=50.06, Direction=SELL
[2025-04-09 23:58:44] ✅ [SIM] 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 00:03:44] ⏹️ [SIM] 已達到 00:00，自動結束模擬交易任務
[KALEN-SIM] ⚙️ 啟動模擬版本：0408-MiniVer.2+SimTest-Fixed
[KALEN-SIM] 📂 路徑：/home/hmtf000001/auto_trading_v0408_sim.py
-e 
[2025-04-10 06:55:01] 🔍 清晨提示：目前自動交易系統進程 PID 狀況如下：
[2025-04-10 07:00:02] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Fixed
[2025-04-10 07:00:02] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-10 07:00:02] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 07:00:03] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:00:03] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:00:04] 📊 [SIM] EUR/USD_MINI: MACD=-0.05, RSI=48.95, Direction=SELL
[2025-04-10 07:00:04] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:05:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:05:06] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:05:06] 📊 [SIM] EUR/USD_MINI: MACD=0.32, RSI=48.91, Direction=BUY
[2025-04-10 07:05:07] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:10:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:10:09] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:10:10] 📊 [SIM] EUR/USD_MINI: MACD=0.31, RSI=50.77, Direction=BUY
[2025-04-10 07:10:10] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:15:11] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:15:11] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:15:12] 📊 [SIM] EUR/USD_MINI: MACD=0.45, RSI=55.24, Direction=BUY
[2025-04-10 07:15:12] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:20:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:20:13] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:20:14] 📊 [SIM] EUR/USD_MINI: MACD=-0.90, RSI=43.98, Direction=SELL
[2025-04-10 07:20:14] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:25:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:25:16] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:25:16] 📊 [SIM] EUR/USD_MINI: MACD=-0.34, RSI=44.48, Direction=SELL
[2025-04-10 07:25:17] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:30:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:30:18] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:30:19] 📊 [SIM] EUR/USD_MINI: MACD=-0.03, RSI=47.59, Direction=SELL
[2025-04-10 07:30:19] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:35:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:35:20] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:35:21] 📊 [SIM] EUR/USD_MINI: MACD=-1.29, RSI=45.42, Direction=SELL
[2025-04-10 07:35:21] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:40:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:40:23] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:40:23] 📊 [SIM] EUR/USD_MINI: MACD=0.59, RSI=54.16, Direction=BUY
[2025-04-10 07:40:23] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:45:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:45:25] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:45:25] 📊 [SIM] EUR/USD_MINI: MACD=-0.36, RSI=49.76, Direction=SELL
[2025-04-10 07:45:26] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:50:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:50:27] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:50:27] 📊 [SIM] EUR/USD_MINI: MACD=-0.14, RSI=49.11, Direction=SELL
[2025-04-10 07:50:28] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 07:55:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 07:55:29] 📰 [SIM] News Sentiment：BUY
[2025-04-10 07:55:30] 📊 [SIM] EUR/USD_MINI: MACD=-0.53, RSI=45.92, Direction=SELL
[2025-04-10 07:55:30] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:00:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:00:31] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:00:32] 📊 [SIM] EUR/USD_MINI: MACD=1.18, RSI=47.57, Direction=BUY
[2025-04-10 08:00:32] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:05:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:05:33] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:05:34] 📊 [SIM] EUR/USD_MINI: MACD=0.56, RSI=52.75, Direction=BUY
[2025-04-10 08:05:34] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:10:36] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:10:36] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:10:36] 📊 [SIM] EUR/USD_MINI: MACD=0.05, RSI=51.92, Direction=BUY
[2025-04-10 08:10:37] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:15:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:15:38] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:15:39] 📊 [SIM] EUR/USD_MINI: MACD=-0.46, RSI=47.56, Direction=SELL
[2025-04-10 08:15:39] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:20:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:20:40] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:20:41] 📊 [SIM] EUR/USD_MINI: MACD=0.09, RSI=45.32, Direction=BUY
[2025-04-10 08:20:41] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:25:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:25:42] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:25:43] 📊 [SIM] EUR/USD_MINI: MACD=0.16, RSI=46.00, Direction=BUY
[2025-04-10 08:25:43] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:30:45] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:30:45] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:30:46] 📊 [SIM] EUR/USD_MINI: MACD=0.41, RSI=48.29, Direction=BUY
[2025-04-10 08:30:46] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:35:48] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:35:48] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:35:49] 📊 [SIM] EUR/USD_MINI: MACD=-0.23, RSI=56.45, Direction=SELL
[2025-04-10 08:35:49] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:40:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:40:50] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:40:51] 📊 [SIM] EUR/USD_MINI: MACD=-0.56, RSI=52.74, Direction=SELL
[2025-04-10 08:40:51] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:45:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:45:52] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:45:53] 📊 [SIM] EUR/USD_MINI: MACD=-0.37, RSI=52.78, Direction=SELL
[2025-04-10 08:45:53] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:50:54] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:50:54] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:50:55] 📊 [SIM] EUR/USD_MINI: MACD=-0.91, RSI=53.08, Direction=SELL
[2025-04-10 08:50:55] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 08:55:57] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 08:55:57] 📰 [SIM] News Sentiment：BUY
[2025-04-10 08:55:57] 📊 [SIM] EUR/USD_MINI: MACD=0.17, RSI=52.32, Direction=BUY
[2025-04-10 08:55:58] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:00:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:00:59] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:01:00] 📊 [SIM] EUR/USD_MINI: MACD=-0.66, RSI=50.87, Direction=SELL
[2025-04-10 09:01:00] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:06:01] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:06:01] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:06:02] 📊 [SIM] EUR/USD_MINI: MACD=0.06, RSI=51.07, Direction=BUY
[2025-04-10 09:06:02] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:11:03] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:11:03] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:11:04] 📊 [SIM] EUR/USD_MINI: MACD=1.38, RSI=52.39, Direction=BUY
[2025-04-10 09:11:04] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:16:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:16:06] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:16:06] 📊 [SIM] EUR/USD_MINI: MACD=-0.77, RSI=42.84, Direction=SELL
[2025-04-10 09:16:07] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:21:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:21:08] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:21:09] 📊 [SIM] EUR/USD_MINI: MACD=0.95, RSI=52.01, Direction=BUY
[2025-04-10 09:21:09] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:26:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:26:10] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:26:11] 📊 [SIM] EUR/USD_MINI: MACD=-0.55, RSI=45.97, Direction=SELL
[2025-04-10 09:26:11] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:31:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:31:15] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:31:16] 📊 [SIM] EUR/USD_MINI: MACD=0.14, RSI=53.62, Direction=BUY
[2025-04-10 09:31:16] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:36:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:36:17] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:36:18] 📊 [SIM] EUR/USD_MINI: MACD=0.81, RSI=59.98, Direction=BUY
[2025-04-10 09:36:18] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:41:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:41:19] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:41:20] 📊 [SIM] EUR/USD_MINI: MACD=0.87, RSI=58.46, Direction=BUY
[2025-04-10 09:41:20] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:46:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:46:22] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:46:22] 📊 [SIM] EUR/USD_MINI: MACD=-1.22, RSI=48.20, Direction=SELL
[2025-04-10 09:46:23] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:51:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:51:25] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:51:25] 📊 [SIM] EUR/USD_MINI: MACD=-0.11, RSI=52.35, Direction=SELL
[2025-04-10 09:51:26] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 09:56:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 09:56:27] 📰 [SIM] News Sentiment：BUY
[2025-04-10 09:56:28] 📊 [SIM] EUR/USD_MINI: MACD=-0.42, RSI=52.89, Direction=SELL
[2025-04-10 09:56:28] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:01:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:01:29] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:01:30] 📊 [SIM] EUR/USD_MINI: MACD=0.06, RSI=52.41, Direction=BUY
[2025-04-10 10:01:30] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:06:32] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:06:32] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:06:32] 📊 [SIM] EUR/USD_MINI: MACD=-0.01, RSI=49.68, Direction=SELL
[2025-04-10 10:06:32] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:11:34] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:11:34] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:11:35] 📊 [SIM] EUR/USD_MINI: MACD=0.30, RSI=55.20, Direction=BUY
[2025-04-10 10:11:35] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:16:36] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:16:36] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:16:37] 📊 [SIM] EUR/USD_MINI: MACD=-0.88, RSI=54.60, Direction=SELL
[2025-04-10 10:16:37] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:21:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:21:39] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:21:39] 📊 [SIM] EUR/USD_MINI: MACD=-0.45, RSI=47.70, Direction=SELL
[2025-04-10 10:21:40] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:26:41] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:26:41] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:26:41] 📊 [SIM] EUR/USD_MINI: MACD=-0.18, RSI=48.08, Direction=SELL
[2025-04-10 10:26:42] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:31:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:31:43] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:31:44] 📊 [SIM] EUR/USD_MINI: MACD=0.32, RSI=51.94, Direction=BUY
[2025-04-10 10:31:44] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:36:45] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:36:45] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:36:46] 📊 [SIM] EUR/USD_MINI: MACD=-0.01, RSI=49.89, Direction=SELL
[2025-04-10 10:36:46] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:41:48] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:41:48] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:41:48] 📊 [SIM] EUR/USD_MINI: MACD=-0.87, RSI=45.19, Direction=SELL
[2025-04-10 10:41:48] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:46:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:46:50] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:46:50] 📊 [SIM] EUR/USD_MINI: MACD=0.38, RSI=45.13, Direction=BUY
[2025-04-10 10:46:51] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:51:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:51:52] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:51:53] 📊 [SIM] EUR/USD_MINI: MACD=-0.28, RSI=44.70, Direction=SELL
[2025-04-10 10:51:53] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 10:56:54] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 10:56:54] 📰 [SIM] News Sentiment：BUY
[2025-04-10 10:56:55] 📊 [SIM] EUR/USD_MINI: MACD=-0.52, RSI=48.27, Direction=SELL
[2025-04-10 10:56:55] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:01:57] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:01:57] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:01:57] 📊 [SIM] EUR/USD_MINI: MACD=0.84, RSI=59.43, Direction=BUY
[2025-04-10 11:01:58] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:06:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:06:59] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:07:00] 📊 [SIM] EUR/USD_MINI: MACD=0.35, RSI=57.98, Direction=BUY
[2025-04-10 11:07:00] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:12:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:12:02] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:12:02] 📊 [SIM] EUR/USD_MINI: MACD=-0.11, RSI=50.72, Direction=SELL
[2025-04-10 11:12:03] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:17:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:17:04] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:17:04] 📊 [SIM] EUR/USD_MINI: MACD=-0.74, RSI=51.63, Direction=SELL
[2025-04-10 11:17:05] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:22:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:22:06] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:22:07] 📊 [SIM] EUR/USD_MINI: MACD=-0.47, RSI=48.09, Direction=SELL
[2025-04-10 11:22:07] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:27:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:27:08] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:27:09] 📊 [SIM] EUR/USD_MINI: MACD=-0.33, RSI=52.69, Direction=SELL
[2025-04-10 11:27:09] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:32:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:32:10] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:32:11] 📊 [SIM] EUR/USD_MINI: MACD=-0.79, RSI=53.02, Direction=SELL
[2025-04-10 11:32:11] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:37:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:37:12] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:37:13] 📊 [SIM] EUR/USD_MINI: MACD=-0.41, RSI=47.92, Direction=SELL
[2025-04-10 11:37:13] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:42:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:42:15] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:42:15] 📊 [SIM] EUR/USD_MINI: MACD=0.11, RSI=45.66, Direction=BUY
[2025-04-10 11:42:15] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:47:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:47:17] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:47:17] 📊 [SIM] EUR/USD_MINI: MACD=0.37, RSI=42.57, Direction=BUY
[2025-04-10 11:47:18] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:52:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:52:19] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:52:20] 📊 [SIM] EUR/USD_MINI: MACD=0.50, RSI=53.01, Direction=BUY
[2025-04-10 11:52:20] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 11:57:21] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 11:57:21] 📰 [SIM] News Sentiment：BUY
[2025-04-10 11:57:22] 📊 [SIM] EUR/USD_MINI: MACD=-0.53, RSI=47.01, Direction=SELL
[2025-04-10 11:57:22] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:02:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:02:23] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:02:24] 📊 [SIM] EUR/USD_MINI: MACD=0.66, RSI=53.80, Direction=BUY
[2025-04-10 12:02:24] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:07:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:07:26] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:07:26] 📊 [SIM] EUR/USD_MINI: MACD=-0.05, RSI=50.51, Direction=SELL
[2025-04-10 12:07:27] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:12:28] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:12:28] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:12:28] 📊 [SIM] EUR/USD_MINI: MACD=0.92, RSI=51.26, Direction=BUY
[2025-04-10 12:12:29] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:17:30] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:17:30] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:17:30] 📊 [SIM] EUR/USD_MINI: MACD=-0.02, RSI=43.02, Direction=SELL
[2025-04-10 12:17:31] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:22:32] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:22:32] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:22:33] 📊 [SIM] EUR/USD_MINI: MACD=-0.20, RSI=55.06, Direction=SELL
[2025-04-10 12:22:33] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:27:34] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:27:34] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:27:35] 📊 [SIM] EUR/USD_MINI: MACD=0.64, RSI=65.43, Direction=BUY
[2025-04-10 12:27:35] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:32:36] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:32:36] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:32:37] 📊 [SIM] EUR/USD_MINI: MACD=0.25, RSI=53.12, Direction=BUY
[2025-04-10 12:32:37] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:37:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:37:38] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:37:39] 📊 [SIM] EUR/USD_MINI: MACD=0.70, RSI=51.42, Direction=BUY
[2025-04-10 12:37:39] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:42:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:42:40] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:42:41] 📊 [SIM] EUR/USD_MINI: MACD=-1.29, RSI=47.57, Direction=SELL
[2025-04-10 12:42:41] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:47:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:47:43] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:47:43] 📊 [SIM] EUR/USD_MINI: MACD=1.18, RSI=52.43, Direction=BUY
[2025-04-10 12:47:44] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:52:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:52:46] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:52:46] 📊 [SIM] EUR/USD_MINI: MACD=-0.09, RSI=49.38, Direction=SELL
[2025-04-10 12:52:47] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 12:57:48] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 12:57:48] 📰 [SIM] News Sentiment：BUY
[2025-04-10 12:57:49] 📊 [SIM] EUR/USD_MINI: MACD=-0.03, RSI=53.63, Direction=SELL
[2025-04-10 12:57:49] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:02:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:02:51] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:02:51] 📊 [SIM] EUR/USD_MINI: MACD=-0.99, RSI=45.69, Direction=SELL
[2025-04-10 13:02:52] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
nohup: ignoring input
[2025-04-10 13:05:51] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Fixed
[2025-04-10 13:05:51] [KALEN-SIM] 📂 檔案位置：/home/hmtf000001/auto_trading_v0408_sim.py
[2025-04-10 13:05:51] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 13:05:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:05:53] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:05:53] 📊 [SIM] EUR/USD_MINI: MACD=-0.45, RSI=50.55, Direction=SELL
[2025-04-10 13:05:53] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:10:55] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:10:55] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:10:55] 📊 [SIM] EUR/USD_MINI: MACD=-0.60, RSI=46.06, Direction=SELL
[2025-04-10 13:10:56] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:15:57] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:15:57] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:15:58] 📊 [SIM] EUR/USD_MINI: MACD=1.42, RSI=57.35, Direction=BUY
[2025-04-10 13:15:58] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:21:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:21:00] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:21:00] 📊 [SIM] EUR/USD_MINI: MACD=-0.08, RSI=40.46, Direction=SELL
[2025-04-10 13:21:01] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:26:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:26:02] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:26:03] 📊 [SIM] EUR/USD_MINI: MACD=-0.23, RSI=56.29, Direction=SELL
[2025-04-10 13:26:03] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:31:05] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:31:05] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:31:06] 📊 [SIM] EUR/USD_MINI: MACD=-0.29, RSI=48.72, Direction=SELL
[2025-04-10 13:31:06] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:36:07] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:36:07] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:36:08] 📊 [SIM] EUR/USD_MINI: MACD=0.14, RSI=57.84, Direction=BUY
[2025-04-10 13:36:08] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:41:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:41:10] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:41:10] 📊 [SIM] EUR/USD_MINI: MACD=-0.38, RSI=52.45, Direction=SELL
[2025-04-10 13:41:11] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:46:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:46:12] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:46:12] 📊 [SIM] EUR/USD_MINI: MACD=-0.08, RSI=56.05, Direction=SELL
[2025-04-10 13:46:13] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:51:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:51:14] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:51:15] 📊 [SIM] EUR/USD_MINI: MACD=-0.80, RSI=52.59, Direction=SELL
[2025-04-10 13:51:15] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 13:56:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 13:56:16] 📰 [SIM] News Sentiment：BUY
[2025-04-10 13:56:17] 📊 [SIM] EUR/USD_MINI: MACD=0.47, RSI=56.03, Direction=BUY
[2025-04-10 13:56:17] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 14:01:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:01:18] 📰 [SIM] News Sentiment：BUY
[2025-04-10 14:01:19] 📊 [SIM] EUR/USD_MINI: MACD=-0.14, RSI=54.11, Direction=SELL
[2025-04-10 14:01:19] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}

[2025-04-10 14:04:44] 👁️ 模擬倉觀察：將於 07:00 自動啟動 auto_trading_v0408_sim.py
nohup: ignoring input
[2025-04-10 14:06:00] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1406.zip)
[2025-04-10 14:06:00] 🗃️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1406.zip
[2025-04-10 14:06:00] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 14:06:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:06:06] [SIM] News Sentiment: BUY
[2025-04-10 14:06:06] [SIM] EUR/USD_MINI: MACD=-0.07, RSI=47.56, Direction=SELL
[2025-04-10 14:06:06] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 14:11:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:11:08] [SIM] News Sentiment: BUY
[2025-04-10 14:11:08] [SIM] EUR/USD_MINI: MACD=0.19, RSI=45.00, Direction=BUY
[2025-04-10 14:11:08] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
nohup: ignoring input
  File "/home/hmtf000001/auto_trading_v0408_sim.py", line 71
    deal_reference = str(uuid.uuid4().hex[:30]
                        ^
SyntaxError: '(' was never closed
nohup: ignoring input
[2025-04-10 14:20:38] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1420.zip)
[2025-04-10 14:20:38] 🗃️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1420.zip
[2025-04-10 14:20:38] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 14:20:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:20:39] [SIM] News Sentiment: BUY
[2025-04-10 14:20:40] [SIM] EUR/USD_MINI: MACD=0.23, RSI=46.74, Direction=BUY
[2025-04-10 14:20:40] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
nohup: ignoring input
[2025-04-10 14:22:25] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1422.zip)
[2025-04-10 14:22:25] 🗃️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1422.zip
[2025-04-10 14:22:25] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 14:22:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:22:26] [SIM] News Sentiment: BUY
[2025-04-10 14:22:27] [SIM] EUR/USD_MINI: MACD=-0.79, RSI=44.25, Direction=SELL
[2025-04-10 14:22:27] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
nohup: ignoring input
[2025-04-10 14:23:51] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1423.zip)
[2025-04-10 14:23:51] 🗃️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1423.zip
[2025-04-10 14:23:51] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 14:23:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:23:52] [SIM] News Sentiment: BUY
[2025-04-10 14:23:52] [SIM] EUR/USD_MINI: MACD=-0.44, RSI=49.98, Direction=SELL
[2025-04-10 14:23:53] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
nohup: ignoring input
[2025-04-10 14:26:18] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1426.zip)
[2025-04-10 14:26:18] 🗃️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1426.zip
[2025-04-10 14:26:18] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 14:26:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:26:19] [SIM] News Sentiment: BUY
[2025-04-10 14:26:20] [SIM] EUR/USD_MINI: MACD=0.18, RSI=47.97, Direction=BUY
[2025-04-10 14:26:20] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 14:31:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:31:22] [SIM] News Sentiment: BUY
[2025-04-10 14:31:22] [SIM] EUR/USD_MINI: MACD=0.19, RSI=48.42, Direction=BUY
[2025-04-10 14:31:23] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
nohup: ignoring input
[2025-04-10 14:31:55] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1431.zip)
[2025-04-10 14:31:55] 🗃️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1431.zip
[2025-04-10 14:31:55] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 14:31:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:31:56] [SIM] News Sentiment: BUY
[2025-04-10 14:31:56] [SIM] EUR/USD_MINI: MACD=0.20, RSI=46.93, Direction=BUY
[2025-04-10 14:31:57] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 14:36:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:36:58] [SIM] News Sentiment: BUY
[2025-04-10 14:36:59] [SIM] EUR/USD_MINI: MACD=-0.17, RSI=49.33, Direction=SELL
[2025-04-10 14:36:59] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
nohup: ignoring input
[2025-04-10 14:39:22] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1439.zip)
[2025-04-10 14:39:22] 🗃️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1439.zip
[2025-04-10 14:39:22] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 14:39:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:39:23] [SIM] News Sentiment: BUY
[2025-04-10 14:39:24] [SIM] EUR/USD_MINI: MACD=-0.29, RSI=45.84, Direction=SELL
[KALEN-SIM] ⚙️ 啟動模擬版本：0408-MiniVer.2+SimTest-Final
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_v0408_sim.py", line 187, in <module>
    manage_daily_trading()
  File "/home/hmtf000001/auto_trading_v0408_sim.py", line 166, in manage_daily_trading
    place_order(cst, x_token, epic, direction, determine_trade_size(), stop, limit)
  File "/home/hmtf000001/auto_trading_v0408_sim.py", line 88, in place_order
    logging.debug(f"🧾 下單 payload:\n{json.dumps(payload, indent=2)}")
                                    ^^^^
NameError: name 'json' is not defined
nohup: ignoring input
[2025-04-10 14:43:49] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1443.zip)
[2025-04-10 14:43:49] 🗃️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1443.zip
[2025-04-10 14:43:49] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 14:43:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:43:50] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-10 14:43:50] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 14:43:50] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 14:43:50] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 14:43:50] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff06d62fc10>
[2025-04-10 14:43:50] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff06d792600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 14:43:50] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff06d62fcd0>
[2025-04-10 14:43:50] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 14:43:50] send_request_headers.complete
[2025-04-10 14:43:50] send_request_body.started request=<Request [b'POST']>
[2025-04-10 14:43:50] send_request_body.complete
[2025-04-10 14:43:50] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 14:43:50] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 06:43:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'397'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_3a4abd87cfab3dfd284629a4d7ea0646'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=PEWJZjBCoN6160K1X6X_HldnrquZAc3x.rGiB_akGdw-1744267430-1.0.1.1-iKHkzvet39O7NnJSeOrWikhQ66Glbs.l5jw54y3m3rbctfNsYvPb3hB9nCsTnnJajg4E1HzRFG5PHtM19MnptGg1jI6xgRk.u5ZGxHy8Pa8; path=/; expires=Thu, 10-Apr-25 07:13:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=5WniF7sjh8SpR9aEFCfxnlCkkGy7H2vZO2uePrljrjY-1744267430918-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e045af8a824a85-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 14:43:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:43:50] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 14:43:50] receive_response_body.complete
[2025-04-10 14:43:50] response_closed.started
[2025-04-10 14:43:50] response_closed.complete
[2025-04-10 14:43:50] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 10 Apr 2025 06:43:50 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '397'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9959'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '246ms'), ('x-request-id', 'req_3a4abd87cfab3dfd284629a4d7ea0646'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=PEWJZjBCoN6160K1X6X_HldnrquZAc3x.rGiB_akGdw-1744267430-1.0.1.1-iKHkzvet39O7NnJSeOrWikhQ66Glbs.l5jw54y3m3rbctfNsYvPb3hB9nCsTnnJajg4E1HzRFG5PHtM19MnptGg1jI6xgRk.u5ZGxHy8Pa8; path=/; expires=Thu, 10-Apr-25 07:13:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=5WniF7sjh8SpR9aEFCfxnlCkkGy7H2vZO2uePrljrjY-1744267430918-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e045af8a824a85-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-10 14:43:50] request_id: req_3a4abd87cfab3dfd284629a4d7ea0646
[2025-04-10 14:43:50] [SIM] News Sentiment: BUY
[2025-04-10 14:43:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:43:51] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 14:43:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:43:51] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 14:43:51] [SIM] EUR/USD_MINI: MACD=-0.24, RSI=47.54, Direction=SELL
[KALEN-SIM] ⚙️ 啟動模擬版本：0408-MiniVer.2+SimTest-Final
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_v0408_sim.py", line 187, in <module>
    manage_daily_trading()
  File "/home/hmtf000001/auto_trading_v0408_sim.py", line 166, in manage_daily_trading
    place_order(cst, x_token, epic, direction, determine_trade_size(), stop, limit)
  File "/home/hmtf000001/auto_trading_v0408_sim.py", line 88, in place_order
    logging.debug(f"🧾 下單 payload:\n{json.dumps(payload, indent=2)}")
                                    ^^^^
NameError: name 'json' is not defined
[2025-04-10 14:43:51] close.started
[2025-04-10 14:43:51] close.complete
nohup: ignoring input
[2025-04-10 14:46:02] [KALEN-SIM] ✅ 成功啟動版本：0408-MiniVer.2+SimTest-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1446.zip)
[2025-04-10 14:46:02] 🗃️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1446.zip
[2025-04-10 14:46:02] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 14:46:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:46:02] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-10 14:46:02] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 14:46:02] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 14:46:02] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 14:46:02] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef68fe50>
[2025-04-10 14:46:02] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 14:46:02] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef68cdd0>
[2025-04-10 14:46:02] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 14:46:02] send_request_headers.complete
[2025-04-10 14:46:02] send_request_body.started request=<Request [b'POST']>
[2025-04-10 14:46:02] send_request_body.complete
[2025-04-10 14:46:02] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 14:46:03] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 06:46:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'314'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_7674c2a48c566e42835df176c93602cf'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=tZmb2McKa39hhvTf84B0WLldOc1JXvVJTSLbYgfgkhk-1744267563-1.0.1.1-1DoCBtGv050DRb32ouifcGGalIDwAMdGv_qhvLfhSZKCB3VWucNqPMRD0cu5GvjvcSwRti97TVFha6rMn1s7Qvx_FcGxsJ.n15fWMDDqquI; path=/; expires=Thu, 10-Apr-25 07:16:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=EMGlXe_0zEZTgzIUdEwNIAexNu3IEcHRoig_hBG6wkY-1744267563339-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e048eb9eb46a90-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 14:46:03] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:46:03] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 14:46:03] receive_response_body.complete
[2025-04-10 14:46:03] response_closed.started
[2025-04-10 14:46:03] response_closed.complete
[2025-04-10 14:46:03] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 10 Apr 2025 06:46:03 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '314'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9959'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '246ms'), ('x-request-id', 'req_7674c2a48c566e42835df176c93602cf'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=tZmb2McKa39hhvTf84B0WLldOc1JXvVJTSLbYgfgkhk-1744267563-1.0.1.1-1DoCBtGv050DRb32ouifcGGalIDwAMdGv_qhvLfhSZKCB3VWucNqPMRD0cu5GvjvcSwRti97TVFha6rMn1s7Qvx_FcGxsJ.n15fWMDDqquI; path=/; expires=Thu, 10-Apr-25 07:16:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=EMGlXe_0zEZTgzIUdEwNIAexNu3IEcHRoig_hBG6wkY-1744267563339-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e048eb9eb46a90-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-10 14:46:03] request_id: req_7674c2a48c566e42835df176c93602cf
[2025-04-10 14:46:03] [SIM] News Sentiment: BUY
[2025-04-10 14:46:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:46:03] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 14:46:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:46:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 14:46:03] [SIM] EUR/USD_MINI: MACD=0.14, RSI=51.80, Direction=BUY
[2025-04-10 14:46:03] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3b8a6ae5-f317-49b6-b7dd-4dc6457cbb1e"
}
[2025-04-10 14:46:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:46:04] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 14:46:04] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 14:46:04] ⚠️ 嘗試 fallback：dealReference=3b8a6ae5-f317-49b6-b7dd-4dc6457cbb1e
[2025-04-10 14:46:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:46:04] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 14:46:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:46:04] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 14:51:04] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 14:51:04] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 14:51:04] close.started
[2025-04-10 14:51:04] close.complete
[2025-04-10 14:51:04] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 14:51:04] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6b0590>
[2025-04-10 14:51:04] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 14:51:04] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef7b6990>
[2025-04-10 14:51:04] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 14:51:04] send_request_headers.complete
[2025-04-10 14:51:04] send_request_body.started request=<Request [b'POST']>
[2025-04-10 14:51:04] send_request_body.complete
[2025-04-10 14:51:04] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 14:51:05] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 06:51:05 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'438'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_d36572621b029f3bafd27491976f4a5a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0504bcb1aa9bc-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 14:51:05] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:51:05] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 14:51:05] receive_response_body.complete
[2025-04-10 14:51:05] response_closed.started
[2025-04-10 14:51:05] response_closed.complete
[2025-04-10 14:51:05] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 06:51:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '438', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_d36572621b029f3bafd27491976f4a5a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0504bcb1aa9bc-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 14:51:05] request_id: req_d36572621b029f3bafd27491976f4a5a
[2025-04-10 14:51:05] [SIM] News Sentiment: BUY
[2025-04-10 14:51:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:51:05] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 14:51:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:51:06] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 14:51:06] [SIM] EUR/USD_MINI: MACD=-0.70, RSI=49.58, Direction=SELL
[2025-04-10 14:51:06] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3d26d1e5-6074-4009-bf7e-78568fc6087f"
}
[2025-04-10 14:51:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:51:06] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 14:51:06] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 14:51:06] ⚠️ 嘗試 fallback：dealReference=3d26d1e5-6074-4009-bf7e-78568fc6087f
[2025-04-10 14:51:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:51:06] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 14:51:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:51:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 14:56:07] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 14:56:07] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 14:56:07] close.started
[2025-04-10 14:56:07] close.complete
[2025-04-10 14:56:07] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 14:56:07] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6b2d90>
[2025-04-10 14:56:07] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 14:56:07] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6b2750>
[2025-04-10 14:56:07] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 14:56:07] send_request_headers.complete
[2025-04-10 14:56:07] send_request_body.started request=<Request [b'POST']>
[2025-04-10 14:56:07] send_request_body.complete
[2025-04-10 14:56:07] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 14:56:07] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 06:56:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'599'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_1cc8467f04e1743c74572a08c12dbf9e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e057ac9b846a81-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 14:56:07] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 14:56:07] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 14:56:07] receive_response_body.complete
[2025-04-10 14:56:07] response_closed.started
[2025-04-10 14:56:07] response_closed.complete
[2025-04-10 14:56:07] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 06:56:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '599', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_1cc8467f04e1743c74572a08c12dbf9e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e057ac9b846a81-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 14:56:07] request_id: req_1cc8467f04e1743c74572a08c12dbf9e
[2025-04-10 14:56:07] [SIM] News Sentiment: BUY
[2025-04-10 14:56:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:56:08] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 14:56:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:56:08] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 14:56:08] [SIM] EUR/USD_MINI: MACD=0.19, RSI=50.35, Direction=BUY
[2025-04-10 14:56:08] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "482a437e-62f1-41b7-8a4d-0feacf85d5c3"
}
[2025-04-10 14:56:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:56:08] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 14:56:08] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 14:56:08] ⚠️ 嘗試 fallback：dealReference=482a437e-62f1-41b7-8a4d-0feacf85d5c3
[2025-04-10 14:56:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:56:09] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 14:56:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 14:56:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:01:09] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:01:09] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:01:09] close.started
[2025-04-10 15:01:09] close.complete
[2025-04-10 15:01:09] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:01:09] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6bdd50>
[2025-04-10 15:01:09] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:01:09] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6bc590>
[2025-04-10 15:01:09] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:01:09] send_request_headers.complete
[2025-04-10 15:01:09] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:01:09] send_request_body.complete
[2025-04-10 15:01:09] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:01:10] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:01:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'405'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_d618ad5aca2f1578346fd34f052d2414'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=AmxdBdmXHvBxOY9zdd.ML067JC3DAy5tNap1lnSX5rs-1744268470-1.0.1.1-yCh5q0pdJzKOavXOSKwkjrTFAfI_HvS6QUGQ5HZsSKEaoodgPueETUnmTB9v62SeCZN_77tVaM.tnUM7qqVkEjpKMy7pgNyMdoQNAwy.M5w; path=/; expires=Thu, 10-Apr-25 07:31:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e05f0eff2f4a85-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:01:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:01:10] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:01:10] receive_response_body.complete
[2025-04-10 15:01:10] response_closed.started
[2025-04-10 15:01:10] response_closed.complete
[2025-04-10 15:01:10] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:01:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '405', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_d618ad5aca2f1578346fd34f052d2414', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=AmxdBdmXHvBxOY9zdd.ML067JC3DAy5tNap1lnSX5rs-1744268470-1.0.1.1-yCh5q0pdJzKOavXOSKwkjrTFAfI_HvS6QUGQ5HZsSKEaoodgPueETUnmTB9v62SeCZN_77tVaM.tnUM7qqVkEjpKMy7pgNyMdoQNAwy.M5w; path=/; expires=Thu, 10-Apr-25 07:31:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e05f0eff2f4a85-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:01:10] request_id: req_d618ad5aca2f1578346fd34f052d2414
[2025-04-10 15:01:10] [SIM] News Sentiment: BUY
[2025-04-10 15:01:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:01:10] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:01:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:01:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:01:10] [SIM] EUR/USD_MINI: MACD=-0.77, RSI=43.66, Direction=SELL
[2025-04-10 15:01:10] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5bd0401a-5a93-4d94-b941-c33a6cc2cd5d"
}
[2025-04-10 15:01:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:01:11] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:01:11] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:01:11] ⚠️ 嘗試 fallback：dealReference=5bd0401a-5a93-4d94-b941-c33a6cc2cd5d
[2025-04-10 15:01:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:01:11] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:01:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:01:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:06:12] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:06:12] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:06:12] close.started
[2025-04-10 15:06:12] close.complete
[2025-04-10 15:06:12] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:06:12] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6b0650>
[2025-04-10 15:06:12] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:06:12] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6b2250>
[2025-04-10 15:06:12] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:06:12] send_request_headers.complete
[2025-04-10 15:06:12] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:06:12] send_request_body.complete
[2025-04-10 15:06:12] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:06:13] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:06:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'832'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_645c83fab85c8a6e6988faaafaca0e38'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e066731cd38092-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:06:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:06:13] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:06:13] receive_response_body.complete
[2025-04-10 15:06:13] response_closed.started
[2025-04-10 15:06:13] response_closed.complete
[2025-04-10 15:06:13] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:06:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '832', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_645c83fab85c8a6e6988faaafaca0e38', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e066731cd38092-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:06:13] request_id: req_645c83fab85c8a6e6988faaafaca0e38
[2025-04-10 15:06:13] [SIM] News Sentiment: BUY
[2025-04-10 15:06:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:06:13] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:06:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:06:14] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:06:14] [SIM] EUR/USD_MINI: MACD=0.52, RSI=50.69, Direction=BUY
[2025-04-10 15:06:14] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9bd30440-4ac7-4886-a0ab-08520479e571"
}
[2025-04-10 15:06:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:06:14] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:06:14] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:06:14] ⚠️ 嘗試 fallback：dealReference=9bd30440-4ac7-4886-a0ab-08520479e571
[2025-04-10 15:06:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:06:14] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:06:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:06:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:11:15] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:11:15] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:11:15] close.started
[2025-04-10 15:11:15] close.complete
[2025-04-10 15:11:15] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:11:15] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6c2110>
[2025-04-10 15:11:15] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:11:15] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6c21d0>
[2025-04-10 15:11:15] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:11:15] send_request_headers.complete
[2025-04-10 15:11:15] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:11:15] send_request_body.complete
[2025-04-10 15:11:15] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:11:15] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:11:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'289'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_c5a6bad37d14e061cbc6c51aa9e8d6f7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e06dd749bb4a70-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:11:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:11:15] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:11:15] receive_response_body.complete
[2025-04-10 15:11:15] response_closed.started
[2025-04-10 15:11:15] response_closed.complete
[2025-04-10 15:11:15] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:11:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '289', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_c5a6bad37d14e061cbc6c51aa9e8d6f7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e06dd749bb4a70-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:11:15] request_id: req_c5a6bad37d14e061cbc6c51aa9e8d6f7
[2025-04-10 15:11:15] [SIM] News Sentiment: BUY
[2025-04-10 15:11:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:11:15] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:11:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:11:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:11:16] [SIM] EUR/USD_MINI: MACD=0.21, RSI=63.05, Direction=BUY
[2025-04-10 15:11:16] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7e48100b-7ad1-40ff-b2b8-4657d3d21d82"
}
[2025-04-10 15:11:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:11:16] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:11:16] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:11:16] ⚠️ 嘗試 fallback：dealReference=7e48100b-7ad1-40ff-b2b8-4657d3d21d82
[2025-04-10 15:11:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:11:16] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:11:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:11:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:16:17] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:16:17] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:16:17] close.started
[2025-04-10 15:16:17] close.complete
[2025-04-10 15:16:17] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:16:17] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6c1c50>
[2025-04-10 15:16:17] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:16:17] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6c3510>
[2025-04-10 15:16:17] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:16:17] send_request_headers.complete
[2025-04-10 15:16:17] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:16:17] send_request_body.complete
[2025-04-10 15:16:17] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:16:18] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:16:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'475'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_139d14413ff196b127fea11706b7c6ff'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=OGuIqiw27d6G3KKGH3NSdv5b1rGA6E.iov5KyLFSPrI-1744269378-1.0.1.1-_cK4RzCf8H9PUzc8NN7s4XlnCsl4smJYTysamOM8NTt7VldM4kMychhbnn.WdT71b1EEk.TD6qDusNNzM8zGcnD_.xGghGE0dEN40cr4wiI; path=/; expires=Thu, 10-Apr-25 07:46:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e075387ec84a33-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:16:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:16:18] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:16:18] receive_response_body.complete
[2025-04-10 15:16:18] response_closed.started
[2025-04-10 15:16:18] response_closed.complete
[2025-04-10 15:16:18] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:16:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '475', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_139d14413ff196b127fea11706b7c6ff', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=OGuIqiw27d6G3KKGH3NSdv5b1rGA6E.iov5KyLFSPrI-1744269378-1.0.1.1-_cK4RzCf8H9PUzc8NN7s4XlnCsl4smJYTysamOM8NTt7VldM4kMychhbnn.WdT71b1EEk.TD6qDusNNzM8zGcnD_.xGghGE0dEN40cr4wiI; path=/; expires=Thu, 10-Apr-25 07:46:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e075387ec84a33-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:16:18] request_id: req_139d14413ff196b127fea11706b7c6ff
[2025-04-10 15:16:18] [SIM] News Sentiment: BUY
[2025-04-10 15:16:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:16:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:16:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:16:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:16:18] [SIM] EUR/USD_MINI: MACD=0.62, RSI=49.79, Direction=BUY
[2025-04-10 15:16:18] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a0862694-6316-41ba-a8aa-794bfa13e814"
}
[2025-04-10 15:16:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:16:19] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:16:19] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:16:19] ⚠️ 嘗試 fallback：dealReference=a0862694-6316-41ba-a8aa-794bfa13e814
[2025-04-10 15:16:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:16:19] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:16:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:16:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:21:19] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:21:19] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:21:19] close.started
[2025-04-10 15:21:19] close.complete
[2025-04-10 15:21:19] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:21:19] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6c8310>
[2025-04-10 15:21:19] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:21:19] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef68cbd0>
[2025-04-10 15:21:19] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:21:19] send_request_headers.complete
[2025-04-10 15:21:19] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:21:19] send_request_body.complete
[2025-04-10 15:21:19] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:21:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:21:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'373'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_929cbe595db73cb402ed5d05e0bc6795'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e07c99aac78f21-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:21:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:21:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:21:20] receive_response_body.complete
[2025-04-10 15:21:20] response_closed.started
[2025-04-10 15:21:20] response_closed.complete
[2025-04-10 15:21:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:21:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '373', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_929cbe595db73cb402ed5d05e0bc6795', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e07c99aac78f21-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:21:20] request_id: req_929cbe595db73cb402ed5d05e0bc6795
[2025-04-10 15:21:20] [SIM] News Sentiment: BUY
[2025-04-10 15:21:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:21:20] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:21:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:21:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:21:21] [SIM] EUR/USD_MINI: MACD=0.07, RSI=47.98, Direction=BUY
[2025-04-10 15:21:21] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "89199c8d-70a4-41d4-bbbd-e6218e1ad0b5"
}
[2025-04-10 15:21:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:21:21] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:21:21] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:21:21] ⚠️ 嘗試 fallback：dealReference=89199c8d-70a4-41d4-bbbd-e6218e1ad0b5
[2025-04-10 15:21:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:21:21] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:21:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:21:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:26:21] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:26:21] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:26:21] close.started
[2025-04-10 15:26:21] close.complete
[2025-04-10 15:26:21] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:26:21] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6c9a50>
[2025-04-10 15:26:21] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:26:21] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6cbbd0>
[2025-04-10 15:26:21] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:26:21] send_request_headers.complete
[2025-04-10 15:26:21] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:26:21] send_request_body.complete
[2025-04-10 15:26:21] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:26:22] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:26:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'425'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_7df68d02fee84d51393da9f2d8fd4834'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e083faec7e4a6f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:26:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:26:22] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:26:22] receive_response_body.complete
[2025-04-10 15:26:22] response_closed.started
[2025-04-10 15:26:22] response_closed.complete
[2025-04-10 15:26:22] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:26:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '425', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_7df68d02fee84d51393da9f2d8fd4834', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e083faec7e4a6f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:26:22] request_id: req_7df68d02fee84d51393da9f2d8fd4834
[2025-04-10 15:26:22] [SIM] News Sentiment: BUY
[2025-04-10 15:26:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:26:22] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:26:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:26:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:26:23] [SIM] EUR/USD_MINI: MACD=-0.02, RSI=49.23, Direction=SELL
[2025-04-10 15:26:23] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "2deaa811-d513-4ce7-8b44-772759fd58e4"
}
[2025-04-10 15:26:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:26:23] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:26:23] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:26:23] ⚠️ 嘗試 fallback：dealReference=2deaa811-d513-4ce7-8b44-772759fd58e4
[2025-04-10 15:26:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:26:23] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:26:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:26:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:31:24] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:31:24] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:31:24] close.started
[2025-04-10 15:31:24] close.complete
[2025-04-10 15:31:24] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:31:24] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6c1610>
[2025-04-10 15:31:24] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:31:24] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6c1150>
[2025-04-10 15:31:24] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:31:24] send_request_headers.complete
[2025-04-10 15:31:24] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:31:24] send_request_body.complete
[2025-04-10 15:31:24] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:31:24] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:31:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'472'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_2d10b01b838affe7846bc00bb677bced'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=we.5Oo82ME1VwiVWhvakfXeOBxsjFhDWUBQ9iAQ5Mt0-1744270284-1.0.1.1-MTGswTlloGYPRHokKuueHbGWoZZPikqIhnUZm9.trCn4IgvzAIIdtof9FoEq1CjACH0CqiaCfmUH2YVPFeQaa7Hl_TkkVafiF42f5X8cuwo; path=/; expires=Thu, 10-Apr-25 08:01:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e08b5b9b034a5a-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:31:24] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:31:24] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:31:24] receive_response_body.complete
[2025-04-10 15:31:24] response_closed.started
[2025-04-10 15:31:24] response_closed.complete
[2025-04-10 15:31:24] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:31:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '472', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_2d10b01b838affe7846bc00bb677bced', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=we.5Oo82ME1VwiVWhvakfXeOBxsjFhDWUBQ9iAQ5Mt0-1744270284-1.0.1.1-MTGswTlloGYPRHokKuueHbGWoZZPikqIhnUZm9.trCn4IgvzAIIdtof9FoEq1CjACH0CqiaCfmUH2YVPFeQaa7Hl_TkkVafiF42f5X8cuwo; path=/; expires=Thu, 10-Apr-25 08:01:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e08b5b9b034a5a-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:31:24] request_id: req_2d10b01b838affe7846bc00bb677bced
[2025-04-10 15:31:24] [SIM] News Sentiment: BUY
[2025-04-10 15:31:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:31:25] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:31:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:31:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:31:25] [SIM] EUR/USD_MINI: MACD=-0.80, RSI=42.29, Direction=SELL
[2025-04-10 15:31:25] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "df5da0df-e5ea-4861-be00-e6e308d882bc"
}
[2025-04-10 15:31:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:31:25] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:31:25] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:31:25] ⚠️ 嘗試 fallback：dealReference=df5da0df-e5ea-4861-be00-e6e308d882bc
[2025-04-10 15:31:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:31:26] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:31:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:31:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:36:26] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:36:26] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:36:26] close.started
[2025-04-10 15:36:26] close.complete
[2025-04-10 15:36:26] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:36:26] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d1d50>
[2025-04-10 15:36:26] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:36:26] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d0590>
[2025-04-10 15:36:26] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:36:26] send_request_headers.complete
[2025-04-10 15:36:26] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:36:26] send_request_body.complete
[2025-04-10 15:36:26] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:36:27] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:36:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'329'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_fc6a56220b8225adaca6a659cdfef436'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e092bd3c5c4a63-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:36:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:36:27] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:36:27] receive_response_body.complete
[2025-04-10 15:36:27] response_closed.started
[2025-04-10 15:36:27] response_closed.complete
[2025-04-10 15:36:27] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:36:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '329', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_fc6a56220b8225adaca6a659cdfef436', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e092bd3c5c4a63-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:36:27] request_id: req_fc6a56220b8225adaca6a659cdfef436
[2025-04-10 15:36:27] [SIM] News Sentiment: BUY
[2025-04-10 15:36:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:36:27] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:36:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:36:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:36:27] [SIM] EUR/USD_MINI: MACD=0.39, RSI=51.91, Direction=BUY
[2025-04-10 15:36:27] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "8c0bf84e-70c0-4f34-b76c-6a02ecaf9ece"
}
[2025-04-10 15:36:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:36:27] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:36:27] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:36:27] ⚠️ 嘗試 fallback：dealReference=8c0bf84e-70c0-4f34-b76c-6a02ecaf9ece
[2025-04-10 15:36:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:36:28] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:36:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:36:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:41:28] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:41:28] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:41:28] close.started
[2025-04-10 15:41:28] close.complete
[2025-04-10 15:41:28] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:41:28] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6c00d0>
[2025-04-10 15:41:28] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:41:28] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6bd810>
[2025-04-10 15:41:28] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:41:28] send_request_headers.complete
[2025-04-10 15:41:28] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:41:28] send_request_body.complete
[2025-04-10 15:41:28] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:41:29] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:41:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'383'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_3210772961d0e41e2cc008995a942cbe'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e09a1d8caba9d1-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:41:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:41:29] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:41:29] receive_response_body.complete
[2025-04-10 15:41:29] response_closed.started
[2025-04-10 15:41:29] response_closed.complete
[2025-04-10 15:41:29] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:41:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '383', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_3210772961d0e41e2cc008995a942cbe', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e09a1d8caba9d1-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:41:29] request_id: req_3210772961d0e41e2cc008995a942cbe
[2025-04-10 15:41:29] [SIM] News Sentiment: BUY
[2025-04-10 15:41:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:41:29] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:41:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:41:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:41:29] [SIM] EUR/USD_MINI: MACD=-0.47, RSI=48.80, Direction=SELL
[2025-04-10 15:41:29] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f8058bf0-64fc-4a0b-9410-1098cd02ced2"
}
[2025-04-10 15:41:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:41:30] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:41:30] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:41:30] ⚠️ 嘗試 fallback：dealReference=f8058bf0-64fc-4a0b-9410-1098cd02ced2
[2025-04-10 15:41:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:41:30] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:41:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:41:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:46:30] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:46:30] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:46:30] close.started
[2025-04-10 15:46:30] close.complete
[2025-04-10 15:46:30] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:46:30] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d9d50>
[2025-04-10 15:46:30] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:46:30] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d8e10>
[2025-04-10 15:46:30] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:46:30] send_request_headers.complete
[2025-04-10 15:46:30] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:46:30] send_request_body.complete
[2025-04-10 15:46:30] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:46:31] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:46:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'417'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_fab909a11cea3dc5b822064d03b04e96'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=hn2KFxgk4qlgHxrXuJAz4Lc8f6uSm3EVGoDs8.V08D0-1744271191-1.0.1.1-0mL7jVO9Sf8HiJsCM6NQ0x6Kq49KrvDwbBpcE6Lh9QIJHbkKDf2H2EEuAbsQcqEFt6RrDk1B5St20FwzWcizRERkeZKeXRlAx.OKU1I40cg; path=/; expires=Thu, 10-Apr-25 08:16:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0a17f4f364a63-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:46:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:46:31] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:46:31] receive_response_body.complete
[2025-04-10 15:46:31] response_closed.started
[2025-04-10 15:46:31] response_closed.complete
[2025-04-10 15:46:31] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:46:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '417', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_fab909a11cea3dc5b822064d03b04e96', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=hn2KFxgk4qlgHxrXuJAz4Lc8f6uSm3EVGoDs8.V08D0-1744271191-1.0.1.1-0mL7jVO9Sf8HiJsCM6NQ0x6Kq49KrvDwbBpcE6Lh9QIJHbkKDf2H2EEuAbsQcqEFt6RrDk1B5St20FwzWcizRERkeZKeXRlAx.OKU1I40cg; path=/; expires=Thu, 10-Apr-25 08:16:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0a17f4f364a63-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:46:31] request_id: req_fab909a11cea3dc5b822064d03b04e96
[2025-04-10 15:46:31] [SIM] News Sentiment: BUY
[2025-04-10 15:46:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:46:31] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:46:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:46:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:46:32] [SIM] EUR/USD_MINI: MACD=1.79, RSI=53.80, Direction=BUY
[2025-04-10 15:46:32] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "439622c9-db6b-49ba-87b1-701b0c6246d5"
}
[2025-04-10 15:46:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:46:32] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:46:32] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:46:32] ⚠️ 嘗試 fallback：dealReference=439622c9-db6b-49ba-87b1-701b0c6246d5
[2025-04-10 15:46:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:46:32] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:46:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:46:33] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:51:33] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:51:33] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:51:33] close.started
[2025-04-10 15:51:33] close.complete
[2025-04-10 15:51:33] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:51:33] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d8490>
[2025-04-10 15:51:33] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:51:33] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d9bd0>
[2025-04-10 15:51:33] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:51:33] send_request_headers.complete
[2025-04-10 15:51:33] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:51:33] send_request_body.complete
[2025-04-10 15:51:33] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:51:33] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:51:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'326'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_7a9264e86fb388b543c7dee7ef0bdfbc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0a8e0cab64a64-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:51:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:51:33] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:51:33] receive_response_body.complete
[2025-04-10 15:51:33] response_closed.started
[2025-04-10 15:51:33] response_closed.complete
[2025-04-10 15:51:33] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:51:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '326', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_7a9264e86fb388b543c7dee7ef0bdfbc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0a8e0cab64a64-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:51:33] request_id: req_7a9264e86fb388b543c7dee7ef0bdfbc
[2025-04-10 15:51:33] [SIM] News Sentiment: BUY
[2025-04-10 15:51:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:51:34] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:51:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:51:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:51:34] [SIM] EUR/USD_MINI: MACD=0.08, RSI=54.96, Direction=BUY
[2025-04-10 15:51:34] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9439db09-ca55-4f52-b6d7-aef766160bd5"
}
[2025-04-10 15:51:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:51:34] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:51:34] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:51:34] ⚠️ 嘗試 fallback：dealReference=9439db09-ca55-4f52-b6d7-aef766160bd5
[2025-04-10 15:51:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:51:34] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:51:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:51:35] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 15:56:35] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 15:56:35] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 15:56:35] close.started
[2025-04-10 15:56:35] close.complete
[2025-04-10 15:56:35] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 15:56:35] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e0990>
[2025-04-10 15:56:35] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 15:56:35] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e0c50>
[2025-04-10 15:56:35] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 15:56:35] send_request_headers.complete
[2025-04-10 15:56:35] send_request_body.started request=<Request [b'POST']>
[2025-04-10 15:56:35] send_request_body.complete
[2025-04-10 15:56:35] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 15:56:35] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 07:56:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'296'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_4fd37a6fb3d01b62e7082da6bf00350e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0b040bffd4a79-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 15:56:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 15:56:35] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 15:56:35] receive_response_body.complete
[2025-04-10 15:56:35] response_closed.started
[2025-04-10 15:56:35] response_closed.complete
[2025-04-10 15:56:35] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 07:56:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '296', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_4fd37a6fb3d01b62e7082da6bf00350e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0b040bffd4a79-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 15:56:35] request_id: req_4fd37a6fb3d01b62e7082da6bf00350e
[2025-04-10 15:56:35] [SIM] News Sentiment: BUY
[2025-04-10 15:56:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:56:36] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:56:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:56:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 15:56:36] [SIM] EUR/USD_MINI: MACD=-0.18, RSI=47.94, Direction=SELL
[2025-04-10 15:56:36] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a4c600a3-203f-455a-a7c7-80d3de235114"
}
[2025-04-10 15:56:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:56:36] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 15:56:36] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 15:56:36] ⚠️ 嘗試 fallback：dealReference=a4c600a3-203f-455a-a7c7-80d3de235114
[2025-04-10 15:56:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:56:37] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 15:56:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 15:56:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:01:37] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:01:37] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:01:37] close.started
[2025-04-10 16:01:37] close.complete
[2025-04-10 16:01:37] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:01:37] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d8490>
[2025-04-10 16:01:37] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:01:37] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6db590>
[2025-04-10 16:01:37] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:01:37] send_request_headers.complete
[2025-04-10 16:01:37] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:01:37] send_request_body.complete
[2025-04-10 16:01:37] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:01:38] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:01:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'457'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_c121188b31dcb0720b7171839e3a4555'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=LvfpAAceDTr1WAl3L2W4HyspNPMvDjBqoN5pZ62tyV0-1744272098-1.0.1.1-1xFoZi0QTApzFfw.yhAGRuF_l09Rtw4dUrypu0qx4RsgMtBZUYfY6zo0C13nvZFUIkDHq07rxg1fwgl77PH2EFX7tHb0o7wCSQ.9gb7mv78; path=/; expires=Thu, 10-Apr-25 08:31:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0b7a0ba37a9c1-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:01:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:01:38] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:01:38] receive_response_body.complete
[2025-04-10 16:01:38] response_closed.started
[2025-04-10 16:01:38] response_closed.complete
[2025-04-10 16:01:38] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:01:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '457', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_c121188b31dcb0720b7171839e3a4555', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=LvfpAAceDTr1WAl3L2W4HyspNPMvDjBqoN5pZ62tyV0-1744272098-1.0.1.1-1xFoZi0QTApzFfw.yhAGRuF_l09Rtw4dUrypu0qx4RsgMtBZUYfY6zo0C13nvZFUIkDHq07rxg1fwgl77PH2EFX7tHb0o7wCSQ.9gb7mv78; path=/; expires=Thu, 10-Apr-25 08:31:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0b7a0ba37a9c1-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:01:38] request_id: req_c121188b31dcb0720b7171839e3a4555
[2025-04-10 16:01:38] [SIM] News Sentiment: BUY
[2025-04-10 16:01:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:01:38] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:01:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:01:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 16:01:38] [SIM] EUR/USD_MINI: MACD=0.03, RSI=50.79, Direction=BUY
[2025-04-10 16:01:38] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "581969b0-ce0b-47ab-8077-3e0921dbc6a4"
}
[2025-04-10 16:01:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:01:39] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:01:39] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:01:39] ⚠️ 嘗試 fallback：dealReference=581969b0-ce0b-47ab-8077-3e0921dbc6a4
[2025-04-10 16:01:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:01:39] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:01:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:01:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:06:39] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:06:39] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:06:39] close.started
[2025-04-10 16:06:39] close.complete
[2025-04-10 16:06:39] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:06:39] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e1090>
[2025-04-10 16:06:39] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:06:39] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e3f90>
[2025-04-10 16:06:39] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:06:39] send_request_headers.complete
[2025-04-10 16:06:39] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:06:39] send_request_body.complete
[2025-04-10 16:06:39] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:06:40] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:06:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'323'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_c393578abe38d1c9ba7f2d3ca44c22e8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0bf01cba0a9bb-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:06:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:06:40] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:06:40] receive_response_body.complete
[2025-04-10 16:06:40] response_closed.started
[2025-04-10 16:06:40] response_closed.complete
[2025-04-10 16:06:40] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:06:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '323', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_c393578abe38d1c9ba7f2d3ca44c22e8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0bf01cba0a9bb-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:06:40] request_id: req_c393578abe38d1c9ba7f2d3ca44c22e8
[2025-04-10 16:06:40] [SIM] News Sentiment: BUY
[2025-04-10 16:06:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:06:40] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:06:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:06:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 16:06:40] [SIM] EUR/USD_MINI: MACD=0.04, RSI=47.11, Direction=BUY
[2025-04-10 16:06:40] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "18b509f4-86f0-4d64-bce3-7ae32d61aea7"
}
[2025-04-10 16:06:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:06:41] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:06:41] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:06:41] ⚠️ 嘗試 fallback：dealReference=18b509f4-86f0-4d64-bce3-7ae32d61aea7
[2025-04-10 16:06:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:06:41] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:06:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:06:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:11:41] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:11:41] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:11:41] close.started
[2025-04-10 16:11:41] close.complete
[2025-04-10 16:11:41] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:11:41] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d5910>
[2025-04-10 16:11:41] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:11:41] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d64d0>
[2025-04-10 16:11:41] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:11:41] send_request_headers.complete
[2025-04-10 16:11:41] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:11:41] send_request_body.complete
[2025-04-10 16:11:41] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:11:42] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:11:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'686'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_e9b3e13e233c1fc260b5f5c202916b51'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0c6623bae842d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:11:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:11:42] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:11:42] receive_response_body.complete
[2025-04-10 16:11:42] response_closed.started
[2025-04-10 16:11:42] response_closed.complete
[2025-04-10 16:11:42] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:11:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '686', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_e9b3e13e233c1fc260b5f5c202916b51', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0c6623bae842d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:11:42] request_id: req_e9b3e13e233c1fc260b5f5c202916b51
[2025-04-10 16:11:42] [SIM] News Sentiment: BUY
[2025-04-10 16:11:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:11:43] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:11:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:11:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 16:11:43] [SIM] EUR/USD_MINI: MACD=0.01, RSI=46.77, Direction=BUY
[2025-04-10 16:11:43] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7c170341-28cc-4cb9-9883-a9ed1d943733"
}
[2025-04-10 16:11:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:11:44] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:11:44] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:11:44] ⚠️ 嘗試 fallback：dealReference=7c170341-28cc-4cb9-9883-a9ed1d943733
[2025-04-10 16:11:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:11:44] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:11:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:11:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:16:44] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:16:44] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:16:44] close.started
[2025-04-10 16:16:44] close.complete
[2025-04-10 16:16:44] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:16:44] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d4e50>
[2025-04-10 16:16:44] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:16:44] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d4990>
[2025-04-10 16:16:44] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:16:44] send_request_headers.complete
[2025-04-10 16:16:44] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:16:44] send_request_body.complete
[2025-04-10 16:16:44] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:16:45] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:16:45 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'479'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_557b7a94c854c644301aedd095a79254'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=jge8cOv4JPKpktZpokQgiIG9qbxdvQnJt9AhhQuA0KU-1744273005-1.0.1.1-C1qfgEJWPMCOdzB8_AG.AWKy_SceVWeguxfviQaGIOo7DH0v7146CYWCSspn8Yej8bC3KqUUmxngCH7HXnwjEoDMgYc68j0g89vTeOfcupg; path=/; expires=Thu, 10-Apr-25 08:46:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0cdc838a78265-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:16:45] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:16:45] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:16:45] receive_response_body.complete
[2025-04-10 16:16:45] response_closed.started
[2025-04-10 16:16:45] response_closed.complete
[2025-04-10 16:16:45] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:16:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '479', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_557b7a94c854c644301aedd095a79254', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=jge8cOv4JPKpktZpokQgiIG9qbxdvQnJt9AhhQuA0KU-1744273005-1.0.1.1-C1qfgEJWPMCOdzB8_AG.AWKy_SceVWeguxfviQaGIOo7DH0v7146CYWCSspn8Yej8bC3KqUUmxngCH7HXnwjEoDMgYc68j0g89vTeOfcupg; path=/; expires=Thu, 10-Apr-25 08:46:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0cdc838a78265-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:16:45] request_id: req_557b7a94c854c644301aedd095a79254
[2025-04-10 16:16:45] [SIM] News Sentiment: BUY
[2025-04-10 16:16:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:16:45] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:16:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:16:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 16:16:46] [SIM] EUR/USD_MINI: MACD=-0.72, RSI=45.56, Direction=SELL
[2025-04-10 16:16:46] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f22fedab-47c5-4e6b-a6d0-9310afe1d982"
}
[2025-04-10 16:16:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:16:46] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:16:46] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:16:46] ⚠️ 嘗試 fallback：dealReference=f22fedab-47c5-4e6b-a6d0-9310afe1d982
[2025-04-10 16:16:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:16:46] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:16:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:16:47] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:21:47] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:21:47] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:21:47] close.started
[2025-04-10 16:21:47] close.complete
[2025-04-10 16:21:47] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:21:47] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f1fd0>
[2025-04-10 16:21:47] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:21:47] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f1790>
[2025-04-10 16:21:47] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:21:47] send_request_headers.complete
[2025-04-10 16:21:47] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:21:47] send_request_body.complete
[2025-04-10 16:21:47] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:21:47] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:21:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'313'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_0f31b657af07ee6e40e51612c3b76801'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0d52aebc70740-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:21:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:21:47] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:21:47] receive_response_body.complete
[2025-04-10 16:21:47] response_closed.started
[2025-04-10 16:21:47] response_closed.complete
[2025-04-10 16:21:47] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:21:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '313', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_0f31b657af07ee6e40e51612c3b76801', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0d52aebc70740-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:21:47] request_id: req_0f31b657af07ee6e40e51612c3b76801
[2025-04-10 16:21:47] [SIM] News Sentiment: BUY
[2025-04-10 16:21:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:21:48] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:21:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:21:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 16:21:48] [SIM] EUR/USD_MINI: MACD=0.48, RSI=43.10, Direction=BUY
[2025-04-10 16:21:48] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "82d7b5ce-db00-4139-ad4c-8931edd75760"
}
[2025-04-10 16:21:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:21:48] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:21:48] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:21:48] ⚠️ 嘗試 fallback：dealReference=82d7b5ce-db00-4139-ad4c-8931edd75760
[2025-04-10 16:21:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:21:49] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:21:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:21:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:26:50] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:26:50] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:26:50] close.started
[2025-04-10 16:26:50] close.complete
[2025-04-10 16:26:50] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:26:50] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ec3d0>
[2025-04-10 16:26:50] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:26:50] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6dad90>
[2025-04-10 16:26:50] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:26:50] send_request_headers.complete
[2025-04-10 16:26:50] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:26:50] send_request_body.complete
[2025-04-10 16:26:50] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:26:50] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:26:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'372'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_c9a99a51f12b3e102b1c1d90b7b8ca02'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0dc8f9a1e4a21-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:26:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:26:50] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:26:50] receive_response_body.complete
[2025-04-10 16:26:50] response_closed.started
[2025-04-10 16:26:50] response_closed.complete
[2025-04-10 16:26:50] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:26:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '372', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_c9a99a51f12b3e102b1c1d90b7b8ca02', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0dc8f9a1e4a21-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:26:50] request_id: req_c9a99a51f12b3e102b1c1d90b7b8ca02
[2025-04-10 16:26:50] [SIM] News Sentiment: BUY
[2025-04-10 16:26:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:26:51] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:26:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:26:51] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 16:26:51] [SIM] EUR/USD_MINI: MACD=0.08, RSI=50.82, Direction=BUY
[2025-04-10 16:26:51] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "94310256-9600-4d32-910f-53dfdc6a7e78"
}
[2025-04-10 16:26:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:26:51] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:26:51] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:26:51] ⚠️ 嘗試 fallback：dealReference=94310256-9600-4d32-910f-53dfdc6a7e78
[2025-04-10 16:26:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:26:52] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:26:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:26:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:31:52] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:31:52] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:31:52] close.started
[2025-04-10 16:31:52] close.complete
[2025-04-10 16:31:52] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:31:52] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6edad0>
[2025-04-10 16:31:52] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:31:52] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ec290>
[2025-04-10 16:31:52] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:31:52] send_request_headers.complete
[2025-04-10 16:31:52] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:31:52] send_request_body.complete
[2025-04-10 16:31:52] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:31:52] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:31:52 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'257'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_dadfc74b2f55546d88c99057b645924f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=mQ5VEWEsk_LZ0ixWcClHkEc1vrFkMfQ1GBm0Nb0zky4-1744273912-1.0.1.1-9x3h598UUubwogw4mZTNSdCjPRFGmV5r0bR4nzJ7bWpPP2vSzvw77XXWDYJzfT4uA6vKhjl0TDjVOoR_YkcoAOwhVuYLutNWbfvGr6kBoh8; path=/; expires=Thu, 10-Apr-25 09:01:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0e3f139fb4a6c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:31:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:31:52] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:31:52] receive_response_body.complete
[2025-04-10 16:31:52] response_closed.started
[2025-04-10 16:31:52] response_closed.complete
[2025-04-10 16:31:52] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:31:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '257', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_dadfc74b2f55546d88c99057b645924f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=mQ5VEWEsk_LZ0ixWcClHkEc1vrFkMfQ1GBm0Nb0zky4-1744273912-1.0.1.1-9x3h598UUubwogw4mZTNSdCjPRFGmV5r0bR4nzJ7bWpPP2vSzvw77XXWDYJzfT4uA6vKhjl0TDjVOoR_YkcoAOwhVuYLutNWbfvGr6kBoh8; path=/; expires=Thu, 10-Apr-25 09:01:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0e3f139fb4a6c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:31:52] request_id: req_dadfc74b2f55546d88c99057b645924f
[2025-04-10 16:31:52] [SIM] News Sentiment: BUY
[2025-04-10 16:31:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:31:53] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:31:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:31:53] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 16:31:53] [SIM] EUR/USD_MINI: MACD=0.59, RSI=53.11, Direction=BUY
[2025-04-10 16:31:53] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "eb3f026c-35f6-4250-968b-34bc3c51adb9"
}
[2025-04-10 16:31:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:31:54] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:31:54] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:31:54] ⚠️ 嘗試 fallback：dealReference=eb3f026c-35f6-4250-968b-34bc3c51adb9
[2025-04-10 16:31:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:31:54] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:31:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:31:54] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:36:54] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:36:54] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:36:54] close.started
[2025-04-10 16:36:54] close.complete
[2025-04-10 16:36:54] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:36:54] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fe210>
[2025-04-10 16:36:54] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:36:54] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fcfd0>
[2025-04-10 16:36:54] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:36:54] send_request_headers.complete
[2025-04-10 16:36:54] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:36:54] send_request_body.complete
[2025-04-10 16:36:54] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:36:55] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:36:55 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'327'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_e9ff6899190f2f95dda5758d2b28bf2b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0eb523a598f0f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:36:55] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:36:55] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:36:55] receive_response_body.complete
[2025-04-10 16:36:55] response_closed.started
[2025-04-10 16:36:55] response_closed.complete
[2025-04-10 16:36:55] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:36:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '327', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_e9ff6899190f2f95dda5758d2b28bf2b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0eb523a598f0f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:36:55] request_id: req_e9ff6899190f2f95dda5758d2b28bf2b
[2025-04-10 16:36:55] [SIM] News Sentiment: BUY
[2025-04-10 16:36:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:36:55] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:36:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:36:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 16:36:56] [SIM] EUR/USD_MINI: MACD=-0.41, RSI=43.54, Direction=SELL
[2025-04-10 16:36:56] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "37b02ade-88fb-4acb-839d-c81b710c91a6"
}
[2025-04-10 16:36:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:36:56] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:36:56] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:36:56] ⚠️ 嘗試 fallback：dealReference=37b02ade-88fb-4acb-839d-c81b710c91a6
[2025-04-10 16:36:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:36:57] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:36:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:36:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
nohup: ignoring input
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 6, in <module>
    from dotenv import load_dotenv
ModuleNotFoundError: No module named 'dotenv'
nohup: ignoring input
[2025-04-10 16:41:03] [KALEN-SIM] ✅ 成功啟動版本：Unified-Sim-v1.0
[2025-04-10 16:41:03] 🗂️ 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1641.zip
[2025-04-10 16:41:03] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 16:41:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:41:04] [AI] News Sentiment：BUY
[2025-04-10 16:41:05] [判斷] EUR/USD_MINI: MACD=-0.84, RSI=46.12, Direction=SELL
[2025-04-10 16:41:05] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 16:41:57] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:41:57] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:41:57] close.started
[2025-04-10 16:41:57] close.complete
[2025-04-10 16:41:57] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:41:57] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ec910>
[2025-04-10 16:41:57] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:41:57] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ef550>
[2025-04-10 16:41:57] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:41:57] send_request_headers.complete
[2025-04-10 16:41:57] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:41:57] send_request_body.complete
[2025-04-10 16:41:57] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:41:58] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:41:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'472'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_30f278f8664110d49dde80eb5090af8f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0f2b68ec1a9c1-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:41:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:41:58] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:41:58] receive_response_body.complete
[2025-04-10 16:41:58] response_closed.started
[2025-04-10 16:41:58] response_closed.complete
[2025-04-10 16:41:58] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:41:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '472', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_30f278f8664110d49dde80eb5090af8f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0f2b68ec1a9c1-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:41:58] request_id: req_30f278f8664110d49dde80eb5090af8f
[2025-04-10 16:41:58] [SIM] News Sentiment: BUY
[2025-04-10 16:41:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:41:58] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:41:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:41:58] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 16:41:58] [SIM] EUR/USD_MINI: MACD=0.05, RSI=54.91, Direction=BUY
[2025-04-10 16:41:58] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "aeaf8a48-f975-4595-9765-e61b90097269"
}
[2025-04-10 16:41:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:41:59] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:41:59] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:41:59] ⚠️ 嘗試 fallback：dealReference=aeaf8a48-f975-4595-9765-e61b90097269
[2025-04-10 16:41:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:41:59] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:41:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:41:59] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
nohup: ignoring input
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 6, in <module>
    from dotenv import load_dotenv
ModuleNotFoundError: No module named 'dotenv'
[2025-04-10 16:46:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:46:06] [AI] News Sentiment：BUY
[2025-04-10 16:46:07] [判斷] EUR/USD_MINI: MACD=0.62, RSI=51.84, Direction=BUY
[2025-04-10 16:46:07] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 16:46:59] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:46:59] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:46:59] close.started
[2025-04-10 16:46:59] close.complete
[2025-04-10 16:46:59] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:46:59] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f0610>
[2025-04-10 16:46:59] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:46:59] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f3110>
[2025-04-10 16:46:59] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:46:59] send_request_headers.complete
[2025-04-10 16:46:59] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:46:59] send_request_body.complete
[2025-04-10 16:46:59] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:47:00] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:47:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'341'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_ac00898e48493c684a581dbbaa175420'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Y6hVxo8nRhHDrC4bREZw486LF36fex5ssYXxTjVhXVk-1744274820-1.0.1.1-oeNnDmbpR4O_FqP98Zhwa7xVDXOz_CHFpGQfhdBHzNRI2kbvFX8p4t8xCsL6m3GGP68YuGLXghTpT2LnaY5Uid6N7qNNyeitOWaiTXYhZrI; path=/; expires=Thu, 10-Apr-25 09:17:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e0fa188d038463-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:47:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:47:00] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:47:00] receive_response_body.complete
[2025-04-10 16:47:00] response_closed.started
[2025-04-10 16:47:00] response_closed.complete
[2025-04-10 16:47:00] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:47:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '341', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_ac00898e48493c684a581dbbaa175420', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=Y6hVxo8nRhHDrC4bREZw486LF36fex5ssYXxTjVhXVk-1744274820-1.0.1.1-oeNnDmbpR4O_FqP98Zhwa7xVDXOz_CHFpGQfhdBHzNRI2kbvFX8p4t8xCsL6m3GGP68YuGLXghTpT2LnaY5Uid6N7qNNyeitOWaiTXYhZrI; path=/; expires=Thu, 10-Apr-25 09:17:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e0fa188d038463-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:47:00] request_id: req_ac00898e48493c684a581dbbaa175420
[2025-04-10 16:47:00] [SIM] News Sentiment: BUY
[2025-04-10 16:47:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:47:00] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:47:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:47:01] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 16:47:01] [SIM] EUR/USD_MINI: MACD=0.85, RSI=55.92, Direction=BUY
[2025-04-10 16:47:01] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fd95381d-5535-4d26-a0ce-bc2bd7a4c0d8"
}
[2025-04-10 16:47:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:47:01] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:47:01] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:47:01] ⚠️ 嘗試 fallback：dealReference=fd95381d-5535-4d26-a0ce-bc2bd7a4c0d8
[2025-04-10 16:47:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:47:01] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:47:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:47:02] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:51:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:51:09] [AI] News Sentiment：BUY
[2025-04-10 16:51:10] [判斷] EUR/USD_MINI: MACD=0.42, RSI=43.79, Direction=BUY
[2025-04-10 16:51:10] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 16:52:02] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:52:02] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:52:02] close.started
[2025-04-10 16:52:02] close.complete
[2025-04-10 16:52:02] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:52:02] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d8c90>
[2025-04-10 16:52:02] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:52:02] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d98d0>
[2025-04-10 16:52:02] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:52:02] send_request_headers.complete
[2025-04-10 16:52:02] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:52:02] send_request_body.complete
[2025-04-10 16:52:02] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:52:02] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:52:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'298'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_72b9f33a19c3dd95e997e0c938bc1e54'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e101797a866b62-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:52:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:52:02] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:52:02] receive_response_body.complete
[2025-04-10 16:52:02] response_closed.started
[2025-04-10 16:52:02] response_closed.complete
[2025-04-10 16:52:02] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:52:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '298', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_72b9f33a19c3dd95e997e0c938bc1e54', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e101797a866b62-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:52:02] request_id: req_72b9f33a19c3dd95e997e0c938bc1e54
[2025-04-10 16:52:02] [SIM] News Sentiment: BUY
[2025-04-10 16:52:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:52:03] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:52:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:52:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 16:52:03] [SIM] EUR/USD_MINI: MACD=0.54, RSI=49.78, Direction=BUY
[2025-04-10 16:52:03] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9048b892-7333-4320-9ebc-659ae1c86d35"
}
[2025-04-10 16:52:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:52:03] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:52:03] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:52:03] ⚠️ 嘗試 fallback：dealReference=9048b892-7333-4320-9ebc-659ae1c86d35
[2025-04-10 16:52:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:52:04] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:52:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:52:04] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 16:56:11] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:56:11] [AI] News Sentiment：BUY
[2025-04-10 16:56:12] [判斷] EUR/USD_MINI: MACD=-0.34, RSI=51.29, Direction=SELL
[2025-04-10 16:56:12] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 16:57:04] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 16:57:04] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 16:57:04] close.started
[2025-04-10 16:57:04] close.complete
[2025-04-10 16:57:04] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 16:57:04] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fcfd0>
[2025-04-10 16:57:04] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 16:57:04] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d6990>
[2025-04-10 16:57:04] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 16:57:04] send_request_headers.complete
[2025-04-10 16:57:04] send_request_body.started request=<Request [b'POST']>
[2025-04-10 16:57:04] send_request_body.complete
[2025-04-10 16:57:04] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 16:57:04] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 08:57:04 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'365'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_fd7c97db207e5e4bf8890d38ee6cd1bd'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e108da4b52a9bc-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 16:57:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 16:57:04] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 16:57:04] receive_response_body.complete
[2025-04-10 16:57:04] response_closed.started
[2025-04-10 16:57:04] response_closed.complete
[2025-04-10 16:57:04] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 08:57:04 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '365', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_fd7c97db207e5e4bf8890d38ee6cd1bd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e108da4b52a9bc-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 16:57:04] request_id: req_fd7c97db207e5e4bf8890d38ee6cd1bd
[2025-04-10 16:57:04] [SIM] News Sentiment: BUY
[2025-04-10 16:57:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:57:05] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:57:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:57:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 16:57:05] [SIM] EUR/USD_MINI: MACD=1.25, RSI=53.00, Direction=BUY
[2025-04-10 16:57:05] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "141fd369-8cb7-41a4-9ffc-f08b87a0135a"
}
[2025-04-10 16:57:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:57:05] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 16:57:05] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 16:57:05] ⚠️ 嘗試 fallback：dealReference=141fd369-8cb7-41a4-9ffc-f08b87a0135a
[2025-04-10 16:57:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:57:06] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 16:57:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 16:57:06] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 17:01:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:01:13] [AI] News Sentiment：BUY
[2025-04-10 17:01:14] [判斷] EUR/USD_MINI: MACD=0.65, RSI=46.23, Direction=BUY
[2025-04-10 17:01:14] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 17:02:06] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:02:06] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:02:06] close.started
[2025-04-10 17:02:06] close.complete
[2025-04-10 17:02:06] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:02:06] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ffb10>
[2025-04-10 17:02:06] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:02:06] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fe590>
[2025-04-10 17:02:06] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:02:06] send_request_headers.complete
[2025-04-10 17:02:06] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:02:06] send_request_body.complete
[2025-04-10 17:02:06] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:02:07] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:02:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'301'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_c8b7c8d8ff9a3980d9866c0a90a47721'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=prDQaZD2O4l_w6fV5qk_LglSisKcjTzKHb4sjUKGIqI-1744275727-1.0.1.1-8YqMuLSug7e6g0VPVAO0hmOiJh_Ph2_otW7cFjHCZGSIk6iM699TNUjfaJPuUINQsDvgyXTe5szPrb9V_8lJNLDhsi1d5CThOwpGjii2gE4; path=/; expires=Thu, 10-Apr-25 09:32:07 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1103b2a59a9cb-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:02:07] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:02:07] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:02:07] receive_response_body.complete
[2025-04-10 17:02:07] response_closed.started
[2025-04-10 17:02:07] response_closed.complete
[2025-04-10 17:02:07] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:02:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '301', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_c8b7c8d8ff9a3980d9866c0a90a47721', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=prDQaZD2O4l_w6fV5qk_LglSisKcjTzKHb4sjUKGIqI-1744275727-1.0.1.1-8YqMuLSug7e6g0VPVAO0hmOiJh_Ph2_otW7cFjHCZGSIk6iM699TNUjfaJPuUINQsDvgyXTe5szPrb9V_8lJNLDhsi1d5CThOwpGjii2gE4; path=/; expires=Thu, 10-Apr-25 09:32:07 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1103b2a59a9cb-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:02:07] request_id: req_c8b7c8d8ff9a3980d9866c0a90a47721
[2025-04-10 17:02:07] [SIM] News Sentiment: BUY
[2025-04-10 17:02:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:02:07] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:02:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:02:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 17:02:07] [SIM] EUR/USD_MINI: MACD=0.52, RSI=53.22, Direction=BUY
[2025-04-10 17:02:07] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "97b838ba-6ad4-4f49-ab9c-a7b338f9bdc5"
}
[2025-04-10 17:02:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:02:08] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:02:08] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:02:08] ⚠️ 嘗試 fallback：dealReference=97b838ba-6ad4-4f49-ab9c-a7b338f9bdc5
[2025-04-10 17:02:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:02:08] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:02:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:02:08] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 17:06:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:06:16] [AI] News Sentiment：BUY
[2025-04-10 17:06:17] [判斷] EUR/USD_MINI: MACD=-0.17, RSI=47.45, Direction=SELL
[2025-04-10 17:06:17] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 17:07:08] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:07:08] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:07:08] close.started
[2025-04-10 17:07:08] close.complete
[2025-04-10 17:07:08] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:07:08] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e51d0>
[2025-04-10 17:07:08] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:07:08] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ee990>
[2025-04-10 17:07:08] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:07:08] send_request_headers.complete
[2025-04-10 17:07:08] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:07:08] send_request_body.complete
[2025-04-10 17:07:08] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:07:09] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:07:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'432'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_108c013b260c22c92267a448d3a763d0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1179bd9c38098-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:07:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:07:09] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:07:09] receive_response_body.complete
[2025-04-10 17:07:09] response_closed.started
[2025-04-10 17:07:09] response_closed.complete
[2025-04-10 17:07:09] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:07:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '432', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_108c013b260c22c92267a448d3a763d0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1179bd9c38098-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:07:09] request_id: req_108c013b260c22c92267a448d3a763d0
[2025-04-10 17:07:09] [SIM] News Sentiment: BUY
[2025-04-10 17:07:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:07:09] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:07:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:07:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:07:10] [SIM] EUR/USD_MINI: MACD=0.31, RSI=49.85, Direction=BUY
[2025-04-10 17:07:10] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3dddee74-75c0-4198-96b3-e0fb3c98f0e9"
}
[2025-04-10 17:07:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:07:10] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:07:10] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:07:10] ⚠️ 嘗試 fallback：dealReference=3dddee74-75c0-4198-96b3-e0fb3c98f0e9
[2025-04-10 17:07:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:07:10] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:07:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:07:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 17:11:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:11:18] [AI] News Sentiment：BUY
[2025-04-10 17:11:19] [判斷] EUR/USD_MINI: MACD=0.72, RSI=56.01, Direction=BUY
[2025-04-10 17:11:19] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 17:12:10] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:12:10] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:12:10] close.started
[2025-04-10 17:12:10] close.complete
[2025-04-10 17:12:10] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:12:10] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fdcd0>
[2025-04-10 17:12:10] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:12:10] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fce50>
[2025-04-10 17:12:10] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:12:10] send_request_headers.complete
[2025-04-10 17:12:10] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:12:10] send_request_body.complete
[2025-04-10 17:12:10] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:12:11] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:12:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'383'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_ab90f741d1b6f58ca7833a3bfb5429db'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e11efcbe0a6a92-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:12:11] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:12:11] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:12:11] receive_response_body.complete
[2025-04-10 17:12:11] response_closed.started
[2025-04-10 17:12:11] response_closed.complete
[2025-04-10 17:12:11] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:12:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '383', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_ab90f741d1b6f58ca7833a3bfb5429db', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e11efcbe0a6a92-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:12:11] request_id: req_ab90f741d1b6f58ca7833a3bfb5429db
[2025-04-10 17:12:11] [SIM] News Sentiment: BUY
[2025-04-10 17:12:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:12:11] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:12:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:12:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:12:12] [SIM] EUR/USD_MINI: MACD=-0.87, RSI=52.17, Direction=SELL
[2025-04-10 17:12:12] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "62bf89ce-2d01-4967-96c7-4b6b9784d4ce"
}
[2025-04-10 17:12:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:12:12] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:12:12] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:12:12] ⚠️ 嘗試 fallback：dealReference=62bf89ce-2d01-4967-96c7-4b6b9784d4ce
[2025-04-10 17:12:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:12:12] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:12:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:12:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 17:16:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:16:20] [AI] News Sentiment：BUY
[2025-04-10 17:16:21] [判斷] EUR/USD_MINI: MACD=0.51, RSI=54.05, Direction=BUY
[2025-04-10 17:16:21] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 17:17:13] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:17:13] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:17:13] close.started
[2025-04-10 17:17:13] close.complete
[2025-04-10 17:17:13] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:17:13] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fcc10>
[2025-04-10 17:17:13] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:17:13] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fc850>
[2025-04-10 17:17:13] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:17:13] send_request_headers.complete
[2025-04-10 17:17:13] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:17:13] send_request_body.complete
[2025-04-10 17:17:13] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:17:13] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:17:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'270'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_8a89db3442cfe93ebea3f02ae20461f4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=DAu7SRIrJFEeHZUSR1cI24RZo8ABF4D7J_O.SH_0fOU-1744276633-1.0.1.1-AW1VHx1u_TpTdjEt6RSGT8K2QXKtVSeghDzzBowPhJ.uZ_FUQpJMXgtQS9dJ9vDPazLA0aZadHyFwlKTBSdNozB3thKt.AHBWLBPcIovmK0; path=/; expires=Thu, 10-Apr-25 09:47:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1265dedd44aa0-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:17:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:17:13] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:17:13] receive_response_body.complete
[2025-04-10 17:17:13] response_closed.started
[2025-04-10 17:17:13] response_closed.complete
[2025-04-10 17:17:13] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:17:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '270', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_8a89db3442cfe93ebea3f02ae20461f4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=DAu7SRIrJFEeHZUSR1cI24RZo8ABF4D7J_O.SH_0fOU-1744276633-1.0.1.1-AW1VHx1u_TpTdjEt6RSGT8K2QXKtVSeghDzzBowPhJ.uZ_FUQpJMXgtQS9dJ9vDPazLA0aZadHyFwlKTBSdNozB3thKt.AHBWLBPcIovmK0; path=/; expires=Thu, 10-Apr-25 09:47:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1265dedd44aa0-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:17:13] request_id: req_8a89db3442cfe93ebea3f02ae20461f4
[2025-04-10 17:17:13] [SIM] News Sentiment: BUY
[2025-04-10 17:17:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:17:14] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:17:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:17:14] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:17:14] [SIM] EUR/USD_MINI: MACD=0.16, RSI=51.32, Direction=BUY
[2025-04-10 17:17:14] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3fd024e7-c582-48cf-8a99-e944a933b618"
}
[2025-04-10 17:17:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:17:14] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:17:14] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:17:14] ⚠️ 嘗試 fallback：dealReference=3fd024e7-c582-48cf-8a99-e944a933b618
[2025-04-10 17:17:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:17:15] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:17:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:17:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 17:21:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:21:23] [AI] News Sentiment：BUY
[2025-04-10 17:21:23] [判斷] EUR/USD_MINI: MACD=0.32, RSI=49.88, Direction=BUY
[2025-04-10 17:21:24] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 17:22:15] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:22:15] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:22:15] close.started
[2025-04-10 17:22:15] close.complete
[2025-04-10 17:22:15] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:22:15] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d81d0>
[2025-04-10 17:22:15] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:22:15] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6da850>
[2025-04-10 17:22:15] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:22:15] send_request_headers.complete
[2025-04-10 17:22:15] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:22:15] send_request_body.complete
[2025-04-10 17:22:15] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:22:15] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:22:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'354'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_537594700cb5b41e843eaf58513d6663'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e12dbe4daa8265-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:22:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:22:15] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:22:15] receive_response_body.complete
[2025-04-10 17:22:15] response_closed.started
[2025-04-10 17:22:15] response_closed.complete
[2025-04-10 17:22:15] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:22:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '354', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_537594700cb5b41e843eaf58513d6663', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e12dbe4daa8265-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:22:15] request_id: req_537594700cb5b41e843eaf58513d6663
[2025-04-10 17:22:15] [SIM] News Sentiment: BUY
[2025-04-10 17:22:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:22:16] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:22:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:22:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:22:16] [SIM] EUR/USD_MINI: MACD=0.25, RSI=49.67, Direction=BUY
[2025-04-10 17:22:16] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1d3528fa-dc95-4c73-a8a6-5f78e9ffe604"
}
[2025-04-10 17:22:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:22:16] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:22:16] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:22:16] ⚠️ 嘗試 fallback：dealReference=1d3528fa-dc95-4c73-a8a6-5f78e9ffe604
[2025-04-10 17:22:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:22:17] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:22:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:22:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
nohup: ignoring input
[2025-04-10 17:26:20] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1726.zip)
[2025-04-10 17:26:20] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1726.zip
[2025-04-10 17:26:20] 🚀 [SIM] 開始模擬交易任務
[2025-04-10 17:26:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:26:20] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 403 46
[2025-04-10 17:26:20] ❌ Login Failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2-Final
[2025-04-10 17:27:17] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:27:17] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:27:17] close.started
[2025-04-10 17:27:17] close.complete
[2025-04-10 17:27:17] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:27:17] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f0890>
[2025-04-10 17:27:17] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:27:17] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f0090>
[2025-04-10 17:27:17] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:27:17] send_request_headers.complete
[2025-04-10 17:27:17] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:27:17] send_request_body.complete
[2025-04-10 17:27:17] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:27:18] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:27:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'391'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_53fa3e204882a5fb684abb586cca55b0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1351f0be04a57-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:27:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:27:18] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:27:18] receive_response_body.complete
[2025-04-10 17:27:18] response_closed.started
[2025-04-10 17:27:18] response_closed.complete
[2025-04-10 17:27:18] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:27:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '391', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_53fa3e204882a5fb684abb586cca55b0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1351f0be04a57-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:27:18] request_id: req_53fa3e204882a5fb684abb586cca55b0
[2025-04-10 17:27:18] [SIM] News Sentiment: BUY
[2025-04-10 17:27:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:27:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:27:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:27:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:27:18] [SIM] EUR/USD_MINI: MACD=-0.67, RSI=50.90, Direction=SELL
[2025-04-10 17:27:18] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "4eb452e5-fcaa-4ea3-a8ca-46b3268e9983"
}
[2025-04-10 17:27:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:27:19] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:27:19] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:27:19] ⚠️ 嘗試 fallback：dealReference=4eb452e5-fcaa-4ea3-a8ca-46b3268e9983
[2025-04-10 17:27:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:27:19] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:27:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:27:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 17:32:19] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:32:19] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:32:19] close.started
[2025-04-10 17:32:19] close.complete
[2025-04-10 17:32:19] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:32:19] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ed5d0>
[2025-04-10 17:32:19] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:32:19] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ef2d0>
[2025-04-10 17:32:19] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:32:19] send_request_headers.complete
[2025-04-10 17:32:19] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:32:19] send_request_body.complete
[2025-04-10 17:32:19] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:32:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:32:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'359'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_ef333cadfa9eef162d13078db7981106'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=ilfr2l.3ZE89qfcHVtFmhys5e_UIVMzmnyfPBxLlM3M-1744277540-1.0.1.1-tIbV5Obo.2ekEo_mz_vNvVF4Pm8RRLyDChM3Wn3ns3ADA1iRj6_0jA3pb1Awp0Q4TDKTnnKQTfOaInKb.ptcrqpKkUVO04tvGtdGIBTzp3o; path=/; expires=Thu, 10-Apr-25 10:02:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e13c807b408282-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:32:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:32:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:32:20] receive_response_body.complete
[2025-04-10 17:32:20] response_closed.started
[2025-04-10 17:32:20] response_closed.complete
[2025-04-10 17:32:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:32:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '359', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_ef333cadfa9eef162d13078db7981106', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=ilfr2l.3ZE89qfcHVtFmhys5e_UIVMzmnyfPBxLlM3M-1744277540-1.0.1.1-tIbV5Obo.2ekEo_mz_vNvVF4Pm8RRLyDChM3Wn3ns3ADA1iRj6_0jA3pb1Awp0Q4TDKTnnKQTfOaInKb.ptcrqpKkUVO04tvGtdGIBTzp3o; path=/; expires=Thu, 10-Apr-25 10:02:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e13c807b408282-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:32:20] request_id: req_ef333cadfa9eef162d13078db7981106
[2025-04-10 17:32:20] [SIM] News Sentiment: BUY
[2025-04-10 17:32:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:32:20] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:32:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:32:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:32:21] [SIM] EUR/USD_MINI: MACD=1.17, RSI=45.15, Direction=BUY
[2025-04-10 17:32:21] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "289a8f7d-a923-4108-95b7-8bc3183d735e"
}
[2025-04-10 17:32:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:32:21] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:32:21] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:32:21] ⚠️ 嘗試 fallback：dealReference=289a8f7d-a923-4108-95b7-8bc3183d735e
[2025-04-10 17:32:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:32:21] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:32:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:32:22] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68

[🔁 模擬觀察：即將啟動 auto_trading_unified_sim.py]
nohup: ignoring input
[2025-04-10 17:33:05] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_1733.zip)
[2025-04-10 17:33:05] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_1733.zip
[2025-04-10 17:33:05] 🚀 [SIM] 開始模擬交易任務
[2025-04-10 17:33:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:33:05] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 403 46
[2025-04-10 17:33:05] ❌ Login Failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2-Final
[2025-04-10 17:37:22] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:37:22] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:37:22] close.started
[2025-04-10 17:37:22] close.complete
[2025-04-10 17:37:22] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:37:22] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e5090>
[2025-04-10 17:37:22] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:37:22] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e56d0>
[2025-04-10 17:37:22] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:37:22] send_request_headers.complete
[2025-04-10 17:37:22] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:37:22] send_request_body.complete
[2025-04-10 17:37:22] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:37:22] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:37:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'405'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_59fb4c501bdc0e15c98bbcf16464a173'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e143e24b244a67-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:37:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:37:22] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:37:22] receive_response_body.complete
[2025-04-10 17:37:22] response_closed.started
[2025-04-10 17:37:22] response_closed.complete
[2025-04-10 17:37:22] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:37:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '405', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_59fb4c501bdc0e15c98bbcf16464a173', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e143e24b244a67-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:37:22] request_id: req_59fb4c501bdc0e15c98bbcf16464a173
[2025-04-10 17:37:22] [SIM] News Sentiment: BUY
[2025-04-10 17:37:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:37:23] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:37:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:37:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:37:23] [SIM] EUR/USD_MINI: MACD=0.25, RSI=54.25, Direction=BUY
[2025-04-10 17:37:23] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "191fcd8c-1fc9-4152-b262-a35c5decea07"
}
[2025-04-10 17:37:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:37:23] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:37:23] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:37:23] ⚠️ 嘗試 fallback：dealReference=191fcd8c-1fc9-4152-b262-a35c5decea07
[2025-04-10 17:37:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:37:24] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:37:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:37:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 17:42:24] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:42:24] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:42:24] close.started
[2025-04-10 17:42:24] close.complete
[2025-04-10 17:42:24] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:42:24] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f0150>
[2025-04-10 17:42:24] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:42:24] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f3c90>
[2025-04-10 17:42:24] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:42:24] send_request_headers.complete
[2025-04-10 17:42:24] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:42:24] send_request_body.complete
[2025-04-10 17:42:24] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:42:25] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:42:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'541'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_4c2a11e191a4e2287e8b94d7994195b3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e14b441a284a8c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:42:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:42:25] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:42:25] receive_response_body.complete
[2025-04-10 17:42:25] response_closed.started
[2025-04-10 17:42:25] response_closed.complete
[2025-04-10 17:42:25] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:42:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '541', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_4c2a11e191a4e2287e8b94d7994195b3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e14b441a284a8c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:42:25] request_id: req_4c2a11e191a4e2287e8b94d7994195b3
[2025-04-10 17:42:25] [SIM] News Sentiment: BUY
[2025-04-10 17:42:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:42:25] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:42:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:42:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:42:26] [SIM] EUR/USD_MINI: MACD=0.11, RSI=55.20, Direction=BUY
[2025-04-10 17:42:26] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fbfb53ef-487b-41c5-96ee-04f02fca5435"
}
[2025-04-10 17:42:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:42:26] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:42:26] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:42:26] ⚠️ 嘗試 fallback：dealReference=fbfb53ef-487b-41c5-96ee-04f02fca5435
[2025-04-10 17:42:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:42:26] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:42:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:42:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
nohup: ignoring input
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 8, in <module>
    from openai import OpenAI
ModuleNotFoundError: No module named 'openai'
[2025-04-10 17:47:27] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:47:27] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:47:27] close.started
[2025-04-10 17:47:27] close.complete
[2025-04-10 17:47:27] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:47:27] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ec990>
[2025-04-10 17:47:27] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:47:27] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ef150>
[2025-04-10 17:47:27] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:47:27] send_request_headers.complete
[2025-04-10 17:47:27] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:47:27] send_request_body.complete
[2025-04-10 17:47:27] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:47:28] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:47:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'586'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_30ae8f79a673eb1ab2150b92ec70e2a2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=BejecdGv8dOMHgtZ6pHb_TBOndSCpoiACdKLzQRAZIM-1744278448-1.0.1.1-VE5BwLchpXw331cgx_jl7JYHGIPoAnQ2tiJoeYBs9QMd67DBJ55VOdsBULdsgdD9UkpcvAgroVTUZM_o5GvEaXOdY.gRJG4H5jAw83Fcv_I; path=/; expires=Thu, 10-Apr-25 10:17:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e152a758814a33-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:47:28] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:47:28] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:47:28] receive_response_body.complete
[2025-04-10 17:47:28] response_closed.started
[2025-04-10 17:47:28] response_closed.complete
[2025-04-10 17:47:28] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:47:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '586', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_30ae8f79a673eb1ab2150b92ec70e2a2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=BejecdGv8dOMHgtZ6pHb_TBOndSCpoiACdKLzQRAZIM-1744278448-1.0.1.1-VE5BwLchpXw331cgx_jl7JYHGIPoAnQ2tiJoeYBs9QMd67DBJ55VOdsBULdsgdD9UkpcvAgroVTUZM_o5GvEaXOdY.gRJG4H5jAw83Fcv_I; path=/; expires=Thu, 10-Apr-25 10:17:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e152a758814a33-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:47:28] request_id: req_30ae8f79a673eb1ab2150b92ec70e2a2
[2025-04-10 17:47:28] [SIM] News Sentiment: BUY
[2025-04-10 17:47:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:47:28] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:47:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:47:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-10 17:47:28] [SIM] EUR/USD_MINI: MACD=0.10, RSI=47.96, Direction=BUY
[2025-04-10 17:47:28] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e492fd9a-e21e-4b58-8c2c-7ebaf027a3c7"
}
[2025-04-10 17:47:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:47:29] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:47:29] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:47:29] ⚠️ 嘗試 fallback：dealReference=e492fd9a-e21e-4b58-8c2c-7ebaf027a3c7
[2025-04-10 17:47:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:47:29] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:47:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:47:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 17:52:29] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:52:29] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:52:29] close.started
[2025-04-10 17:52:29] close.complete
[2025-04-10 17:52:29] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:52:29] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d4c90>
[2025-04-10 17:52:29] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:52:29] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d4210>
[2025-04-10 17:52:29] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:52:29] send_request_headers.complete
[2025-04-10 17:52:29] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:52:29] send_request_body.complete
[2025-04-10 17:52:29] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:52:33] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:52:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3419'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_1303216bc9e05354bee7b31210c6e923'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e15a09ad1f4a91-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:52:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:52:33] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:52:33] receive_response_body.complete
[2025-04-10 17:52:33] response_closed.started
[2025-04-10 17:52:33] response_closed.complete
[2025-04-10 17:52:33] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:52:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3419', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_1303216bc9e05354bee7b31210c6e923', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e15a09ad1f4a91-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:52:33] request_id: req_1303216bc9e05354bee7b31210c6e923
[2025-04-10 17:52:33] [SIM] News Sentiment: BUY
[2025-04-10 17:52:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:52:33] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:52:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:52:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:52:34] [SIM] EUR/USD_MINI: MACD=0.89, RSI=53.61, Direction=BUY
[2025-04-10 17:52:34] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3af3566e-d962-413a-b004-572d246ce675"
}
[2025-04-10 17:52:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:52:34] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:52:34] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:52:34] ⚠️ 嘗試 fallback：dealReference=3af3566e-d962-413a-b004-572d246ce675
[2025-04-10 17:52:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:52:34] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:52:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:52:35] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 17:57:35] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 17:57:35] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 17:57:35] close.started
[2025-04-10 17:57:35] close.complete
[2025-04-10 17:57:35] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 17:57:35] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fcc90>
[2025-04-10 17:57:35] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 17:57:35] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fdc10>
[2025-04-10 17:57:35] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 17:57:35] send_request_headers.complete
[2025-04-10 17:57:35] send_request_body.started request=<Request [b'POST']>
[2025-04-10 17:57:35] send_request_body.complete
[2025-04-10 17:57:35] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 17:57:35] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 09:57:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'287'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_997267f9a15717f7830c9972363aefec'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1617e7f1fa9cd-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 17:57:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 17:57:35] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 17:57:35] receive_response_body.complete
[2025-04-10 17:57:35] response_closed.started
[2025-04-10 17:57:35] response_closed.complete
[2025-04-10 17:57:35] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 09:57:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '287', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_997267f9a15717f7830c9972363aefec', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1617e7f1fa9cd-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 17:57:35] request_id: req_997267f9a15717f7830c9972363aefec
[2025-04-10 17:57:35] [SIM] News Sentiment: BUY
[2025-04-10 17:57:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:57:35] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:57:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:57:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 17:57:36] [SIM] EUR/USD_MINI: MACD=-0.35, RSI=50.68, Direction=SELL
[2025-04-10 17:57:36] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "4d74202a-bf87-4efa-9b99-1579c36ce608"
}
[2025-04-10 17:57:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:57:36] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 17:57:36] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 17:57:36] ⚠️ 嘗試 fallback：dealReference=4d74202a-bf87-4efa-9b99-1579c36ce608
[2025-04-10 17:57:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:57:36] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 17:57:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 17:57:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:02:37] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:02:37] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:02:37] close.started
[2025-04-10 18:02:37] close.complete
[2025-04-10 18:02:37] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:02:37] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e54d0>
[2025-04-10 18:02:37] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:02:37] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e63d0>
[2025-04-10 18:02:37] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:02:37] send_request_headers.complete
[2025-04-10 18:02:37] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:02:37] send_request_body.complete
[2025-04-10 18:02:37] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:02:37] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:02:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'239'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_65be838dad130c9af35392be8fb8393e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=1dgtWw_EkO3Pw_6MZDmPgbKCgYmuH0VE5Li7jEl7Ses-1744279357-1.0.1.1-or2RWZ3Fk8J_PHMb2rEUB511QgibDS.NUot84W9IVIhCotiO4mwgx7MwqXwXJEce8mV5jMOcEbeS9be1Lz0cZgW9vsNUCcZiCLEsBwpPEVE; path=/; expires=Thu, 10-Apr-25 10:32:37 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e168df0c7b4a5d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:02:37] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:02:37] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:02:37] receive_response_body.complete
[2025-04-10 18:02:37] response_closed.started
[2025-04-10 18:02:37] response_closed.complete
[2025-04-10 18:02:37] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:02:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '239', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_65be838dad130c9af35392be8fb8393e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=1dgtWw_EkO3Pw_6MZDmPgbKCgYmuH0VE5Li7jEl7Ses-1744279357-1.0.1.1-or2RWZ3Fk8J_PHMb2rEUB511QgibDS.NUot84W9IVIhCotiO4mwgx7MwqXwXJEce8mV5jMOcEbeS9be1Lz0cZgW9vsNUCcZiCLEsBwpPEVE; path=/; expires=Thu, 10-Apr-25 10:32:37 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e168df0c7b4a5d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:02:37] request_id: req_65be838dad130c9af35392be8fb8393e
[2025-04-10 18:02:37] [SIM] News Sentiment: BUY
[2025-04-10 18:02:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:02:38] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:02:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:02:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:02:38] [SIM] EUR/USD_MINI: MACD=-0.29, RSI=39.72, Direction=SELL
[2025-04-10 18:02:38] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "749902c0-17c3-48d6-9d35-1b1be33bcfb7"
}
[2025-04-10 18:02:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:02:38] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:02:38] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:02:38] ⚠️ 嘗試 fallback：dealReference=749902c0-17c3-48d6-9d35-1b1be33bcfb7
[2025-04-10 18:02:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:02:39] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:02:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:02:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:07:39] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:07:39] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:07:39] close.started
[2025-04-10 18:07:39] close.complete
[2025-04-10 18:07:39] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:07:39] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e4050>
[2025-04-10 18:07:39] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:07:39] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e4f50>
[2025-04-10 18:07:39] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:07:39] send_request_headers.complete
[2025-04-10 18:07:39] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:07:39] send_request_body.complete
[2025-04-10 18:07:39] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:07:40] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:07:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'456'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_6b15113efa922b5482cc96b4d492f17b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1703f8dcf4a3a-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:07:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:07:40] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:07:40] receive_response_body.complete
[2025-04-10 18:07:40] response_closed.started
[2025-04-10 18:07:40] response_closed.complete
[2025-04-10 18:07:40] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:07:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '456', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_6b15113efa922b5482cc96b4d492f17b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1703f8dcf4a3a-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:07:40] request_id: req_6b15113efa922b5482cc96b4d492f17b
[2025-04-10 18:07:40] [SIM] News Sentiment: BUY
[2025-04-10 18:07:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:07:40] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:07:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:07:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:07:40] [SIM] EUR/USD_MINI: MACD=0.12, RSI=50.33, Direction=BUY
[2025-04-10 18:07:40] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a0f8e935-24a9-4818-a5f4-433b4de97c83"
}
[2025-04-10 18:07:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:07:41] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:07:41] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:07:41] ⚠️ 嘗試 fallback：dealReference=a0f8e935-24a9-4818-a5f4-433b4de97c83
[2025-04-10 18:07:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:07:41] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:07:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:07:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:12:41] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:12:41] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:12:41] close.started
[2025-04-10 18:12:41] close.complete
[2025-04-10 18:12:41] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:12:41] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fecd0>
[2025-04-10 18:12:41] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:12:41] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fdc90>
[2025-04-10 18:12:41] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:12:41] send_request_headers.complete
[2025-04-10 18:12:41] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:12:41] send_request_body.complete
[2025-04-10 18:12:41] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:12:42] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:12:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'302'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_e68071e77bfc239ef2de781c36580491'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e177a1afe5845e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:12:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:12:42] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:12:42] receive_response_body.complete
[2025-04-10 18:12:42] response_closed.started
[2025-04-10 18:12:42] response_closed.complete
[2025-04-10 18:12:42] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:12:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '302', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_e68071e77bfc239ef2de781c36580491', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e177a1afe5845e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:12:42] request_id: req_e68071e77bfc239ef2de781c36580491
[2025-04-10 18:12:42] [SIM] News Sentiment: BUY
[2025-04-10 18:12:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:12:42] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:12:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:12:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:12:43] [SIM] EUR/USD_MINI: MACD=-0.50, RSI=44.93, Direction=SELL
[2025-04-10 18:12:43] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "938e4639-e10c-4e05-a93b-26a2fe4301ae"
}
[2025-04-10 18:12:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:12:43] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:12:43] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:12:43] ⚠️ 嘗試 fallback：dealReference=938e4639-e10c-4e05-a93b-26a2fe4301ae
[2025-04-10 18:12:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:12:43] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:12:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:12:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:17:44] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:17:44] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:17:44] close.started
[2025-04-10 18:17:44] close.complete
[2025-04-10 18:17:44] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:17:44] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d7cd0>
[2025-04-10 18:17:44] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:17:44] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d7350>
[2025-04-10 18:17:44] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:17:44] send_request_headers.complete
[2025-04-10 18:17:44] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:17:44] send_request_body.complete
[2025-04-10 18:17:44] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:17:44] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:17:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'435'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_0459d96d57ebfa723a03af3a6696dbcd'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Ay.rXBWeaamjAtZz3p_9ohIdekXSUr14hDUBPWENmOM-1744280264-1.0.1.1-JOKV2P1_XlrPlh1gyemu50hnUHhVFnwHWkNpAt6WgStRhbGFIOK6iZpINhh0Q_fmD4lP32a8sV5FJt3GnavIaFKM2i9.zTs8EmS4_1O1XFk; path=/; expires=Thu, 10-Apr-25 10:47:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e17f024da48427-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:17:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:17:44] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:17:44] receive_response_body.complete
[2025-04-10 18:17:44] response_closed.started
[2025-04-10 18:17:44] response_closed.complete
[2025-04-10 18:17:44] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:17:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '435', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_0459d96d57ebfa723a03af3a6696dbcd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=Ay.rXBWeaamjAtZz3p_9ohIdekXSUr14hDUBPWENmOM-1744280264-1.0.1.1-JOKV2P1_XlrPlh1gyemu50hnUHhVFnwHWkNpAt6WgStRhbGFIOK6iZpINhh0Q_fmD4lP32a8sV5FJt3GnavIaFKM2i9.zTs8EmS4_1O1XFk; path=/; expires=Thu, 10-Apr-25 10:47:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e17f024da48427-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:17:44] request_id: req_0459d96d57ebfa723a03af3a6696dbcd
[2025-04-10 18:17:44] [SIM] News Sentiment: BUY
[2025-04-10 18:17:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:17:45] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:17:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:17:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:17:45] [SIM] EUR/USD_MINI: MACD=0.38, RSI=52.94, Direction=BUY
[2025-04-10 18:17:45] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d29233ef-1f76-4408-9ab8-79946e8a3020"
}
[2025-04-10 18:17:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:17:45] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:17:45] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:17:45] ⚠️ 嘗試 fallback：dealReference=d29233ef-1f76-4408-9ab8-79946e8a3020
[2025-04-10 18:17:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:17:46] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:17:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:17:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:22:46] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:22:46] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:22:46] close.started
[2025-04-10 18:22:46] close.complete
[2025-04-10 18:22:46] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:22:46] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ef6d0>
[2025-04-10 18:22:46] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:22:46] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ed790>
[2025-04-10 18:22:46] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:22:46] send_request_headers.complete
[2025-04-10 18:22:46] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:22:46] send_request_body.complete
[2025-04-10 18:22:46] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:22:46] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:22:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'357'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_f0d39ccae7432402e9c9eb511b98f82b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e18663c94e8270-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:22:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:22:46] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:22:46] receive_response_body.complete
[2025-04-10 18:22:46] response_closed.started
[2025-04-10 18:22:46] response_closed.complete
[2025-04-10 18:22:46] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:22:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '357', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_f0d39ccae7432402e9c9eb511b98f82b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e18663c94e8270-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:22:46] request_id: req_f0d39ccae7432402e9c9eb511b98f82b
[2025-04-10 18:22:46] [SIM] News Sentiment: BUY
[2025-04-10 18:22:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:22:47] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:22:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:22:47] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:22:47] [SIM] EUR/USD_MINI: MACD=-0.46, RSI=50.79, Direction=SELL
[2025-04-10 18:22:47] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9a32aaf8-2412-42ed-9356-7a48bb9897f2"
}
[2025-04-10 18:22:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:22:47] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:22:47] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:22:47] ⚠️ 嘗試 fallback：dealReference=9a32aaf8-2412-42ed-9356-7a48bb9897f2
[2025-04-10 18:22:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:22:48] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:22:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:22:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:27:48] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:27:48] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:27:48] close.started
[2025-04-10 18:27:48] close.complete
[2025-04-10 18:27:48] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:27:48] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f0890>
[2025-04-10 18:27:48] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:27:48] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f3210>
[2025-04-10 18:27:48] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:27:48] send_request_headers.complete
[2025-04-10 18:27:48] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:27:48] send_request_body.complete
[2025-04-10 18:27:48] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:27:49] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:27:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'304'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_fb75651845dbc56e0cd073e148727c56'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e18dc4ac1d8f07-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:27:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:27:49] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:27:49] receive_response_body.complete
[2025-04-10 18:27:49] response_closed.started
[2025-04-10 18:27:49] response_closed.complete
[2025-04-10 18:27:49] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:27:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '304', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_fb75651845dbc56e0cd073e148727c56', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e18dc4ac1d8f07-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:27:49] request_id: req_fb75651845dbc56e0cd073e148727c56
[2025-04-10 18:27:49] [SIM] News Sentiment: BUY
[2025-04-10 18:27:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:27:49] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:27:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:27:49] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:27:49] [SIM] EUR/USD_MINI: MACD=0.29, RSI=47.78, Direction=BUY
[2025-04-10 18:27:49] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "8e920d61-56e8-4f31-9545-e55a35ffa91b"
}
[2025-04-10 18:27:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:27:50] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:27:50] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:27:50] ⚠️ 嘗試 fallback：dealReference=8e920d61-56e8-4f31-9545-e55a35ffa91b
[2025-04-10 18:27:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:27:50] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:27:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:27:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:32:50] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:32:50] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:32:50] close.started
[2025-04-10 18:32:50] close.complete
[2025-04-10 18:32:50] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:32:50] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e5510>
[2025-04-10 18:32:50] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:32:50] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e76d0>
[2025-04-10 18:32:50] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:32:50] send_request_headers.complete
[2025-04-10 18:32:50] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:32:50] send_request_body.complete
[2025-04-10 18:32:50] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:32:51] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:32:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'408'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_63f0456e2e8751c0032050d49feb4ffc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=.6VkgkgQy1E9hAFT55BqYfNJG.dvArpK_UEco_17SzE-1744281171-1.0.1.1-BXyp_6LyDdbJL3aRcYIjw97b0BsGqOcqhoXDji04fjQXdePQCWX1h4W3e4iJS5gL7YzLY6WlfG1yVEo3jBwMawQhWt04XQ77QeOqpffdjEQ; path=/; expires=Thu, 10-Apr-25 11:02:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e195251fa58421-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:32:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:32:51] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:32:51] receive_response_body.complete
[2025-04-10 18:32:51] response_closed.started
[2025-04-10 18:32:51] response_closed.complete
[2025-04-10 18:32:51] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:32:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '408', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_63f0456e2e8751c0032050d49feb4ffc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=.6VkgkgQy1E9hAFT55BqYfNJG.dvArpK_UEco_17SzE-1744281171-1.0.1.1-BXyp_6LyDdbJL3aRcYIjw97b0BsGqOcqhoXDji04fjQXdePQCWX1h4W3e4iJS5gL7YzLY6WlfG1yVEo3jBwMawQhWt04XQ77QeOqpffdjEQ; path=/; expires=Thu, 10-Apr-25 11:02:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e195251fa58421-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:32:51] request_id: req_63f0456e2e8751c0032050d49feb4ffc
[2025-04-10 18:32:51] [SIM] News Sentiment: BUY
[2025-04-10 18:32:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:32:51] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:32:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:32:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:32:52] [SIM] EUR/USD_MINI: MACD=-0.86, RSI=51.43, Direction=SELL
[2025-04-10 18:32:52] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e78d0cf7-7364-4255-bc5e-a85cadf2bfe7"
}
[2025-04-10 18:32:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:32:52] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:32:52] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:32:52] ⚠️ 嘗試 fallback：dealReference=e78d0cf7-7364-4255-bc5e-a85cadf2bfe7
[2025-04-10 18:32:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:32:52] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:32:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:32:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:37:52] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:37:52] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:37:52] close.started
[2025-04-10 18:37:52] close.complete
[2025-04-10 18:37:52] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:37:52] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e5090>
[2025-04-10 18:37:52] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:37:53] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e5650>
[2025-04-10 18:37:53] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:37:53] send_request_headers.complete
[2025-04-10 18:37:53] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:37:53] send_request_body.complete
[2025-04-10 18:37:53] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:37:53] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:37:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'430'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_8f4844eaf89c1a70425ea2807d6cd782'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e19c865939a3a9-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:37:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:37:53] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:37:53] receive_response_body.complete
[2025-04-10 18:37:53] response_closed.started
[2025-04-10 18:37:53] response_closed.complete
[2025-04-10 18:37:53] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:37:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '430', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_8f4844eaf89c1a70425ea2807d6cd782', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e19c865939a3a9-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:37:53] request_id: req_8f4844eaf89c1a70425ea2807d6cd782
[2025-04-10 18:37:53] [SIM] News Sentiment: BUY
[2025-04-10 18:37:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:37:53] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:37:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:37:54] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:37:54] [SIM] EUR/USD_MINI: MACD=-0.12, RSI=48.26, Direction=SELL
[2025-04-10 18:37:54] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "67555088-e28a-487c-a0a3-6d59d1755eeb"
}
[2025-04-10 18:37:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:37:54] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:37:54] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:37:54] ⚠️ 嘗試 fallback：dealReference=67555088-e28a-487c-a0a3-6d59d1755eeb
[2025-04-10 18:37:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:37:54] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:37:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:37:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:42:55] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:42:55] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:42:55] close.started
[2025-04-10 18:42:55] close.complete
[2025-04-10 18:42:55] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:42:55] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e6dd0>
[2025-04-10 18:42:55] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:42:55] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e5c10>
[2025-04-10 18:42:55] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:42:55] send_request_headers.complete
[2025-04-10 18:42:55] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:42:55] send_request_body.complete
[2025-04-10 18:42:55] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:42:56] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:42:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'520'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_2b1e4d2cc2becd0660ce0918e2bd76e6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1a3e79cc8828b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:42:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:42:56] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:42:56] receive_response_body.complete
[2025-04-10 18:42:56] response_closed.started
[2025-04-10 18:42:56] response_closed.complete
[2025-04-10 18:42:56] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:42:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '520', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_2b1e4d2cc2becd0660ce0918e2bd76e6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1a3e79cc8828b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:42:56] request_id: req_2b1e4d2cc2becd0660ce0918e2bd76e6
[2025-04-10 18:42:56] [SIM] News Sentiment: BUY
[2025-04-10 18:42:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:42:56] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:42:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:42:56] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:42:56] [SIM] EUR/USD_MINI: MACD=-0.33, RSI=52.60, Direction=SELL
[2025-04-10 18:42:56] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6269e7ee-534b-43e9-a0ef-aa3bb3be5838"
}
[2025-04-10 18:42:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:42:56] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:42:56] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:42:56] ⚠️ 嘗試 fallback：dealReference=6269e7ee-534b-43e9-a0ef-aa3bb3be5838
[2025-04-10 18:42:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:42:57] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:42:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:42:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:47:57] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:47:57] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:47:57] close.started
[2025-04-10 18:47:57] close.complete
[2025-04-10 18:47:57] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:47:57] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f1590>
[2025-04-10 18:47:57] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:47:57] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f1790>
[2025-04-10 18:47:57] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:47:57] send_request_headers.complete
[2025-04-10 18:47:57] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:47:57] send_request_body.complete
[2025-04-10 18:47:57] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:47:58] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:47:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'407'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_59929c837b1377cf8b05fea0a8f20d49'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=pGI98GiR1JKp2AnykiZv.fg6Vp1i09CqDvC6AQn_UDk-1744282078-1.0.1.1-5HR1q7mr9.yC5YWRW8_VK.Wo13cKqhhLG5M9JunjLF80OGSwF9SobBSAHy8H0UzP0GnVZ.zFnAgzOGtgHsBeMmnDIPjyCZ7qYDozt8YHdSU; path=/; expires=Thu, 10-Apr-25 11:17:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1ab48fb2849fd-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:47:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:47:58] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:47:58] receive_response_body.complete
[2025-04-10 18:47:58] response_closed.started
[2025-04-10 18:47:58] response_closed.complete
[2025-04-10 18:47:58] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:47:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '407', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_59929c837b1377cf8b05fea0a8f20d49', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=pGI98GiR1JKp2AnykiZv.fg6Vp1i09CqDvC6AQn_UDk-1744282078-1.0.1.1-5HR1q7mr9.yC5YWRW8_VK.Wo13cKqhhLG5M9JunjLF80OGSwF9SobBSAHy8H0UzP0GnVZ.zFnAgzOGtgHsBeMmnDIPjyCZ7qYDozt8YHdSU; path=/; expires=Thu, 10-Apr-25 11:17:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1ab48fb2849fd-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:47:58] request_id: req_59929c837b1377cf8b05fea0a8f20d49
[2025-04-10 18:47:58] [SIM] News Sentiment: BUY
[2025-04-10 18:47:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:47:58] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:47:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:47:58] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:47:58] [SIM] EUR/USD_MINI: MACD=0.13, RSI=51.24, Direction=BUY
[2025-04-10 18:47:58] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "4841cca3-4268-4996-87c4-4b9dfa15df86"
}
[2025-04-10 18:47:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:47:59] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:47:59] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:47:59] ⚠️ 嘗試 fallback：dealReference=4841cca3-4268-4996-87c4-4b9dfa15df86
[2025-04-10 18:47:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:47:59] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:47:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:47:59] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:52:59] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:52:59] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:52:59] close.started
[2025-04-10 18:52:59] close.complete
[2025-04-10 18:52:59] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:52:59] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ec710>
[2025-04-10 18:52:59] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:52:59] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6efa90>
[2025-04-10 18:52:59] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:52:59] send_request_headers.complete
[2025-04-10 18:52:59] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:52:59] send_request_body.complete
[2025-04-10 18:52:59] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:53:00] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:53:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'295'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_c3dfd058007a6a137dd5df8615f81984'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1b2a97c294a40-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:53:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:53:00] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:53:00] receive_response_body.complete
[2025-04-10 18:53:00] response_closed.started
[2025-04-10 18:53:00] response_closed.complete
[2025-04-10 18:53:00] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:53:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '295', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_c3dfd058007a6a137dd5df8615f81984', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1b2a97c294a40-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:53:00] request_id: req_c3dfd058007a6a137dd5df8615f81984
[2025-04-10 18:53:00] [SIM] News Sentiment: BUY
[2025-04-10 18:53:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:53:00] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:53:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:53:00] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 18:53:00] [SIM] EUR/USD_MINI: MACD=0.77, RSI=53.65, Direction=BUY
[2025-04-10 18:53:00] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a804e964-3f76-48ea-a6ff-55292bf69bab"
}
[2025-04-10 18:53:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:53:01] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:53:01] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:53:01] ⚠️ 嘗試 fallback：dealReference=a804e964-3f76-48ea-a6ff-55292bf69bab
[2025-04-10 18:53:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:53:01] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:53:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:53:01] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 18:58:01] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 18:58:01] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 18:58:01] close.started
[2025-04-10 18:58:01] close.complete
[2025-04-10 18:58:01] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 18:58:01] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d42d0>
[2025-04-10 18:58:01] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 18:58:01] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d78d0>
[2025-04-10 18:58:01] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 18:58:01] send_request_headers.complete
[2025-04-10 18:58:01] send_request_body.started request=<Request [b'POST']>
[2025-04-10 18:58:01] send_request_body.complete
[2025-04-10 18:58:01] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 18:58:02] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 10:58:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'372'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_31041fcb8faba7df9ebaec54238287ca'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1ba09afc7842a-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 18:58:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 18:58:02] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 18:58:02] receive_response_body.complete
[2025-04-10 18:58:02] response_closed.started
[2025-04-10 18:58:02] response_closed.complete
[2025-04-10 18:58:02] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 10:58:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '372', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_31041fcb8faba7df9ebaec54238287ca', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1ba09afc7842a-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 18:58:02] request_id: req_31041fcb8faba7df9ebaec54238287ca
[2025-04-10 18:58:02] [SIM] News Sentiment: BUY
[2025-04-10 18:58:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:58:02] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:58:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:58:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 18:58:03] [SIM] EUR/USD_MINI: MACD=-0.11, RSI=57.94, Direction=SELL
[2025-04-10 18:58:03] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d60bee73-7e26-4294-9ecd-fbb3b56121bd"
}
[2025-04-10 18:58:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:58:03] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 18:58:03] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 18:58:03] ⚠️ 嘗試 fallback：dealReference=d60bee73-7e26-4294-9ecd-fbb3b56121bd
[2025-04-10 18:58:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:58:03] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 18:58:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 18:58:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:03:03] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:03:03] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:03:03] close.started
[2025-04-10 19:03:03] close.complete
[2025-04-10 19:03:03] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:03:03] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fea10>
[2025-04-10 19:03:03] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:03:03] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ffe50>
[2025-04-10 19:03:03] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:03:03] send_request_headers.complete
[2025-04-10 19:03:03] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:03:03] send_request_body.complete
[2025-04-10 19:03:03] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:03:04] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:03:04 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'603'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_a892b86b08dbf17909e2ee1088ee2446'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=I0Q7uX710.lx8dabGP3urnY6hN2WIcRLmwjeubZ8Dg0-1744282984-1.0.1.1-7xBXKze1prO67MkpRuRmC8Otx8JWSKcuQgAQKwqLoNK_Jp1gf3wg7.wWZHKvb1YFMsGa6GR3wtJtpUYDpTPT63vM8I7L392wS0zfa7uIDow; path=/; expires=Thu, 10-Apr-25 11:33:04 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1c169c92d8412-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:03:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:03:04] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:03:04] receive_response_body.complete
[2025-04-10 19:03:04] response_closed.started
[2025-04-10 19:03:04] response_closed.complete
[2025-04-10 19:03:04] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:03:04 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '603', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_a892b86b08dbf17909e2ee1088ee2446', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=I0Q7uX710.lx8dabGP3urnY6hN2WIcRLmwjeubZ8Dg0-1744282984-1.0.1.1-7xBXKze1prO67MkpRuRmC8Otx8JWSKcuQgAQKwqLoNK_Jp1gf3wg7.wWZHKvb1YFMsGa6GR3wtJtpUYDpTPT63vM8I7L392wS0zfa7uIDow; path=/; expires=Thu, 10-Apr-25 11:33:04 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1c169c92d8412-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:03:04] request_id: req_a892b86b08dbf17909e2ee1088ee2446
[2025-04-10 19:03:04] [SIM] News Sentiment: BUY
[2025-04-10 19:03:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:03:05] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:03:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:03:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 19:03:05] [SIM] EUR/USD_MINI: MACD=0.16, RSI=49.03, Direction=BUY
[2025-04-10 19:03:05] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e1f4ebe9-c77e-4de3-b750-d0db84b3a0e3"
}
[2025-04-10 19:03:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:03:05] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 19:03:05] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 19:03:05] ⚠️ 嘗試 fallback：dealReference=e1f4ebe9-c77e-4de3-b750-d0db84b3a0e3
[2025-04-10 19:03:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:03:06] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:03:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:03:06] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:08:06] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:08:06] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:08:06] close.started
[2025-04-10 19:08:06] close.complete
[2025-04-10 19:08:06] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:08:06] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef708950>
[2025-04-10 19:08:06] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:08:06] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef708a50>
[2025-04-10 19:08:06] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:08:06] send_request_headers.complete
[2025-04-10 19:08:06] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:08:06] send_request_body.complete
[2025-04-10 19:08:06] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:08:06] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:08:06 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'395'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_9f693182460ea85eb40630b99e203399'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1c8cbee278416-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:08:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:08:06] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:08:06] receive_response_body.complete
[2025-04-10 19:08:06] response_closed.started
[2025-04-10 19:08:06] response_closed.complete
[2025-04-10 19:08:06] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:08:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '395', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_9f693182460ea85eb40630b99e203399', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1c8cbee278416-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:08:06] request_id: req_9f693182460ea85eb40630b99e203399
[2025-04-10 19:08:06] [SIM] News Sentiment: BUY
[2025-04-10 19:08:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:08:07] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:08:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:08:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 19:08:07] [SIM] EUR/USD_MINI: MACD=-0.55, RSI=52.30, Direction=SELL
[2025-04-10 19:08:07] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "236bf154-63a9-441c-9327-1441b407b424"
}
[2025-04-10 19:08:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:08:07] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 19:08:07] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 19:08:07] ⚠️ 嘗試 fallback：dealReference=236bf154-63a9-441c-9327-1441b407b424
[2025-04-10 19:08:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:08:08] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:08:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:08:08] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:13:08] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:13:08] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:13:08] close.started
[2025-04-10 19:13:08] close.complete
[2025-04-10 19:13:08] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:13:08] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fe890>
[2025-04-10 19:13:08] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:13:08] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fd250>
[2025-04-10 19:13:08] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:13:08] send_request_headers.complete
[2025-04-10 19:13:08] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:13:08] send_request_body.complete
[2025-04-10 19:13:08] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:13:09] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:13:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'356'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_12c5559119a138882fd07279c1e3cf0c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1d02c3dd18f01-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:13:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:13:09] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:13:09] receive_response_body.complete
[2025-04-10 19:13:09] response_closed.started
[2025-04-10 19:13:09] response_closed.complete
[2025-04-10 19:13:09] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:13:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '356', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_12c5559119a138882fd07279c1e3cf0c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1d02c3dd18f01-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:13:09] request_id: req_12c5559119a138882fd07279c1e3cf0c
[2025-04-10 19:13:09] [SIM] News Sentiment: BUY
[2025-04-10 19:13:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:13:09] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:13:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:13:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 19:13:09] [SIM] EUR/USD_MINI: MACD=-0.34, RSI=48.55, Direction=SELL
[2025-04-10 19:13:09] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "2cb7edde-f417-46f9-8f0d-39230b5dfda4"
}
[2025-04-10 19:13:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:13:10] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 19:13:10] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 19:13:10] ⚠️ 嘗試 fallback：dealReference=2cb7edde-f417-46f9-8f0d-39230b5dfda4
[2025-04-10 19:13:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:13:10] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:13:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:13:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:18:10] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:18:10] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:18:10] close.started
[2025-04-10 19:18:10] close.complete
[2025-04-10 19:18:10] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:18:10] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ee890>
[2025-04-10 19:18:10] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:18:10] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ec910>
[2025-04-10 19:18:10] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:18:10] send_request_headers.complete
[2025-04-10 19:18:10] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:18:10] send_request_body.complete
[2025-04-10 19:18:10] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:18:11] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:18:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'312'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_d3282504ebfe673201b704435dfc4961'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=hXAoEh174KTbj06RKfGQh0Xg3L.JAhBGrSiHkuANYq4-1744283891-1.0.1.1-BV4LMTdfsaZ_xhnpiF2XHW1.u8d2Nc_BwquxCg24af9c4x8GXY_.GEVNojJtr6goWVfvEiPhCjKtHgfz5zMs2wsUhLbESHon7C0nHW1IrYc; path=/; expires=Thu, 10-Apr-25 11:48:11 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1d78d6c1aa9b0-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:18:11] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:18:11] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:18:11] receive_response_body.complete
[2025-04-10 19:18:11] response_closed.started
[2025-04-10 19:18:11] response_closed.complete
[2025-04-10 19:18:11] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:18:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '312', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_d3282504ebfe673201b704435dfc4961', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=hXAoEh174KTbj06RKfGQh0Xg3L.JAhBGrSiHkuANYq4-1744283891-1.0.1.1-BV4LMTdfsaZ_xhnpiF2XHW1.u8d2Nc_BwquxCg24af9c4x8GXY_.GEVNojJtr6goWVfvEiPhCjKtHgfz5zMs2wsUhLbESHon7C0nHW1IrYc; path=/; expires=Thu, 10-Apr-25 11:48:11 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1d78d6c1aa9b0-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:18:11] request_id: req_d3282504ebfe673201b704435dfc4961
[2025-04-10 19:18:11] [SIM] News Sentiment: BUY
[2025-04-10 19:18:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:18:11] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:18:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:18:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 19:18:12] [SIM] EUR/USD_MINI: MACD=0.24, RSI=53.17, Direction=BUY
[2025-04-10 19:18:12] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "46ac4cda-de01-496a-a80a-cc10e14f6ddd"
}
[2025-04-10 19:18:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:18:12] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 19:18:12] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 19:18:12] ⚠️ 嘗試 fallback：dealReference=46ac4cda-de01-496a-a80a-cc10e14f6ddd
[2025-04-10 19:18:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:18:12] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:18:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:18:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:23:13] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:23:13] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:23:13] close.started
[2025-04-10 19:23:13] close.complete
[2025-04-10 19:23:13] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:23:13] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e1a10>
[2025-04-10 19:23:13] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:23:13] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6eeed0>
[2025-04-10 19:23:13] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:23:13] send_request_headers.complete
[2025-04-10 19:23:13] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:23:13] send_request_body.complete
[2025-04-10 19:23:13] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:23:13] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:23:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'474'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_504f4d695b83333537ef12a8d4c7669c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1deee9ac04a9d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:23:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:23:13] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:23:13] receive_response_body.complete
[2025-04-10 19:23:13] response_closed.started
[2025-04-10 19:23:13] response_closed.complete
[2025-04-10 19:23:13] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:23:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '474', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_504f4d695b83333537ef12a8d4c7669c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1deee9ac04a9d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:23:13] request_id: req_504f4d695b83333537ef12a8d4c7669c
[2025-04-10 19:23:13] [SIM] News Sentiment: BUY
[2025-04-10 19:23:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:23:14] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:23:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:23:14] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 19:23:14] [SIM] EUR/USD_MINI: MACD=-0.75, RSI=50.22, Direction=SELL
[2025-04-10 19:23:14] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "00b1276b-c437-4540-b9bd-04d648db35d8"
}
[2025-04-10 19:23:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:23:14] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 19:23:14] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 19:23:14] ⚠️ 嘗試 fallback：dealReference=00b1276b-c437-4540-b9bd-04d648db35d8
[2025-04-10 19:23:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:23:14] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:23:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:23:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:28:15] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:28:15] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:28:15] close.started
[2025-04-10 19:28:15] close.complete
[2025-04-10 19:28:15] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:28:15] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e4d10>
[2025-04-10 19:28:15] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:28:15] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e7310>
[2025-04-10 19:28:15] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:28:15] send_request_headers.complete
[2025-04-10 19:28:15] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:28:15] send_request_body.complete
[2025-04-10 19:28:15] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:28:15] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:28:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'543'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_e6eb6f9c1915ba7126686ad763f7370b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1e64f581a0758-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:28:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:28:15] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:28:15] receive_response_body.complete
[2025-04-10 19:28:15] response_closed.started
[2025-04-10 19:28:15] response_closed.complete
[2025-04-10 19:28:15] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:28:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '543', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_e6eb6f9c1915ba7126686ad763f7370b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1e64f581a0758-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:28:15] request_id: req_e6eb6f9c1915ba7126686ad763f7370b
[2025-04-10 19:28:15] [SIM] News Sentiment: BUY
[2025-04-10 19:28:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:28:16] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:28:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:28:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 19:28:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:28:17] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:28:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:28:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:33:17] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:33:17] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:33:17] close.started
[2025-04-10 19:33:17] close.complete
[2025-04-10 19:33:17] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:33:17] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e7010>
[2025-04-10 19:33:17] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:33:17] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e6690>
[2025-04-10 19:33:17] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:33:17] send_request_headers.complete
[2025-04-10 19:33:17] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:33:17] send_request_body.complete
[2025-04-10 19:33:17] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:33:18] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:33:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'483'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_f51b8601a372cfe0db62b0bef3852976'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=bkHNWJ9BaLNSC32gAk4HuEiniv5T0UF5sk.iLUaWAH0-1744284798-1.0.1.1-dgygLeDZtj8N1IUOO3gFnOPI5BVHGZhmME609_O65KwLPlWRrjerrHhMt.VOWnpFnSs3AhcC2Nx1w5NCOJ50JTvS0HOFHz58OLzj7tXD1mM; path=/; expires=Thu, 10-Apr-25 12:03:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1edb24cdd4a8c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:33:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:33:18] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:33:18] receive_response_body.complete
[2025-04-10 19:33:18] response_closed.started
[2025-04-10 19:33:18] response_closed.complete
[2025-04-10 19:33:18] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:33:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '483', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_f51b8601a372cfe0db62b0bef3852976', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=bkHNWJ9BaLNSC32gAk4HuEiniv5T0UF5sk.iLUaWAH0-1744284798-1.0.1.1-dgygLeDZtj8N1IUOO3gFnOPI5BVHGZhmME609_O65KwLPlWRrjerrHhMt.VOWnpFnSs3AhcC2Nx1w5NCOJ50JTvS0HOFHz58OLzj7tXD1mM; path=/; expires=Thu, 10-Apr-25 12:03:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1edb24cdd4a8c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:33:18] request_id: req_f51b8601a372cfe0db62b0bef3852976
[2025-04-10 19:33:18] [SIM] News Sentiment: BUY
[2025-04-10 19:33:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:33:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:33:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:33:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 19:33:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:33:19] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:33:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:33:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:38:19] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:38:19] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:38:19] close.started
[2025-04-10 19:38:19] close.complete
[2025-04-10 19:38:19] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:38:19] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef708050>
[2025-04-10 19:38:19] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:38:19] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef7089d0>
[2025-04-10 19:38:19] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:38:19] send_request_headers.complete
[2025-04-10 19:38:19] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:38:19] send_request_body.complete
[2025-04-10 19:38:19] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:38:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:38:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'542'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_5e95351ce78c5910c0d9c94de00439a8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1f511adada9c7-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:38:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:38:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:38:20] receive_response_body.complete
[2025-04-10 19:38:20] response_closed.started
[2025-04-10 19:38:20] response_closed.complete
[2025-04-10 19:38:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:38:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '542', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_5e95351ce78c5910c0d9c94de00439a8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1f511adada9c7-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:38:20] request_id: req_5e95351ce78c5910c0d9c94de00439a8
[2025-04-10 19:38:20] [SIM] News Sentiment: BUY
[2025-04-10 19:38:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:38:20] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:38:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:38:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 19:38:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:38:21] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:38:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:38:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:43:21] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:43:21] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:43:21] close.started
[2025-04-10 19:43:21] close.complete
[2025-04-10 19:43:21] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:43:21] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef709b90>
[2025-04-10 19:43:21] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:43:21] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef708390>
[2025-04-10 19:43:21] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:43:21] send_request_headers.complete
[2025-04-10 19:43:21] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:43:21] send_request_body.complete
[2025-04-10 19:43:21] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:43:22] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:43:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'309'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_2378802f0adca9e3e778749c4d2ec9a1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e1fc7178534a6d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:43:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:43:22] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:43:22] receive_response_body.complete
[2025-04-10 19:43:22] response_closed.started
[2025-04-10 19:43:22] response_closed.complete
[2025-04-10 19:43:22] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:43:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '309', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_2378802f0adca9e3e778749c4d2ec9a1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e1fc7178534a6d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:43:22] request_id: req_2378802f0adca9e3e778749c4d2ec9a1
[2025-04-10 19:43:22] [SIM] News Sentiment: BUY
[2025-04-10 19:43:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:43:22] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:43:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:43:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 19:43:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:43:23] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:43:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:43:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:48:23] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:48:23] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:48:23] close.started
[2025-04-10 19:48:23] close.complete
[2025-04-10 19:48:23] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:48:23] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef70ba10>
[2025-04-10 19:48:23] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:48:23] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef70a410>
[2025-04-10 19:48:23] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:48:23] send_request_headers.complete
[2025-04-10 19:48:23] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:48:23] send_request_body.complete
[2025-04-10 19:48:23] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:48:24] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:48:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'476'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_1d4c5224b79a74eb8d3b634d7a336d20'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Wd6cB3KO1AS9ArW5IIzH_87yc87KXY.QrWljpIlJAUI-1744285704-1.0.1.1-owAQrnekp5TjeM9r_F3_z9cm.RKks6uKfBv1D4HNOkrGIOwb1UE6eDnmb8KId0N96xzAvNgLaBaBJCKK.fGDMN2qCWgC1t2ZEt3h7fP6tjU; path=/; expires=Thu, 10-Apr-25 12:18:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e203cfbafb5700-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:48:24] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:48:24] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:48:24] receive_response_body.complete
[2025-04-10 19:48:24] response_closed.started
[2025-04-10 19:48:24] response_closed.complete
[2025-04-10 19:48:24] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:48:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '476', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_1d4c5224b79a74eb8d3b634d7a336d20', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=Wd6cB3KO1AS9ArW5IIzH_87yc87KXY.QrWljpIlJAUI-1744285704-1.0.1.1-owAQrnekp5TjeM9r_F3_z9cm.RKks6uKfBv1D4HNOkrGIOwb1UE6eDnmb8KId0N96xzAvNgLaBaBJCKK.fGDMN2qCWgC1t2ZEt3h7fP6tjU; path=/; expires=Thu, 10-Apr-25 12:18:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e203cfbafb5700-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:48:24] request_id: req_1d4c5224b79a74eb8d3b634d7a336d20
[2025-04-10 19:48:24] [SIM] News Sentiment: BUY
[2025-04-10 19:48:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:48:24] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:48:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:48:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 19:48:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:48:25] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:48:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:48:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:53:25] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:53:25] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:53:25] close.started
[2025-04-10 19:53:25] close.complete
[2025-04-10 19:53:25] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:53:25] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6eff10>
[2025-04-10 19:53:25] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:53:25] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ecb90>
[2025-04-10 19:53:25] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:53:25] send_request_headers.complete
[2025-04-10 19:53:25] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:53:25] send_request_body.complete
[2025-04-10 19:53:25] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:53:26] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:53:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'331'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_35d97cd064e483282627f3d341352963'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e20b2f9b338440-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:53:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:53:26] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:53:26] receive_response_body.complete
[2025-04-10 19:53:26] response_closed.started
[2025-04-10 19:53:26] response_closed.complete
[2025-04-10 19:53:26] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:53:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '331', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_35d97cd064e483282627f3d341352963', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e20b2f9b338440-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:53:26] request_id: req_35d97cd064e483282627f3d341352963
[2025-04-10 19:53:26] [SIM] News Sentiment: BUY
[2025-04-10 19:53:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:53:26] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:53:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:53:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 19:53:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:53:27] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:53:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:53:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 19:58:27] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 19:58:27] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 19:58:27] close.started
[2025-04-10 19:58:27] close.complete
[2025-04-10 19:58:27] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 19:58:27] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d9dd0>
[2025-04-10 19:58:27] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 19:58:27] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6d9090>
[2025-04-10 19:58:27] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 19:58:27] send_request_headers.complete
[2025-04-10 19:58:27] send_request_body.started request=<Request [b'POST']>
[2025-04-10 19:58:27] send_request_body.complete
[2025-04-10 19:58:27] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 19:58:28] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 11:58:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'295'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_7e9b835eea81709d05f883bc5509e016'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2128df8c78091-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 19:58:28] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 19:58:28] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 19:58:28] receive_response_body.complete
[2025-04-10 19:58:28] response_closed.started
[2025-04-10 19:58:28] response_closed.complete
[2025-04-10 19:58:28] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 11:58:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '295', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_7e9b835eea81709d05f883bc5509e016', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2128df8c78091-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 19:58:28] request_id: req_7e9b835eea81709d05f883bc5509e016
[2025-04-10 19:58:28] [SIM] News Sentiment: BUY
[2025-04-10 19:58:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:58:28] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:58:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:58:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 19:58:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:58:29] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 19:58:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 19:58:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:03:29] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:03:29] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:03:29] close.started
[2025-04-10 20:03:29] close.complete
[2025-04-10 20:03:29] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:03:29] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f2590>
[2025-04-10 20:03:29] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:03:29] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f1ad0>
[2025-04-10 20:03:29] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:03:29] send_request_headers.complete
[2025-04-10 20:03:29] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:03:29] send_request_body.complete
[2025-04-10 20:03:29] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:03:29] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:03:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'337'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_350a03e11329f230e506210b5c97a59a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=OPjBoZOIhze2DIwlpSVHmjj4g6qivL5BLw48zNk1yKA-1744286609-1.0.1.1-J_TM9L7quN5RvRflSaTk0pTyTBFI2WHNxDfmOO937Z141KLvBIsvhA3ynNC_v4a09gaDN1dP0ixgPRsE.klH51Vz..70uythlDOZJKIH3.k; path=/; expires=Thu, 10-Apr-25 12:33:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e219ecff468f13-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:03:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:03:29] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:03:29] receive_response_body.complete
[2025-04-10 20:03:29] response_closed.started
[2025-04-10 20:03:29] response_closed.complete
[2025-04-10 20:03:29] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:03:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '337', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_350a03e11329f230e506210b5c97a59a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=OPjBoZOIhze2DIwlpSVHmjj4g6qivL5BLw48zNk1yKA-1744286609-1.0.1.1-J_TM9L7quN5RvRflSaTk0pTyTBFI2WHNxDfmOO937Z141KLvBIsvhA3ynNC_v4a09gaDN1dP0ixgPRsE.klH51Vz..70uythlDOZJKIH3.k; path=/; expires=Thu, 10-Apr-25 12:33:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e219ecff468f13-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:03:29] request_id: req_350a03e11329f230e506210b5c97a59a
[2025-04-10 20:03:29] [SIM] News Sentiment: BUY
[2025-04-10 20:03:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:03:30] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:03:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:03:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 20:03:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:03:30] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:03:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:03:31] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:08:31] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:08:31] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:08:31] close.started
[2025-04-10 20:08:31] close.complete
[2025-04-10 20:08:31] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:08:31] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fea90>
[2025-04-10 20:08:31] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:08:31] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fc410>
[2025-04-10 20:08:31] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:08:31] send_request_headers.complete
[2025-04-10 20:08:31] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:08:31] send_request_body.complete
[2025-04-10 20:08:31] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:08:31] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:08:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'285'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_4498491fcf0f322da254135e223fcd56'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2214b9f3a841c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:08:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:08:31] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:08:31] receive_response_body.complete
[2025-04-10 20:08:31] response_closed.started
[2025-04-10 20:08:31] response_closed.complete
[2025-04-10 20:08:31] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:08:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '285', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_4498491fcf0f322da254135e223fcd56', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2214b9f3a841c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:08:31] request_id: req_4498491fcf0f322da254135e223fcd56
[2025-04-10 20:08:31] [SIM] News Sentiment: BUY
[2025-04-10 20:08:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:08:32] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:08:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:08:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 20:08:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:08:32] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:08:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:08:33] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:13:33] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:13:33] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:13:33] close.started
[2025-04-10 20:13:33] close.complete
[2025-04-10 20:13:33] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:13:33] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef719250>
[2025-04-10 20:13:33] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:13:33] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef719e10>
[2025-04-10 20:13:33] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:13:33] send_request_headers.complete
[2025-04-10 20:13:33] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:13:33] send_request_body.complete
[2025-04-10 20:13:33] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:13:33] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:13:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'510'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_8cf155f21cdcb0f1b72961926ff5a1b9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e228a9982c8418-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:13:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:13:33] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:13:33] receive_response_body.complete
[2025-04-10 20:13:33] response_closed.started
[2025-04-10 20:13:33] response_closed.complete
[2025-04-10 20:13:33] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:13:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '510', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_8cf155f21cdcb0f1b72961926ff5a1b9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e228a9982c8418-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:13:33] request_id: req_8cf155f21cdcb0f1b72961926ff5a1b9
[2025-04-10 20:13:33] [SIM] News Sentiment: BUY
[2025-04-10 20:13:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:13:34] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:13:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:13:35] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 20:13:35] [SIM] EUR/USD_MINI: MACD=-0.51, RSI=46.12, Direction=SELL
[2025-04-10 20:13:35] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e613637c-e44b-48ad-93a3-fe2eb0f9f9e8"
}
[2025-04-10 20:13:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:13:35] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:13:35] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:13:35] ⚠️ 嘗試 fallback：dealReference=e613637c-e44b-48ad-93a3-fe2eb0f9f9e8
[2025-04-10 20:13:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:13:35] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:13:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:13:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:18:36] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:18:36] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:18:36] close.started
[2025-04-10 20:18:36] close.complete
[2025-04-10 20:18:36] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:18:36] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef718110>
[2025-04-10 20:18:36] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:18:36] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71aa90>
[2025-04-10 20:18:36] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:18:36] send_request_headers.complete
[2025-04-10 20:18:36] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:18:36] send_request_body.complete
[2025-04-10 20:18:36] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:18:37] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:18:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'594'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_19b483a46b9f68d9d55fab486d851dc0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=TAkKtKh4QNzf4tA75yQaG1_gwAVstIDZxNb0fm9iPKU-1744287517-1.0.1.1-7uoWcLc0R.3NWDIGqaRwSH5iM3ax9z_QcKQK_aiaEIHkDg1ZwsAcdzz2UdwlpE7tvwx1MfDmkFt1VceQt5QePK_nIskE1LeJnBF56oSeXAs; path=/; expires=Thu, 10-Apr-25 12:48:37 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e230105c5f4a46-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:18:37] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:18:37] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:18:37] receive_response_body.complete
[2025-04-10 20:18:37] response_closed.started
[2025-04-10 20:18:37] response_closed.complete
[2025-04-10 20:18:37] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:18:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '594', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_19b483a46b9f68d9d55fab486d851dc0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=TAkKtKh4QNzf4tA75yQaG1_gwAVstIDZxNb0fm9iPKU-1744287517-1.0.1.1-7uoWcLc0R.3NWDIGqaRwSH5iM3ax9z_QcKQK_aiaEIHkDg1ZwsAcdzz2UdwlpE7tvwx1MfDmkFt1VceQt5QePK_nIskE1LeJnBF56oSeXAs; path=/; expires=Thu, 10-Apr-25 12:48:37 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e230105c5f4a46-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:18:37] request_id: req_19b483a46b9f68d9d55fab486d851dc0
[2025-04-10 20:18:37] [SIM] News Sentiment: BUY
[2025-04-10 20:18:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:18:37] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:18:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:18:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 20:18:38] [SIM] EUR/USD_MINI: MACD=1.16, RSI=49.31, Direction=BUY
[2025-04-10 20:18:38] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "77dedeac-37af-448a-ac7f-8d986843958f"
}
[2025-04-10 20:18:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:18:38] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:18:38] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:18:38] ⚠️ 嘗試 fallback：dealReference=77dedeac-37af-448a-ac7f-8d986843958f
[2025-04-10 20:18:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:18:38] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:18:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:18:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:23:39] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:23:39] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:23:39] close.started
[2025-04-10 20:23:39] close.complete
[2025-04-10 20:23:39] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:23:39] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fc6d0>
[2025-04-10 20:23:39] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:23:39] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fcb50>
[2025-04-10 20:23:39] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:23:39] send_request_headers.complete
[2025-04-10 20:23:39] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:23:39] send_request_body.complete
[2025-04-10 20:23:39] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:23:39] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:23:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'386'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_acdfc7e9d5eb76d0c25697aa84c2c9c5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e237769f4b8276-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:23:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:23:39] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:23:39] receive_response_body.complete
[2025-04-10 20:23:39] response_closed.started
[2025-04-10 20:23:39] response_closed.complete
[2025-04-10 20:23:39] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:23:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '386', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_acdfc7e9d5eb76d0c25697aa84c2c9c5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e237769f4b8276-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:23:39] request_id: req_acdfc7e9d5eb76d0c25697aa84c2c9c5
[2025-04-10 20:23:39] [SIM] News Sentiment: BUY
[2025-04-10 20:23:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:23:40] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:23:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:23:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 20:23:40] [SIM] EUR/USD_MINI: MACD=-0.20, RSI=49.13, Direction=SELL
[2025-04-10 20:23:40] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "c34b8408-d46a-4f2a-869e-e27def6a5af4"
}
[2025-04-10 20:23:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:23:40] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:23:40] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:23:40] ⚠️ 嘗試 fallback：dealReference=c34b8408-d46a-4f2a-869e-e27def6a5af4
[2025-04-10 20:23:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:23:41] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:23:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:23:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:28:41] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:28:41] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:28:41] close.started
[2025-04-10 20:28:41] close.complete
[2025-04-10 20:28:41] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:28:41] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f3b90>
[2025-04-10 20:28:41] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:28:41] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f2590>
[2025-04-10 20:28:41] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:28:41] send_request_headers.complete
[2025-04-10 20:28:41] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:28:41] send_request_body.complete
[2025-04-10 20:28:41] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:28:42] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:28:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'445'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_0f563e6447b728617791c03f5de5a182'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e23ed7aeb5a361-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:28:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:28:42] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:28:42] receive_response_body.complete
[2025-04-10 20:28:42] response_closed.started
[2025-04-10 20:28:42] response_closed.complete
[2025-04-10 20:28:42] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:28:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '445', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_0f563e6447b728617791c03f5de5a182', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e23ed7aeb5a361-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:28:42] request_id: req_0f563e6447b728617791c03f5de5a182
[2025-04-10 20:28:42] [SIM] News Sentiment: BUY
[2025-04-10 20:28:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:28:42] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:28:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:28:42] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 20:28:42] [SIM] EUR/USD_MINI: MACD=0.06, RSI=50.12, Direction=BUY
[2025-04-10 20:28:42] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "216c9694-cf6c-4501-b722-46a6dd5310ca"
}
[2025-04-10 20:28:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:28:43] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:28:43] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:28:43] ⚠️ 嘗試 fallback：dealReference=216c9694-cf6c-4501-b722-46a6dd5310ca
[2025-04-10 20:28:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:28:43] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:28:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:28:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:33:43] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:33:43] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:33:43] close.started
[2025-04-10 20:33:43] close.complete
[2025-04-10 20:33:43] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:33:43] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ec350>
[2025-04-10 20:33:43] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:33:44] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ecc90>
[2025-04-10 20:33:44] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:33:44] send_request_headers.complete
[2025-04-10 20:33:44] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:33:44] send_request_body.complete
[2025-04-10 20:33:44] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:33:44] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:33:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'418'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_d1b039fcb3a565de8750eb6b78e459a6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=DBjQOFZkCpydDujqIMfUcZNiA.C0AkBbOoEhpzaHpL4-1744288424-1.0.1.1-iW9IYssRpKolrSQeHVuhIHh.VLb_s.hMz0SRK2Zy0apaFkluCQoG1TE2Wx_4HKW4cp9iU30Xg7MduyrCGYR3cvNg6.kkZLhLAQaIcTPBTtM; path=/; expires=Thu, 10-Apr-25 13:03:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2463a1a4e8451-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:33:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:33:44] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:33:44] receive_response_body.complete
[2025-04-10 20:33:44] response_closed.started
[2025-04-10 20:33:44] response_closed.complete
[2025-04-10 20:33:44] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:33:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '418', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_d1b039fcb3a565de8750eb6b78e459a6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=DBjQOFZkCpydDujqIMfUcZNiA.C0AkBbOoEhpzaHpL4-1744288424-1.0.1.1-iW9IYssRpKolrSQeHVuhIHh.VLb_s.hMz0SRK2Zy0apaFkluCQoG1TE2Wx_4HKW4cp9iU30Xg7MduyrCGYR3cvNg6.kkZLhLAQaIcTPBTtM; path=/; expires=Thu, 10-Apr-25 13:03:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2463a1a4e8451-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:33:44] request_id: req_d1b039fcb3a565de8750eb6b78e459a6
[2025-04-10 20:33:44] [SIM] News Sentiment: BUY
[2025-04-10 20:33:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:33:45] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:33:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:33:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 20:33:45] [SIM] EUR/USD_MINI: MACD=0.32, RSI=55.22, Direction=BUY
[2025-04-10 20:33:45] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "adc04fa0-dbf1-42d8-b7df-bca2bb82f1fd"
}
[2025-04-10 20:33:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:33:45] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:33:45] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:33:45] ⚠️ 嘗試 fallback：dealReference=adc04fa0-dbf1-42d8-b7df-bca2bb82f1fd
[2025-04-10 20:33:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:33:46] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:33:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:33:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:38:46] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:38:46] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:38:46] close.started
[2025-04-10 20:38:46] close.complete
[2025-04-10 20:38:46] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:38:46] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e43d0>
[2025-04-10 20:38:46] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:38:46] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e7b90>
[2025-04-10 20:38:46] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:38:46] send_request_headers.complete
[2025-04-10 20:38:46] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:38:46] send_request_body.complete
[2025-04-10 20:38:46] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:38:47] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:38:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'431'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_9b3476bdecb02bfc9029eb55536272cc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e24d9cdd054a21-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:38:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:38:47] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:38:47] receive_response_body.complete
[2025-04-10 20:38:47] response_closed.started
[2025-04-10 20:38:47] response_closed.complete
[2025-04-10 20:38:47] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:38:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '431', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_9b3476bdecb02bfc9029eb55536272cc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e24d9cdd054a21-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:38:47] request_id: req_9b3476bdecb02bfc9029eb55536272cc
[2025-04-10 20:38:47] [SIM] News Sentiment: BUY
[2025-04-10 20:38:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:38:47] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:38:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:38:47] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 20:38:47] [SIM] EUR/USD_MINI: MACD=0.50, RSI=52.02, Direction=BUY
[2025-04-10 20:38:47] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ed65b82a-9688-4fe2-83d2-58ae5ea8050f"
}
[2025-04-10 20:38:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:38:48] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:38:48] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:38:48] ⚠️ 嘗試 fallback：dealReference=ed65b82a-9688-4fe2-83d2-58ae5ea8050f
[2025-04-10 20:38:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:38:48] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:38:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:38:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:43:48] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:43:48] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:43:48] close.started
[2025-04-10 20:43:48] close.complete
[2025-04-10 20:43:48] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:43:48] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef708850>
[2025-04-10 20:43:48] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:43:48] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef70bad0>
[2025-04-10 20:43:48] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:43:48] send_request_headers.complete
[2025-04-10 20:43:48] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:43:48] send_request_body.complete
[2025-04-10 20:43:48] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:43:49] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:43:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'283'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_f550188bbcdf2b93b3a949f3a2e72c0b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e254fe7be94a24-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:43:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:43:49] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:43:49] receive_response_body.complete
[2025-04-10 20:43:49] response_closed.started
[2025-04-10 20:43:49] response_closed.complete
[2025-04-10 20:43:49] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:43:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '283', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_f550188bbcdf2b93b3a949f3a2e72c0b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e254fe7be94a24-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:43:49] request_id: req_f550188bbcdf2b93b3a949f3a2e72c0b
[2025-04-10 20:43:49] [SIM] News Sentiment: BUY
[2025-04-10 20:43:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:43:49] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:43:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:43:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-10 20:43:50] [SIM] EUR/USD_MINI: MACD=-0.98, RSI=40.95, Direction=SELL
[2025-04-10 20:43:50] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ca82582d-c1bb-4e99-8e17-50df2f48e886"
}
[2025-04-10 20:43:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:43:50] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:43:50] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:43:50] ⚠️ 嘗試 fallback：dealReference=ca82582d-c1bb-4e99-8e17-50df2f48e886
[2025-04-10 20:43:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:43:50] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:43:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:43:51] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:48:51] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:48:51] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:48:51] close.started
[2025-04-10 20:48:51] close.complete
[2025-04-10 20:48:51] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:48:51] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71a0d0>
[2025-04-10 20:48:51] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:48:51] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef7198d0>
[2025-04-10 20:48:51] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:48:51] send_request_headers.complete
[2025-04-10 20:48:51] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:48:51] send_request_body.complete
[2025-04-10 20:48:51] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:48:51] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:48:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'488'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_6573e9c65cd53665303b7be34d82ecc7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=SbGXNbcuxYDm8oqGbo3GdSyFFlxVavVgnwhLM_SoFuo-1744289331-1.0.1.1-RVMu6DDUYzw2R3eADIxdIhpoS9ZkmkzxOIgPqYa3W0qD2bQTsrl5BJk7N_OZmPupqrIMPPgPq9QwCz2Zngg9nRefdVH2ql8onnqJ0pGFEkU; path=/; expires=Thu, 10-Apr-25 13:18:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e25c5f18228f1b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:48:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:48:51] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:48:51] receive_response_body.complete
[2025-04-10 20:48:51] response_closed.started
[2025-04-10 20:48:51] response_closed.complete
[2025-04-10 20:48:51] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:48:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '488', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_6573e9c65cd53665303b7be34d82ecc7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=SbGXNbcuxYDm8oqGbo3GdSyFFlxVavVgnwhLM_SoFuo-1744289331-1.0.1.1-RVMu6DDUYzw2R3eADIxdIhpoS9ZkmkzxOIgPqYa3W0qD2bQTsrl5BJk7N_OZmPupqrIMPPgPq9QwCz2Zngg9nRefdVH2ql8onnqJ0pGFEkU; path=/; expires=Thu, 10-Apr-25 13:18:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e25c5f18228f1b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:48:51] request_id: req_6573e9c65cd53665303b7be34d82ecc7
[2025-04-10 20:48:51] [SIM] News Sentiment: BUY
[2025-04-10 20:48:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:48:52] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:48:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:48:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-10 20:48:52] [SIM] EUR/USD_MINI: MACD=-0.88, RSI=45.95, Direction=SELL
[2025-04-10 20:48:52] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3047c245-9022-45d4-83f6-8b5b1651949b"
}
[2025-04-10 20:48:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:48:52] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:48:52] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:48:52] ⚠️ 嘗試 fallback：dealReference=3047c245-9022-45d4-83f6-8b5b1651949b
[2025-04-10 20:48:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:48:53] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:48:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:48:53] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:53:53] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:53:53] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:53:53] close.started
[2025-04-10 20:53:53] close.complete
[2025-04-10 20:53:53] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:53:53] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71a950>
[2025-04-10 20:53:53] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:53:53] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71bf10>
[2025-04-10 20:53:53] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:53:53] send_request_headers.complete
[2025-04-10 20:53:53] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:53:53] send_request_body.complete
[2025-04-10 20:53:53] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:53:54] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:53:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'380'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_0392b60b9e2c297d089ca9686df92272'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e263c2886b8092-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:53:54] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:53:54] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:53:54] receive_response_body.complete
[2025-04-10 20:53:54] response_closed.started
[2025-04-10 20:53:54] response_closed.complete
[2025-04-10 20:53:54] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:53:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '380', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_0392b60b9e2c297d089ca9686df92272', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e263c2886b8092-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:53:54] request_id: req_0392b60b9e2c297d089ca9686df92272
[2025-04-10 20:53:54] [SIM] News Sentiment: BUY
[2025-04-10 20:53:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:53:55] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:53:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:53:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-10 20:53:55] [SIM] EUR/USD_MINI: MACD=-1.30, RSI=47.29, Direction=SELL
[2025-04-10 20:53:55] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "67bb4dbb-2d74-4e78-b9cb-4424ba7f33e5"
}
[2025-04-10 20:53:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:53:55] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:53:55] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:53:55] ⚠️ 嘗試 fallback：dealReference=67bb4dbb-2d74-4e78-b9cb-4424ba7f33e5
[2025-04-10 20:53:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:53:56] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:53:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:53:56] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 20:58:56] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 20:58:56] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 20:58:56] close.started
[2025-04-10 20:58:56] close.complete
[2025-04-10 20:58:56] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 20:58:56] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71a2d0>
[2025-04-10 20:58:56] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 20:58:56] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef719650>
[2025-04-10 20:58:56] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 20:58:56] send_request_headers.complete
[2025-04-10 20:58:56] send_request_body.started request=<Request [b'POST']>
[2025-04-10 20:58:56] send_request_body.complete
[2025-04-10 20:58:56] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 20:58:57] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 12:58:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'572'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_02e602651cf1009ec9c3ef67946caa0e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e26b27afaa4a46-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 20:58:57] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 20:58:57] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 20:58:57] receive_response_body.complete
[2025-04-10 20:58:57] response_closed.started
[2025-04-10 20:58:57] response_closed.complete
[2025-04-10 20:58:57] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 12:58:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '572', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_02e602651cf1009ec9c3ef67946caa0e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e26b27afaa4a46-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 20:58:57] request_id: req_02e602651cf1009ec9c3ef67946caa0e
[2025-04-10 20:58:57] [SIM] News Sentiment: BUY
[2025-04-10 20:58:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:58:57] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:58:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:58:58] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-10 20:58:58] [SIM] EUR/USD_MINI: MACD=-0.24, RSI=45.59, Direction=SELL
[2025-04-10 20:58:58] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fe65b85d-90c8-4b2c-a850-d8169d587642"
}
[2025-04-10 20:58:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:58:58] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 20:58:58] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 20:58:58] ⚠️ 嘗試 fallback：dealReference=fe65b85d-90c8-4b2c-a850-d8169d587642
[2025-04-10 20:58:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:58:58] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 20:58:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 20:58:59] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:03:59] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:03:59] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:03:59] close.started
[2025-04-10 21:03:59] close.complete
[2025-04-10 21:03:59] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:03:59] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fdb90>
[2025-04-10 21:03:59] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:03:59] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fc110>
[2025-04-10 21:03:59] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:03:59] send_request_headers.complete
[2025-04-10 21:03:59] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:03:59] send_request_body.complete
[2025-04-10 21:03:59] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:03:59] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:03:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'476'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_607f23949991a45e22d546b7bcdee9d8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=qKIGKa9zmDyL6TJFZL8ghhuhl8Hi4jwKEgKMN51CVjI-1744290239-1.0.1.1-1XLpCvkonm3R0w899v8gtZf9F4VYEi3eKJ0bKDJNw6BN26cEjlOC.b0ZHZVRWekBXa6F5jOpt6s0jXHcZAGifaKsDlfX3souAz06cqt3klE; path=/; expires=Thu, 10-Apr-25 13:33:59 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2728a2fe756f5-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:03:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:03:59] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:03:59] receive_response_body.complete
[2025-04-10 21:03:59] response_closed.started
[2025-04-10 21:03:59] response_closed.complete
[2025-04-10 21:03:59] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:03:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '476', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_607f23949991a45e22d546b7bcdee9d8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=qKIGKa9zmDyL6TJFZL8ghhuhl8Hi4jwKEgKMN51CVjI-1744290239-1.0.1.1-1XLpCvkonm3R0w899v8gtZf9F4VYEi3eKJ0bKDJNw6BN26cEjlOC.b0ZHZVRWekBXa6F5jOpt6s0jXHcZAGifaKsDlfX3souAz06cqt3klE; path=/; expires=Thu, 10-Apr-25 13:33:59 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2728a2fe756f5-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:03:59] request_id: req_607f23949991a45e22d546b7bcdee9d8
[2025-04-10 21:03:59] [SIM] News Sentiment: BUY
[2025-04-10 21:03:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:04:00] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:04:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:04:00] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 21:04:00] [SIM] EUR/USD_MINI: MACD=-0.82, RSI=41.20, Direction=SELL
[2025-04-10 21:04:00] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f3072481-0374-4cdf-a704-348302610689"
}
[2025-04-10 21:04:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:04:00] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 21:04:00] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 21:04:00] ⚠️ 嘗試 fallback：dealReference=f3072481-0374-4cdf-a704-348302610689
[2025-04-10 21:04:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:04:01] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:04:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:04:01] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:09:01] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:09:01] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:09:01] close.started
[2025-04-10 21:09:01] close.complete
[2025-04-10 21:09:01] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:09:01] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef708250>
[2025-04-10 21:09:01] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:09:01] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef708510>
[2025-04-10 21:09:01] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:09:01] send_request_headers.complete
[2025-04-10 21:09:01] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:09:01] send_request_body.complete
[2025-04-10 21:09:01] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:09:01] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:09:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'370'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_d2caa455a2561cc0d74058d04f901cdb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e279ebde288f1e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:09:01] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:09:01] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:09:02] receive_response_body.complete
[2025-04-10 21:09:02] response_closed.started
[2025-04-10 21:09:02] response_closed.complete
[2025-04-10 21:09:02] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:09:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '370', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_d2caa455a2561cc0d74058d04f901cdb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e279ebde288f1e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:09:02] request_id: req_d2caa455a2561cc0d74058d04f901cdb
[2025-04-10 21:09:02] [SIM] News Sentiment: BUY
[2025-04-10 21:09:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:09:02] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:09:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:09:02] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 21:09:02] [SIM] EUR/USD_MINI: MACD=0.07, RSI=46.42, Direction=BUY
[2025-04-10 21:09:02] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1871904f-8dcd-4a69-8426-6cf81e31cae2"
}
[2025-04-10 21:09:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:09:02] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 21:09:02] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 21:09:02] ⚠️ 嘗試 fallback：dealReference=1871904f-8dcd-4a69-8426-6cf81e31cae2
[2025-04-10 21:09:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:09:03] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:09:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:09:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:14:03] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:14:03] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:14:03] close.started
[2025-04-10 21:14:03] close.complete
[2025-04-10 21:14:03] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:14:03] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef709650>
[2025-04-10 21:14:03] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:14:03] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef70ab90>
[2025-04-10 21:14:03] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:14:03] send_request_headers.complete
[2025-04-10 21:14:03] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:14:03] send_request_body.complete
[2025-04-10 21:14:03] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:14:04] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:14:04 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'497'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_391bee821925f2c69012a156438c2abc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2814c68674a52-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:14:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:14:04] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:14:04] receive_response_body.complete
[2025-04-10 21:14:04] response_closed.started
[2025-04-10 21:14:04] response_closed.complete
[2025-04-10 21:14:04] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:14:04 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '497', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_391bee821925f2c69012a156438c2abc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2814c68674a52-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:14:04] request_id: req_391bee821925f2c69012a156438c2abc
[2025-04-10 21:14:04] [SIM] News Sentiment: BUY
[2025-04-10 21:14:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:14:04] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:14:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:14:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 21:14:05] [SIM] EUR/USD_MINI: MACD=-1.38, RSI=55.85, Direction=SELL
[2025-04-10 21:14:05] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "b2862c0b-ec40-478b-8723-d511d26f1696"
}
[2025-04-10 21:14:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:14:05] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 21:14:05] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 21:14:05] ⚠️ 嘗試 fallback：dealReference=b2862c0b-ec40-478b-8723-d511d26f1696
[2025-04-10 21:14:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:14:05] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:14:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:14:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:19:05] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:19:05] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:19:05] close.started
[2025-04-10 21:19:05] close.complete
[2025-04-10 21:19:05] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:19:05] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e6950>
[2025-04-10 21:19:05] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:19:05] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e56d0>
[2025-04-10 21:19:05] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:19:05] send_request_headers.complete
[2025-04-10 21:19:05] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:19:05] send_request_body.complete
[2025-04-10 21:19:05] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:19:06] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:19:06 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'313'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_bffa307f50086e27c4036e39254d2c02'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=8vB1jBWUDmKXvtKuVx4xNyfl61qjGenapQd554H0ptg-1744291146-1.0.1.1-foZomkelH4e9CuH7dI.ymyzpFI1P8iif8k7q7TtVKXgCulfHwa1Zag3y3ryyZUXlHzlzHyf9c4hXjUSalQGlIlXiEQ_Bm9hBFbRQWDyZT6M; path=/; expires=Thu, 10-Apr-25 13:49:06 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e288ae3d52075c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:19:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:19:06] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:19:06] receive_response_body.complete
[2025-04-10 21:19:06] response_closed.started
[2025-04-10 21:19:06] response_closed.complete
[2025-04-10 21:19:06] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:19:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '313', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_bffa307f50086e27c4036e39254d2c02', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=8vB1jBWUDmKXvtKuVx4xNyfl61qjGenapQd554H0ptg-1744291146-1.0.1.1-foZomkelH4e9CuH7dI.ymyzpFI1P8iif8k7q7TtVKXgCulfHwa1Zag3y3ryyZUXlHzlzHyf9c4hXjUSalQGlIlXiEQ_Bm9hBFbRQWDyZT6M; path=/; expires=Thu, 10-Apr-25 13:49:06 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e288ae3d52075c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:19:06] request_id: req_bffa307f50086e27c4036e39254d2c02
[2025-04-10 21:19:06] [SIM] News Sentiment: BUY
[2025-04-10 21:19:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:19:06] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:19:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:19:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 21:19:07] [SIM] EUR/USD_MINI: MACD=-0.43, RSI=45.70, Direction=SELL
[2025-04-10 21:19:07] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a212f94c-060b-416a-8321-0f95d4ca9b2f"
}
[2025-04-10 21:19:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:19:07] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 21:19:07] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 21:19:07] ⚠️ 嘗試 fallback：dealReference=a212f94c-060b-416a-8321-0f95d4ca9b2f
[2025-04-10 21:19:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:19:07] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:19:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:19:08] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:24:08] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:24:08] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:24:08] close.started
[2025-04-10 21:24:08] close.complete
[2025-04-10 21:24:08] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:24:08] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e7750>
[2025-04-10 21:24:08] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:24:08] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e6110>
[2025-04-10 21:24:08] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:24:08] send_request_headers.complete
[2025-04-10 21:24:08] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:24:08] send_request_body.complete
[2025-04-10 21:24:08] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:24:08] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:24:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'433'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_f1fa9a2d524a20d7056f02b1e9acf7bd'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2900e9fec6a84-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:24:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:24:08] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:24:08] receive_response_body.complete
[2025-04-10 21:24:08] response_closed.started
[2025-04-10 21:24:08] response_closed.complete
[2025-04-10 21:24:08] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:24:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '433', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_f1fa9a2d524a20d7056f02b1e9acf7bd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2900e9fec6a84-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:24:08] request_id: req_f1fa9a2d524a20d7056f02b1e9acf7bd
[2025-04-10 21:24:08] [SIM] News Sentiment: BUY
[2025-04-10 21:24:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:24:09] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:24:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:24:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 21:24:09] [SIM] EUR/USD_MINI: MACD=-0.24, RSI=51.01, Direction=SELL
[2025-04-10 21:24:09] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fa02dc23-7c1d-4fd6-bba6-414523fe4480"
}
[2025-04-10 21:24:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:24:09] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 21:24:09] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 21:24:09] ⚠️ 嘗試 fallback：dealReference=fa02dc23-7c1d-4fd6-bba6-414523fe4480
[2025-04-10 21:24:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:24:10] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:24:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:24:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:29:10] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:29:10] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:29:10] close.started
[2025-04-10 21:29:10] close.complete
[2025-04-10 21:29:10] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:29:10] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef708dd0>
[2025-04-10 21:29:10] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:29:10] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef709890>
[2025-04-10 21:29:10] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:29:10] send_request_headers.complete
[2025-04-10 21:29:10] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:29:10] send_request_body.complete
[2025-04-10 21:29:10] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:29:10] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:29:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'413'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_51322b5f87220b581f2e3bce42406847'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2976f9e98842a-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:29:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:29:10] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:29:10] receive_response_body.complete
[2025-04-10 21:29:10] response_closed.started
[2025-04-10 21:29:10] response_closed.complete
[2025-04-10 21:29:10] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:29:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '413', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_51322b5f87220b581f2e3bce42406847', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2976f9e98842a-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:29:10] request_id: req_51322b5f87220b581f2e3bce42406847
[2025-04-10 21:29:10] [SIM] News Sentiment: BUY
[2025-04-10 21:29:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:29:11] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:29:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:29:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 21:29:11] [SIM] EUR/USD_MINI: MACD=-0.22, RSI=48.93, Direction=SELL
[2025-04-10 21:29:11] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ac6d3b0a-c408-461f-8a0d-354d33f1b6d9"
}
[2025-04-10 21:29:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:29:11] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 21:29:11] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 21:29:11] ⚠️ 嘗試 fallback：dealReference=ac6d3b0a-c408-461f-8a0d-354d33f1b6d9
[2025-04-10 21:29:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:29:12] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:29:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:29:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:34:12] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:34:12] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:34:12] close.started
[2025-04-10 21:34:12] close.complete
[2025-04-10 21:34:12] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:34:12] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fd010>
[2025-04-10 21:34:12] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:34:12] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fd190>
[2025-04-10 21:34:12] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:34:12] send_request_headers.complete
[2025-04-10 21:34:12] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:34:12] send_request_body.complete
[2025-04-10 21:34:12] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:34:13] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:34:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'499'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_52ae3f43d32baf4f1ea8eec6d931413a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=fVDH0XKgrCs_e9_QErmtPiAg2Kd8nv9OgMmlRhb1u9A-1744292053-1.0.1.1-z_FrMDOpCGgwEq51KvW4uZveDr6DyrUCdWa9JeMjc6mhadh7AnGWzOKrswmcj3xsJVL25A0usBhdgTkPbTNelYKblLADEPxIosr5f3GXzgk; path=/; expires=Thu, 10-Apr-25 14:04:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e29ed0a814844b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:34:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:34:13] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:34:13] receive_response_body.complete
[2025-04-10 21:34:13] response_closed.started
[2025-04-10 21:34:13] response_closed.complete
[2025-04-10 21:34:13] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:34:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '499', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_52ae3f43d32baf4f1ea8eec6d931413a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=fVDH0XKgrCs_e9_QErmtPiAg2Kd8nv9OgMmlRhb1u9A-1744292053-1.0.1.1-z_FrMDOpCGgwEq51KvW4uZveDr6DyrUCdWa9JeMjc6mhadh7AnGWzOKrswmcj3xsJVL25A0usBhdgTkPbTNelYKblLADEPxIosr5f3GXzgk; path=/; expires=Thu, 10-Apr-25 14:04:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e29ed0a814844b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:34:13] request_id: req_52ae3f43d32baf4f1ea8eec6d931413a
[2025-04-10 21:34:13] [SIM] News Sentiment: BUY
[2025-04-10 21:34:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:34:13] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:34:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:34:14] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 21:34:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:34:14] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:34:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:34:14] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:39:14] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:39:14] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:39:14] close.started
[2025-04-10 21:39:14] close.complete
[2025-04-10 21:39:14] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:39:14] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6edcd0>
[2025-04-10 21:39:14] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:39:14] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6eecd0>
[2025-04-10 21:39:14] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:39:14] send_request_headers.complete
[2025-04-10 21:39:14] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:39:14] send_request_body.complete
[2025-04-10 21:39:14] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:39:15] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:39:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'435'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_ecda9904ddefb6698c3b2315b1e7046d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2a630abfd4a4d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:39:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:39:15] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:39:15] receive_response_body.complete
[2025-04-10 21:39:15] response_closed.started
[2025-04-10 21:39:15] response_closed.complete
[2025-04-10 21:39:15] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:39:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '435', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_ecda9904ddefb6698c3b2315b1e7046d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2a630abfd4a4d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:39:15] request_id: req_ecda9904ddefb6698c3b2315b1e7046d
[2025-04-10 21:39:15] [SIM] News Sentiment: BUY
[2025-04-10 21:39:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:39:15] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:39:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:39:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 21:39:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:39:16] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:39:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:39:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:44:16] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:44:16] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:44:16] close.started
[2025-04-10 21:44:16] close.complete
[2025-04-10 21:44:16] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:44:16] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71b8d0>
[2025-04-10 21:44:16] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:44:16] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71b710>
[2025-04-10 21:44:16] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:44:16] send_request_headers.complete
[2025-04-10 21:44:16] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:44:16] send_request_body.complete
[2025-04-10 21:44:16] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:44:17] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:44:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'295'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_6701e144b75d258b4e7d4f0eb84789bc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2ad8fbd58a9b3-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:44:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:44:17] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:44:17] receive_response_body.complete
[2025-04-10 21:44:17] response_closed.started
[2025-04-10 21:44:17] response_closed.complete
[2025-04-10 21:44:17] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:44:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '295', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_6701e144b75d258b4e7d4f0eb84789bc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2ad8fbd58a9b3-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:44:17] request_id: req_6701e144b75d258b4e7d4f0eb84789bc
[2025-04-10 21:44:17] [SIM] News Sentiment: BUY
[2025-04-10 21:44:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:44:17] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:44:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:44:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 21:44:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:44:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:44:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:44:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:49:18] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:49:18] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:49:18] close.started
[2025-04-10 21:49:18] close.complete
[2025-04-10 21:49:18] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:49:18] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71d210>
[2025-04-10 21:49:18] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:49:18] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71c990>
[2025-04-10 21:49:18] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:49:18] send_request_headers.complete
[2025-04-10 21:49:18] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:49:18] send_request_body.complete
[2025-04-10 21:49:18] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:49:19] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:49:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'527'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_06876d4dba205e7132e11e241a17b625'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=jd.By466Zl6Bug4wN.rMDGMbDM8XMk7ltcG7Ck4TYhY-1744292959-1.0.1.1-.vrluR7ypyUmg9OtCGLQvFlwK7UrD5AMg3a9hTf_BNd1BPIEW6rfP.yF3N5vmKxB8eAQEMqf81vEvwErIQicNOj7Nwq9gnicgzmgHA1ADvQ; path=/; expires=Thu, 10-Apr-25 14:19:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2b4ef0fe44a9f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:49:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:49:19] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:49:19] receive_response_body.complete
[2025-04-10 21:49:19] response_closed.started
[2025-04-10 21:49:19] response_closed.complete
[2025-04-10 21:49:19] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:49:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '527', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_06876d4dba205e7132e11e241a17b625', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=jd.By466Zl6Bug4wN.rMDGMbDM8XMk7ltcG7Ck4TYhY-1744292959-1.0.1.1-.vrluR7ypyUmg9OtCGLQvFlwK7UrD5AMg3a9hTf_BNd1BPIEW6rfP.yF3N5vmKxB8eAQEMqf81vEvwErIQicNOj7Nwq9gnicgzmgHA1ADvQ; path=/; expires=Thu, 10-Apr-25 14:19:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2b4ef0fe44a9f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:49:19] request_id: req_06876d4dba205e7132e11e241a17b625
[2025-04-10 21:49:19] [SIM] News Sentiment: BUY
[2025-04-10 21:49:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:49:19] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:49:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:49:20] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 21:49:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:49:20] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:49:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:49:20] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:54:20] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:54:20] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:54:20] close.started
[2025-04-10 21:54:20] close.complete
[2025-04-10 21:54:20] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:54:20] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71ce50>
[2025-04-10 21:54:20] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:54:20] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71ed50>
[2025-04-10 21:54:20] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:54:20] send_request_headers.complete
[2025-04-10 21:54:20] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:54:20] send_request_body.complete
[2025-04-10 21:54:20] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:54:21] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:54:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'389'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_2824ccb1d4d8f269aaa1992eb0b0886b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2bc4f480c4a5e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:54:21] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:54:21] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:54:21] receive_response_body.complete
[2025-04-10 21:54:21] response_closed.started
[2025-04-10 21:54:21] response_closed.complete
[2025-04-10 21:54:21] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:54:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '389', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_2824ccb1d4d8f269aaa1992eb0b0886b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2bc4f480c4a5e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:54:21] request_id: req_2824ccb1d4d8f269aaa1992eb0b0886b
[2025-04-10 21:54:21] [SIM] News Sentiment: BUY
[2025-04-10 21:54:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:54:21] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:54:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:54:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 21:54:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:54:22] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:54:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:54:22] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 21:59:22] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 21:59:22] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 21:59:22] close.started
[2025-04-10 21:59:22] close.complete
[2025-04-10 21:59:22] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 21:59:22] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef721c10>
[2025-04-10 21:59:22] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 21:59:22] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71f490>
[2025-04-10 21:59:22] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 21:59:22] send_request_headers.complete
[2025-04-10 21:59:22] send_request_body.started request=<Request [b'POST']>
[2025-04-10 21:59:22] send_request_body.complete
[2025-04-10 21:59:22] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 21:59:23] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 13:59:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'665'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_affe7ccb53e2207b86a9650dc092bb6c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2c3ae7e4fa361-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 21:59:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 21:59:23] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 21:59:23] receive_response_body.complete
[2025-04-10 21:59:23] response_closed.started
[2025-04-10 21:59:23] response_closed.complete
[2025-04-10 21:59:23] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 13:59:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '665', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_affe7ccb53e2207b86a9650dc092bb6c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2c3ae7e4fa361-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 21:59:23] request_id: req_affe7ccb53e2207b86a9650dc092bb6c
[2025-04-10 21:59:23] [SIM] News Sentiment: BUY
[2025-04-10 21:59:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:59:23] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:59:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:59:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1569
[2025-04-10 21:59:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:59:24] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 21:59:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 21:59:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:04:24] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:04:24] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:04:24] close.started
[2025-04-10 22:04:24] close.complete
[2025-04-10 22:04:24] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:04:24] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71dc90>
[2025-04-10 22:04:24] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:04:24] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71cbd0>
[2025-04-10 22:04:24] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:04:24] send_request_headers.complete
[2025-04-10 22:04:24] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:04:24] send_request_body.complete
[2025-04-10 22:04:24] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:04:25] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:04:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'317'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_983dda76eaa4b54f1df49b0763f90cb2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=.LXaCD54VjoDPSCjJkTmlB5hkSEN9nKq6ClTBXcWJS0-1744293865-1.0.1.1-K98a6xyaeC5TbmHkq3TN.MxTNw7KMhzoK..ATI..jkcvHpKlmtyg12TIhnx3VCX8BrYarid_lXHsQzGfelG6HHJvLPHerCqgSQ1Zkl5kEpI; path=/; expires=Thu, 10-Apr-25 14:34:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2cb0ea9ec6a9e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:04:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:04:25] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:04:25] receive_response_body.complete
[2025-04-10 22:04:25] response_closed.started
[2025-04-10 22:04:25] response_closed.complete
[2025-04-10 22:04:25] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:04:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '317', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_983dda76eaa4b54f1df49b0763f90cb2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=.LXaCD54VjoDPSCjJkTmlB5hkSEN9nKq6ClTBXcWJS0-1744293865-1.0.1.1-K98a6xyaeC5TbmHkq3TN.MxTNw7KMhzoK..ATI..jkcvHpKlmtyg12TIhnx3VCX8BrYarid_lXHsQzGfelG6HHJvLPHerCqgSQ1Zkl5kEpI; path=/; expires=Thu, 10-Apr-25 14:34:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2cb0ea9ec6a9e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:04:25] request_id: req_983dda76eaa4b54f1df49b0763f90cb2
[2025-04-10 22:04:25] [SIM] News Sentiment: BUY
[2025-04-10 22:04:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:04:25] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:04:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:04:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:04:25] [SIM] EUR/USD_MINI: MACD=1.03, RSI=52.36, Direction=BUY
[2025-04-10 22:04:25] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "8a4ad5dd-967f-490c-bbf1-015f0819bc18"
}
[2025-04-10 22:04:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:04:26] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:04:26] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:04:26] ⚠️ 嘗試 fallback：dealReference=8a4ad5dd-967f-490c-bbf1-015f0819bc18
[2025-04-10 22:04:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:04:26] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:04:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:04:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:09:26] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:09:26] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:09:26] close.started
[2025-04-10 22:09:26] close.complete
[2025-04-10 22:09:26] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:09:26] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71be10>
[2025-04-10 22:09:26] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:09:26] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71b510>
[2025-04-10 22:09:26] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:09:26] send_request_headers.complete
[2025-04-10 22:09:26] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:09:26] send_request_body.complete
[2025-04-10 22:09:26] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:09:27] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:09:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'520'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_6549beccdf8f5e3c5f13ef978ad18caf'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2d26edeed8466-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:09:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:09:27] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:09:27] receive_response_body.complete
[2025-04-10 22:09:27] response_closed.started
[2025-04-10 22:09:27] response_closed.complete
[2025-04-10 22:09:27] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:09:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '520', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_6549beccdf8f5e3c5f13ef978ad18caf', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2d26edeed8466-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:09:27] request_id: req_6549beccdf8f5e3c5f13ef978ad18caf
[2025-04-10 22:09:27] [SIM] News Sentiment: BUY
[2025-04-10 22:09:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:09:27] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:09:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:09:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:09:28] [SIM] EUR/USD_MINI: MACD=-0.30, RSI=46.93, Direction=SELL
[2025-04-10 22:09:28] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3b25fe3d-aa35-4e91-ba52-0e734c04eb35"
}
[2025-04-10 22:09:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:09:28] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:09:28] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:09:28] ⚠️ 嘗試 fallback：dealReference=3b25fe3d-aa35-4e91-ba52-0e734c04eb35
[2025-04-10 22:09:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:09:28] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:09:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:09:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:14:29] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:14:29] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:14:29] close.started
[2025-04-10 22:14:29] close.complete
[2025-04-10 22:14:29] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:14:29] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6fc110>
[2025-04-10 22:14:29] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:14:29] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ff610>
[2025-04-10 22:14:29] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:14:29] send_request_headers.complete
[2025-04-10 22:14:29] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:14:29] send_request_body.complete
[2025-04-10 22:14:29] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:14:29] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:14:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'461'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_a8f637ad0da5082cdb9958dea2895723'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2d9d0484c4a67-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:14:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:14:29] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:14:29] receive_response_body.complete
[2025-04-10 22:14:29] response_closed.started
[2025-04-10 22:14:29] response_closed.complete
[2025-04-10 22:14:29] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:14:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '461', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_a8f637ad0da5082cdb9958dea2895723', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2d9d0484c4a67-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:14:29] request_id: req_a8f637ad0da5082cdb9958dea2895723
[2025-04-10 22:14:29] [SIM] News Sentiment: BUY
[2025-04-10 22:14:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:14:30] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:14:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:14:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:14:30] [SIM] EUR/USD_MINI: MACD=-0.80, RSI=44.93, Direction=SELL
[2025-04-10 22:14:30] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f81593a5-2f18-4c46-9879-547e4ff16488"
}
[2025-04-10 22:14:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:14:30] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:14:30] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:14:30] ⚠️ 嘗試 fallback：dealReference=f81593a5-2f18-4c46-9879-547e4ff16488
[2025-04-10 22:14:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:14:31] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:14:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:14:31] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:19:31] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:19:31] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:19:31] close.started
[2025-04-10 22:19:31] close.complete
[2025-04-10 22:19:31] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:19:31] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef719a10>
[2025-04-10 22:19:31] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:19:31] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71bfd0>
[2025-04-10 22:19:31] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:19:31] send_request_headers.complete
[2025-04-10 22:19:31] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:19:31] send_request_body.complete
[2025-04-10 22:19:31] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:19:31] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:19:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'354'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_9e14f6e0ba8d8ff085d1caf3b2e150d8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=3Q82kIc7o6_fksxgRBPlkJTWzU0vQcGgAob9S410y9o-1744294772-1.0.1.1-Dddd2ZryzDeKnp8qVgBN1Ruc12FG5ES4LNHjmrQMhdYtYTKjWmB9LR3e6I73jXVu53N6WuFYGrorVWpcT5THZ9J6rSCYF2y6OHnwH0klsGQ; path=/; expires=Thu, 10-Apr-25 14:49:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2e1318d7ba3a0-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:19:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:19:31] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:19:31] receive_response_body.complete
[2025-04-10 22:19:31] response_closed.started
[2025-04-10 22:19:31] response_closed.complete
[2025-04-10 22:19:31] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:19:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '354', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_9e14f6e0ba8d8ff085d1caf3b2e150d8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=3Q82kIc7o6_fksxgRBPlkJTWzU0vQcGgAob9S410y9o-1744294772-1.0.1.1-Dddd2ZryzDeKnp8qVgBN1Ruc12FG5ES4LNHjmrQMhdYtYTKjWmB9LR3e6I73jXVu53N6WuFYGrorVWpcT5THZ9J6rSCYF2y6OHnwH0klsGQ; path=/; expires=Thu, 10-Apr-25 14:49:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2e1318d7ba3a0-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:19:31] request_id: req_9e14f6e0ba8d8ff085d1caf3b2e150d8
[2025-04-10 22:19:31] [SIM] News Sentiment: BUY
[2025-04-10 22:19:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:19:32] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:19:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:19:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:19:32] [SIM] EUR/USD_MINI: MACD=0.89, RSI=44.02, Direction=BUY
[2025-04-10 22:19:32] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1167910e-043a-4b90-ae69-ac55dd24ffba"
}
[2025-04-10 22:19:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:19:33] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:19:33] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:19:33] ⚠️ 嘗試 fallback：dealReference=1167910e-043a-4b90-ae69-ac55dd24ffba
[2025-04-10 22:19:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:19:33] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:19:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:19:33] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:24:33] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:24:33] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:24:33] close.started
[2025-04-10 22:24:33] close.complete
[2025-04-10 22:24:33] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:24:33] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef708650>
[2025-04-10 22:24:33] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:24:33] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef709f90>
[2025-04-10 22:24:33] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:24:33] send_request_headers.complete
[2025-04-10 22:24:33] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:24:33] send_request_body.complete
[2025-04-10 22:24:33] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:24:34] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:24:34 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'475'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_e4f845e08b3b69ce11b46e22a0b82a41'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2e8929dab808e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:24:34] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:24:34] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:24:34] receive_response_body.complete
[2025-04-10 22:24:34] response_closed.started
[2025-04-10 22:24:34] response_closed.complete
[2025-04-10 22:24:34] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:24:34 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '475', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_e4f845e08b3b69ce11b46e22a0b82a41', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2e8929dab808e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:24:34] request_id: req_e4f845e08b3b69ce11b46e22a0b82a41
[2025-04-10 22:24:34] [SIM] News Sentiment: BUY
[2025-04-10 22:24:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:24:34] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:24:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:24:35] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-10 22:24:35] [SIM] EUR/USD_MINI: MACD=0.14, RSI=55.70, Direction=BUY
[2025-04-10 22:24:35] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7a55e247-564b-4f39-8f85-e16bcb683ee2"
}
[2025-04-10 22:24:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:24:35] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:24:35] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:24:35] ⚠️ 嘗試 fallback：dealReference=7a55e247-564b-4f39-8f85-e16bcb683ee2
[2025-04-10 22:24:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:24:35] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:24:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:24:35] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:29:35] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:29:35] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:29:35] close.started
[2025-04-10 22:29:35] close.complete
[2025-04-10 22:29:35] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:29:35] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e4350>
[2025-04-10 22:29:35] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:29:36] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e4410>
[2025-04-10 22:29:36] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:29:36] send_request_headers.complete
[2025-04-10 22:29:36] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:29:36] send_request_body.complete
[2025-04-10 22:29:36] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:29:36] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:29:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'333'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_caba2c4688e5388848b50634442b5a3b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2eff41a228f1b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:29:36] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:29:36] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:29:36] receive_response_body.complete
[2025-04-10 22:29:36] response_closed.started
[2025-04-10 22:29:36] response_closed.complete
[2025-04-10 22:29:36] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:29:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '333', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_caba2c4688e5388848b50634442b5a3b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2eff41a228f1b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:29:36] request_id: req_caba2c4688e5388848b50634442b5a3b
[2025-04-10 22:29:36] [SIM] News Sentiment: BUY
[2025-04-10 22:29:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:29:36] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:29:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:29:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:29:37] [SIM] EUR/USD_MINI: MACD=0.02, RSI=42.80, Direction=BUY
[2025-04-10 22:29:37] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "2cf4841a-334d-4032-b1c5-7f9ba5519d85"
}
[2025-04-10 22:29:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:29:37] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:29:37] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:29:37] ⚠️ 嘗試 fallback：dealReference=2cf4841a-334d-4032-b1c5-7f9ba5519d85
[2025-04-10 22:29:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:29:38] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:29:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:29:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:34:38] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:34:38] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:34:38] close.started
[2025-04-10 22:34:38] close.complete
[2025-04-10 22:34:38] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:34:38] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e6b90>
[2025-04-10 22:34:38] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:34:38] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6e55d0>
[2025-04-10 22:34:38] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:34:38] send_request_headers.complete
[2025-04-10 22:34:38] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:34:38] send_request_body.complete
[2025-04-10 22:34:38] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:34:39] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:34:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'578'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_851a0119fbf91ae2bc82a3c0d1ec8da7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=rujoPcgG4d9EMg1dPw._xbtNjGhOQpAO2IP0P..rCj8-1744295679-1.0.1.1-dICRGO31nmNxA5sktDZe4oG98rv_pNOfrSBwGwm._YGxQobGdAyX0WDguVHd3hs6_cycmBi3.pxDj23MwDjjNdHbFU8TfHpIlaXa_.OAtyY; path=/; expires=Thu, 10-Apr-25 15:04:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2f7588d588436-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:34:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:34:39] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:34:39] receive_response_body.complete
[2025-04-10 22:34:39] response_closed.started
[2025-04-10 22:34:39] response_closed.complete
[2025-04-10 22:34:39] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:34:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '578', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_851a0119fbf91ae2bc82a3c0d1ec8da7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=rujoPcgG4d9EMg1dPw._xbtNjGhOQpAO2IP0P..rCj8-1744295679-1.0.1.1-dICRGO31nmNxA5sktDZe4oG98rv_pNOfrSBwGwm._YGxQobGdAyX0WDguVHd3hs6_cycmBi3.pxDj23MwDjjNdHbFU8TfHpIlaXa_.OAtyY; path=/; expires=Thu, 10-Apr-25 15:04:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2f7588d588436-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:34:39] request_id: req_851a0119fbf91ae2bc82a3c0d1ec8da7
[2025-04-10 22:34:39] [SIM] News Sentiment: BUY
[2025-04-10 22:34:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:34:39] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:34:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:34:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:34:40] [SIM] EUR/USD_MINI: MACD=0.80, RSI=47.88, Direction=BUY
[2025-04-10 22:34:40] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1fa62531-f007-4a41-ab31-0399b206d1b5"
}
[2025-04-10 22:34:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:34:40] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:34:40] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:34:40] ⚠️ 嘗試 fallback：dealReference=1fa62531-f007-4a41-ab31-0399b206d1b5
[2025-04-10 22:34:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:34:40] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:34:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:34:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:39:46] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:39:46] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:39:46] close.started
[2025-04-10 22:39:46] close.complete
[2025-04-10 22:39:46] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:39:46] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ee7d0>
[2025-04-10 22:39:46] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:39:46] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6ec410>
[2025-04-10 22:39:46] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:39:46] send_request_headers.complete
[2025-04-10 22:39:46] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:39:46] send_request_body.complete
[2025-04-10 22:39:46] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:39:46] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:39:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'498'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_8466a4b4af8e0997084e012d2180fc84'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e2fed9ff434a9d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:39:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:39:46] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:39:46] receive_response_body.complete
[2025-04-10 22:39:46] response_closed.started
[2025-04-10 22:39:46] response_closed.complete
[2025-04-10 22:39:46] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:39:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '498', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_8466a4b4af8e0997084e012d2180fc84', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e2fed9ff434a9d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:39:46] request_id: req_8466a4b4af8e0997084e012d2180fc84
[2025-04-10 22:39:46] [SIM] News Sentiment: BUY
[2025-04-10 22:39:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:39:47] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:39:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:39:47] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:39:47] [SIM] EUR/USD_MINI: MACD=0.35, RSI=52.20, Direction=BUY
[2025-04-10 22:39:47] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "098fb676-1b76-47f1-b667-015524bcb589"
}
[2025-04-10 22:39:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:39:47] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:39:47] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:39:47] ⚠️ 嘗試 fallback：dealReference=098fb676-1b76-47f1-b667-015524bcb589
[2025-04-10 22:39:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:39:48] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:39:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:39:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:44:48] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:44:48] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:44:48] close.started
[2025-04-10 22:44:48] close.complete
[2025-04-10 22:44:48] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:44:48] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f2350>
[2025-04-10 22:44:48] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:44:48] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef6f1490>
[2025-04-10 22:44:48] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:44:48] send_request_headers.complete
[2025-04-10 22:44:48] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:44:48] send_request_body.complete
[2025-04-10 22:44:48] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:44:49] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:44:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'642'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_3be3a3376a2ac0789cc4e4b753c8e44b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e3063b7d155701-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:44:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:44:49] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:44:49] receive_response_body.complete
[2025-04-10 22:44:49] response_closed.started
[2025-04-10 22:44:49] response_closed.complete
[2025-04-10 22:44:49] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:44:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '642', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_3be3a3376a2ac0789cc4e4b753c8e44b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e3063b7d155701-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:44:49] request_id: req_3be3a3376a2ac0789cc4e4b753c8e44b
[2025-04-10 22:44:49] [SIM] News Sentiment: BUY
[2025-04-10 22:44:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:44:49] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:44:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:44:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:44:50] [SIM] EUR/USD_MINI: MACD=0.63, RSI=44.75, Direction=BUY
[2025-04-10 22:44:50] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "06b297de-95bb-4604-8ee2-ff77069948d2"
}
[2025-04-10 22:44:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:44:50] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:44:50] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:44:50] ⚠️ 嘗試 fallback：dealReference=06b297de-95bb-4604-8ee2-ff77069948d2
[2025-04-10 22:44:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:44:50] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:44:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:44:51] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:49:51] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:49:51] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:49:51] close.started
[2025-04-10 22:49:51] close.complete
[2025-04-10 22:49:51] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:49:51] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef719ad0>
[2025-04-10 22:49:51] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:49:51] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71b2d0>
[2025-04-10 22:49:51] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:49:51] send_request_headers.complete
[2025-04-10 22:49:51] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:49:51] send_request_body.complete
[2025-04-10 22:49:51] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:49:51] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:49:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'336'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_d1f47dce4d4c586ef78116fc4f082934'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=y9DK4iMJ5ZD9Rd3nakEwcmo.es29xCBpw4N15KvTEqQ-1744296591-1.0.1.1-DS9SLTvIO7KSkotESsonVh1pF6HobX7.qYY7aLCZD29XwCtHbPhYLvLFrc8AM.rhBb3kGPEquSzO3F5n3uBXS.xi2jy0OhMBFqakEgun1KM; path=/; expires=Thu, 10-Apr-25 15:19:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e30d9e2d05808e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:49:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:49:51] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:49:51] receive_response_body.complete
[2025-04-10 22:49:51] response_closed.started
[2025-04-10 22:49:51] response_closed.complete
[2025-04-10 22:49:51] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:49:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '336', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_d1f47dce4d4c586ef78116fc4f082934', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=y9DK4iMJ5ZD9Rd3nakEwcmo.es29xCBpw4N15KvTEqQ-1744296591-1.0.1.1-DS9SLTvIO7KSkotESsonVh1pF6HobX7.qYY7aLCZD29XwCtHbPhYLvLFrc8AM.rhBb3kGPEquSzO3F5n3uBXS.xi2jy0OhMBFqakEgun1KM; path=/; expires=Thu, 10-Apr-25 15:19:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e30d9e2d05808e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:49:51] request_id: req_d1f47dce4d4c586ef78116fc4f082934
[2025-04-10 22:49:51] [SIM] News Sentiment: BUY
[2025-04-10 22:49:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:49:51] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:49:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:49:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:49:52] [SIM] EUR/USD_MINI: MACD=0.18, RSI=47.93, Direction=BUY
[2025-04-10 22:49:52] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "208b4569-f03e-471d-822e-48ec5b4034ed"
}
[2025-04-10 22:49:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:49:52] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:49:52] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:49:52] ⚠️ 嘗試 fallback：dealReference=208b4569-f03e-471d-822e-48ec5b4034ed
[2025-04-10 22:49:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:49:52] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:49:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:49:53] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 22:54:53] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 22:54:53] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 22:54:53] close.started
[2025-04-10 22:54:53] close.complete
[2025-04-10 22:54:53] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 22:54:53] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71e3d0>
[2025-04-10 22:54:53] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f57ef7ee600> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 22:54:53] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f57ef71c590>
[2025-04-10 22:54:53] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 22:54:53] send_request_headers.complete
[2025-04-10 22:54:53] send_request_body.started request=<Request [b'POST']>
[2025-04-10 22:54:53] send_request_body.complete
[2025-04-10 22:54:53] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 22:54:53] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 14:54:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'475'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_efedad836bdf739b010f00fbae0a174e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e314fe39378094-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 22:54:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 22:54:53] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 22:54:53] receive_response_body.complete
[2025-04-10 22:54:53] response_closed.started
[2025-04-10 22:54:53] response_closed.complete
[2025-04-10 22:54:53] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 14:54:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '475', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_efedad836bdf739b010f00fbae0a174e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e314fe39378094-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 22:54:53] request_id: req_efedad836bdf739b010f00fbae0a174e
[2025-04-10 22:54:53] [SIM] News Sentiment: BUY
[2025-04-10 22:54:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:54:54] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:54:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:54:54] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 22:54:54] [SIM] EUR/USD_MINI: MACD=-1.20, RSI=34.72, Direction=SELL
[2025-04-10 22:54:54] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e81555a4-4dc7-4370-945e-dd9f5dbebf61"
}
[2025-04-10 22:54:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:54:54] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 22:54:54] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 22:54:54] ⚠️ 嘗試 fallback：dealReference=e81555a4-4dc7-4370-945e-dd9f5dbebf61
[2025-04-10 22:54:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:54:55] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 22:54:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 22:54:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[備份] ✅ Unified-Sim-v1.2-Final 已備份為 FINAL_0410.py
nohup: ignoring input
[2025-04-10 23:08:02] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.1-Final
  adding: auto_trading_unified_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: check_active_processes.sh (deflated 6%)
  adding: update_list.txt (stored 0%)
[2025-04-10 23:08:02] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_2308.zip
[2025-04-10 23:08:02] 🚀 [SIM] 開始模擬交易任務
[2025-04-10 23:08:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:08:02] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-10 23:08:02] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 23:08:02] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 23:08:02] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 23:08:02] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcadcb38450>
[2025-04-10 23:08:02] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcadcc8e9f0> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 23:08:02] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcadcb38510>
[2025-04-10 23:08:02] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 23:08:02] send_request_headers.complete
[2025-04-10 23:08:02] send_request_body.started request=<Request [b'POST']>
[2025-04-10 23:08:02] send_request_body.complete
[2025-04-10 23:08:02] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 23:08:03] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 15:08:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'652'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_a7a641ed2f44fbc4742f56bc83a4a0d1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=p8IznBRiPll6umVI3IIgf4DM52ovXITP4.Pux3W5cdQ-1744297683-1.0.1.1-budcxOhSM7AqQiVnxG75S2ArdiT6QWmQCM0fptpEBx6EoJVOcU2hV9uSF1cFCzKNJuqCBy2eq9m_2o71Z7BQuIrvUDkSuPlHflwxGas52Xw; path=/; expires=Thu, 10-Apr-25 15:38:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=qbxxmWPqDh_kL9BfCWHGCcvqPQSNwqcuBeHH2kj.c2w-1744297683599-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e328433efd56e8-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 23:08:03] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:08:03] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 23:08:03] receive_response_body.complete
[2025-04-10 23:08:03] response_closed.started
[2025-04-10 23:08:03] response_closed.complete
[2025-04-10 23:08:03] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 10 Apr 2025 15:08:03 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '652'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9959'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '246ms'), ('x-request-id', 'req_a7a641ed2f44fbc4742f56bc83a4a0d1'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=p8IznBRiPll6umVI3IIgf4DM52ovXITP4.Pux3W5cdQ-1744297683-1.0.1.1-budcxOhSM7AqQiVnxG75S2ArdiT6QWmQCM0fptpEBx6EoJVOcU2hV9uSF1cFCzKNJuqCBy2eq9m_2o71Z7BQuIrvUDkSuPlHflwxGas52Xw; path=/; expires=Thu, 10-Apr-25 15:38:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=qbxxmWPqDh_kL9BfCWHGCcvqPQSNwqcuBeHH2kj.c2w-1744297683599-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e328433efd56e8-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-10 23:08:03] request_id: req_a7a641ed2f44fbc4742f56bc83a4a0d1
[2025-04-10 23:08:03] [AI] News Sentiment: BUY
[2025-04-10 23:08:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:08:04] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:08:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:08:06] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 23:08:06] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "86391313-5657-48b9-9255-a8ee61814e20"
}
[2025-04-10 23:08:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:08:06] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 23:08:06] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 23:08:06] ⚠️ 嘗試 fallback: dealReference=9111e32b-865c-4ef4-955a-c3ab3aa710b5
[2025-04-10 23:08:06] 🔁 Retry payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9111e32b-865c-4ef4-955a-c3ab3aa710b5"
}
[2025-04-10 23:08:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:08:06] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 23:08:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:08:08] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:08:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:08:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
nohup: ignoring input
[🌀 重啟] ✅ v1.2.1 Final 已重新啟動於 2025-04-10 23:10:50
[2025-04-10 23:10:51] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.1-Final
  adding: auto_trading_unified_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: check_active_processes.sh (deflated 6%)
  adding: update_list.txt (stored 0%)
[2025-04-10 23:10:51] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_2310.zip
[2025-04-10 23:10:51] 🚀 [SIM] 開始模擬交易任務
[2025-04-10 23:10:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:10:51] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-10 23:10:51] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 23:10:51] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 23:10:51] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 23:10:51] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f1cbbd3c490>
[2025-04-10 23:10:51] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f1cbbe929f0> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 23:10:51] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f1cbbd3c550>
[2025-04-10 23:10:51] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 23:10:51] send_request_headers.complete
[2025-04-10 23:10:51] send_request_body.started request=<Request [b'POST']>
[2025-04-10 23:10:51] send_request_body.complete
[2025-04-10 23:10:51] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 23:10:52] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 15:10:52 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'397'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_66846bcdb42bab04579a8c4338c60edf'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=KxH6BxNQlVXp5lOmCwqtjqBx9NCRUYK7iCPR98eIqIc-1744297852-1.0.1.1-amD3Quthyn8YizjJ.nWNXImdP_Hsu9YI_Fvazd0WTUWyXLyg8Y6SxHv8JtboE4od8eA7yUiCYqSOPRNyozzZHuxnvE7rVKYtYrroKAOtdi0; path=/; expires=Thu, 10-Apr-25 15:40:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=AQPvl4q3TC1NplAAqj07DSw9gLvqxK0pJkFuQ0Zuag8-1744297852523-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e32c667a164a5b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 23:10:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:10:52] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 23:10:52] receive_response_body.complete
[2025-04-10 23:10:52] response_closed.started
[2025-04-10 23:10:52] response_closed.complete
[2025-04-10 23:10:52] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 10 Apr 2025 15:10:52 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '397'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9959'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '246ms'), ('x-request-id', 'req_66846bcdb42bab04579a8c4338c60edf'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=KxH6BxNQlVXp5lOmCwqtjqBx9NCRUYK7iCPR98eIqIc-1744297852-1.0.1.1-amD3Quthyn8YizjJ.nWNXImdP_Hsu9YI_Fvazd0WTUWyXLyg8Y6SxHv8JtboE4od8eA7yUiCYqSOPRNyozzZHuxnvE7rVKYtYrroKAOtdi0; path=/; expires=Thu, 10-Apr-25 15:40:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=AQPvl4q3TC1NplAAqj07DSw9gLvqxK0pJkFuQ0Zuag8-1744297852523-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e32c667a164a5b-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-10 23:10:52] request_id: req_66846bcdb42bab04579a8c4338c60edf
[2025-04-10 23:10:52] [AI] News Sentiment: BUY
[2025-04-10 23:10:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:10:53] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:10:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:10:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 23:10:55] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ab1c8fb3-ab3c-4164-8692-985a9da05871"
}
[2025-04-10 23:10:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:10:55] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 23:10:55] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 23:10:55] ⚠️ 嘗試 fallback: dealReference=2d6f5f42-cd64-4031-a503-c43649bb7ba3
[2025-04-10 23:10:55] 🔁 Retry payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "2d6f5f42-cd64-4031-a503-c43649bb7ba3"
}
[2025-04-10 23:10:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:10:55] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 23:10:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:10:57] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:10:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:10:58] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-10 23:15:58] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 23:15:58] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 23:15:58] close.started
[2025-04-10 23:15:58] close.complete
[2025-04-10 23:15:58] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 23:15:58] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f1cbbd4cad0>
[2025-04-10 23:15:58] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f1cbbe929f0> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 23:15:58] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f1cbbd45850>
[2025-04-10 23:15:58] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 23:15:58] send_request_headers.complete
[2025-04-10 23:15:58] send_request_body.started request=<Request [b'POST']>
[2025-04-10 23:15:58] send_request_body.complete
[2025-04-10 23:15:58] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 23:15:59] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 15:15:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'496'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_7859e96a499a2bd6d617b575653ad93f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e333e2ac6b4a70-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 23:15:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:15:59] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 23:15:59] receive_response_body.complete
[2025-04-10 23:15:59] response_closed.started
[2025-04-10 23:15:59] response_closed.complete
[2025-04-10 23:15:59] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 15:15:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '496', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_7859e96a499a2bd6d617b575653ad93f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e333e2ac6b4a70-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-10 23:15:59] request_id: req_7859e96a499a2bd6d617b575653ad93f
[2025-04-10 23:15:59] [AI] News Sentiment: BUY
[2025-04-10 23:16:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:16:00] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:16:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:16:01] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 23:16:01] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6b73078c-1752-40e2-8751-32041c7e3df1"
}
[2025-04-10 23:16:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:16:02] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 23:16:02] ❌ [SIM] 下單失敗: 400 - {"errorCode":"validation.pattern.invalid.request.dealReference"}
[2025-04-10 23:16:02] ⚠️ 嘗試 fallback: dealReference=e602d749-c712-462a-8794-f40401bb6e34
[2025-04-10 23:16:02] 🔁 Retry payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e602d749-c712-462a-8794-f40401bb6e34"
}
[2025-04-10 23:16:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:16:02] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 400 64
[2025-04-10 23:16:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:16:03] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:16:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:16:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[🗃️ 備份完成] ✅ Sim_Trading_Backup_20250410_2316.zip 建立成功

[🧪 測試啟動] 2025-04-10 23:18:30 - 測試 auto_trading_unified_sim.py 是否成功下單
nohup: ignoring input
[2025-04-10 23:18:30] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.1-Final
  adding: auto_trading_unified_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-10 23:18:30] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_2318.zip
[2025-04-10 23:18:30] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 23:18:32] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:18:32] [SIM] News Sentiment: BUY
[2025-04-10 23:18:32] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5afe6eb3a3b74fe69ee5"
}
[2025-04-10 23:18:33] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 23:23:34] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:23:34] [SIM] News Sentiment: BUY
[2025-04-10 23:23:35] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6d4e424e863e4da29237"
}
[2025-04-10 23:23:35] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1

[🔁 再測試下單：2025-04-10 23:23:40]
nohup: ignoring input
[2025-04-10 23:23:41] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.1-Final
  adding: auto_trading_unified_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-10 23:23:41] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_2323.zip
[2025-04-10 23:23:41] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 23:23:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:23:42] [SIM] News Sentiment: BUY
[2025-04-10 23:23:42] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d0ccdd2d9fa74bcaa7ac"
}
[2025-04-10 23:23:43] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 23:28:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:28:44] [SIM] News Sentiment: BUY
[2025-04-10 23:28:45] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "85458c7fd1cb44feb4b1"
}
[2025-04-10 23:28:45] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 23:33:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:33:46] [SIM] News Sentiment: BUY
[2025-04-10 23:33:47] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5024524cfc024098a58b"
}
[2025-04-10 23:33:47] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
nohup: ignoring input
[2025-04-10 23:34:15] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.2
  adding: auto_trading_unified_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-10 23:34:15] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_2334.zip
[2025-04-10 23:34:15] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 23:34:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:34:15] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-10 23:34:15] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 23:34:15] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 23:34:15] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 23:34:15] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f5465b2bed0>
[2025-04-10 23:34:15] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f5465c8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 23:34:15] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f5465b2bf90>
[2025-04-10 23:34:15] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 23:34:15] send_request_headers.complete
[2025-04-10 23:34:15] send_request_body.started request=<Request [b'POST']>
[2025-04-10 23:34:15] send_request_body.complete
[2025-04-10 23:34:15] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 23:34:16] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 15:34:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'393'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_394b3f4d44c5270cd062aa5144dfa86e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=5wCiXh8YSgqHnEGR5kCkK5HIYHcTw2nYoEdgPWglG78-1744299256-1.0.1.1-xHmHPFApztLMLSGFw__A06.fjY5dcQ0FmJV1qvwqt0dOGCzAARf0Tz10aYBJZKABYuiz0Dcv.m8L6ilS007UWfshYWaja0RJ7MzcUEzgYTs; path=/; expires=Thu, 10-Apr-25 16:04:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=IbiUSaJ8ksePmCMjaJu8X4wrMp.qgYRFyW4aiE18VkM-1744299256198-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e34eab497f8f25-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 23:34:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:34:16] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 23:34:16] receive_response_body.complete
[2025-04-10 23:34:16] response_closed.started
[2025-04-10 23:34:16] response_closed.complete
[2025-04-10 23:34:16] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 10 Apr 2025 15:34:16 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '393'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9959'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '246ms'), ('x-request-id', 'req_394b3f4d44c5270cd062aa5144dfa86e'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=5wCiXh8YSgqHnEGR5kCkK5HIYHcTw2nYoEdgPWglG78-1744299256-1.0.1.1-xHmHPFApztLMLSGFw__A06.fjY5dcQ0FmJV1qvwqt0dOGCzAARf0Tz10aYBJZKABYuiz0Dcv.m8L6ilS007UWfshYWaja0RJ7MzcUEzgYTs; path=/; expires=Thu, 10-Apr-25 16:04:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=IbiUSaJ8ksePmCMjaJu8X4wrMp.qgYRFyW4aiE18VkM-1744299256198-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e34eab497f8f25-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-10 23:34:16] request_id: req_394b3f4d44c5270cd062aa5144dfa86e
[2025-04-10 23:34:16] [SIM] News Sentiment: BUY
[2025-04-10 23:34:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:34:16] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:34:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:34:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 23:34:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:34:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.2
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 180, in <module>
    manage_daily_trading()
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 161, in manage_daily_trading
    stop, limit = get_dynamic_stop_limit(cst, x_token, epic)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 61, in get_dynamic_stop_limit
    min_stop = data["instrument"]["minStopDistance"]
               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'minStopDistance'
[2025-04-10 23:34:17] close.started
[2025-04-10 23:34:17] close.complete
nohup: ignoring input
[🌀 重啟] ✅ v1.2.2 Final 已啟動於 2025-04-10 23:36:37
[2025-04-10 23:36:38] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.2
  adding: auto_trading_unified_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-10 23:36:38] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_2336.zip
[2025-04-10 23:36:38] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-10 23:36:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:36:38] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-10 23:36:38] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 23:36:38] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 23:36:38] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 23:36:38] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4bacd9be10>
[2025-04-10 23:36:38] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f4bacefa7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 23:36:38] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4bacd9be90>
[2025-04-10 23:36:38] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 23:36:38] send_request_headers.complete
[2025-04-10 23:36:38] send_request_body.started request=<Request [b'POST']>
[2025-04-10 23:36:38] send_request_body.complete
[2025-04-10 23:36:38] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 23:36:39] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 15:36:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'414'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_d59b878ad87f6c6ee03807bc932601be'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=nLTVeMNLPLaGhgiyIsQbWI7xyUhG8wwA248dwl9qD7g-1744299399-1.0.1.1-rMUufGzttpZgvaTF8P1HPoD4gwvUNM6ezuih9ty.hft1mg9mTokZXCUGsy1SNYz5GQ84trtUSTYM2ytuXdtvsKG1_QyCK9SugG7Ux1Wivlg; path=/; expires=Thu, 10-Apr-25 16:06:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Ny5oW5bXmM4ZRxyuTbVWdKMt1d0kDQnCbA3zY5uy8tM-1744299399437-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e3522a5d308466-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 23:36:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:36:39] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 23:36:39] receive_response_body.complete
[2025-04-10 23:36:39] response_closed.started
[2025-04-10 23:36:39] response_closed.complete
[2025-04-10 23:36:39] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 10 Apr 2025 15:36:39 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '414'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9959'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '246ms'), ('x-request-id', 'req_d59b878ad87f6c6ee03807bc932601be'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=nLTVeMNLPLaGhgiyIsQbWI7xyUhG8wwA248dwl9qD7g-1744299399-1.0.1.1-rMUufGzttpZgvaTF8P1HPoD4gwvUNM6ezuih9ty.hft1mg9mTokZXCUGsy1SNYz5GQ84trtUSTYM2ytuXdtvsKG1_QyCK9SugG7Ux1Wivlg; path=/; expires=Thu, 10-Apr-25 16:06:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=Ny5oW5bXmM4ZRxyuTbVWdKMt1d0kDQnCbA3zY5uy8tM-1744299399437-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e3522a5d308466-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-10 23:36:39] request_id: req_d59b878ad87f6c6ee03807bc932601be
[2025-04-10 23:36:39] [SIM] News Sentiment: BUY
[2025-04-10 23:36:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:36:39] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:36:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:36:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 23:36:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:36:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.2
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 180, in <module>
    manage_daily_trading()
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 161, in manage_daily_trading
    stop, limit = get_dynamic_stop_limit(cst, x_token, epic)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 61, in get_dynamic_stop_limit
    min_stop = data["instrument"]["minStopDistance"]
               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'minStopDistance'
[2025-04-10 23:36:40] close.started
[2025-04-10 23:36:40] close.complete
nohup: ignoring input
[🌀 重啟] ✅ v1.2.3 Final 已啟動於 2025-04-10 23:58:24
[2025-04-10 23:58:25] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.3

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250410_2358.zip)
[2025-04-10 23:58:25] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250410_2358.zip
[2025-04-10 23:58:25] 🚀 [SIM] 開始模擬交易任務
[2025-04-10 23:58:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:58:25] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-10 23:58:25] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-10 23:58:25] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-10 23:58:25] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-10 23:58:25] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f221d634410>
[2025-04-10 23:58:25] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f221d78e720> server_hostname='api.openai.com' timeout=5.0
[2025-04-10 23:58:25] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f221d634490>
[2025-04-10 23:58:25] send_request_headers.started request=<Request [b'POST']>
[2025-04-10 23:58:25] send_request_headers.complete
[2025-04-10 23:58:25] send_request_body.started request=<Request [b'POST']>
[2025-04-10 23:58:25] send_request_body.complete
[2025-04-10 23:58:25] receive_response_headers.started request=<Request [b'POST']>
[2025-04-10 23:58:26] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 15:58:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'525'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_d3c0f8f62ba8ff2c577309e12c1e643d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=p96XBPhuOjSDmmtSvS.SlJ5oyA_n.1PxZZtg08.e2G0-1744300706-1.0.1.1-Or5onhlYQ9KTIxmzW7A_SQPbq3QOUc2qSP5rZTnLmX1typ.GSGi_bIhIP5WQPcqFXMBPuy.xqzOGh7._uu4AaqX2vqzH_kcod0ZTSy6qgNo; path=/; expires=Thu, 10-Apr-25 16:28:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=9NbiNUH5C50iFnetzEG5YM5vZ2nU4SEDZxp0DaMWb5M-1744300706724-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e372128ae14a22-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-10 23:58:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-10 23:58:26] receive_response_body.started request=<Request [b'POST']>
[2025-04-10 23:58:26] receive_response_body.complete
[2025-04-10 23:58:26] response_closed.started
[2025-04-10 23:58:26] response_closed.complete
[2025-04-10 23:58:26] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 10 Apr 2025 15:58:26 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '525'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9959'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '246ms'), ('x-request-id', 'req_d3c0f8f62ba8ff2c577309e12c1e643d'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=p96XBPhuOjSDmmtSvS.SlJ5oyA_n.1PxZZtg08.e2G0-1744300706-1.0.1.1-Or5onhlYQ9KTIxmzW7A_SQPbq3QOUc2qSP5rZTnLmX1typ.GSGi_bIhIP5WQPcqFXMBPuy.xqzOGh7._uu4AaqX2vqzH_kcod0ZTSy6qgNo; path=/; expires=Thu, 10-Apr-25 16:28:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=9NbiNUH5C50iFnetzEG5YM5vZ2nU4SEDZxp0DaMWb5M-1744300706724-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e372128ae14a22-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-10 23:58:26] request_id: req_d3c0f8f62ba8ff2c577309e12c1e643d
[2025-04-10 23:58:26] [SIM] News Sentiment: BUY
[2025-04-10 23:58:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:58:27] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:58:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:58:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 23:58:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:58:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-10 23:58:27] ⚠️ 無 minStopDistance，使用預設 STOP_DISTANCES（CS.D.EURUSD.MINI.IP）：'minStopDistance'
[2025-04-10 23:58:27] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.0025,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "8e37902ede844d1c9107f53d7d3471"
}
[2025-04-10 23:58:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:58:28] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 50
[2025-04-10 23:58:28] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-10 23:58:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:58:28] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-10 23:58:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-10 23:58:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 00:03:28] 🛑 [SIM] 已達 00:00，結束模擬任務
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.3
[2025-04-11 00:03:28] close.started
[2025-04-11 00:03:28] close.complete
[🧪 測試觀察] 🔄 模擬 auto_trading_unified_sim.py 啟動流程
nohup: ignoring input
[2025-04-11 00:06:26] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.4

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_0006.zip)
[2025-04-11 00:06:26] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_0006.zip
[2025-04-11 00:06:26] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 00:06:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 00:06:27] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 00:06:27] 🛑 [SIM] 已達 00:00，結束模擬任務
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.4
[🧪 測試觀察] ⏳ 測試 auto_trading_unified_sim.py 下單流程中…
nohup: ignoring input
[2025-04-11 00:09:47] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.4

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_0009.zip)
[2025-04-11 00:09:47] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_0009.zip
[2025-04-11 00:09:47] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 00:09:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 00:09:48] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 00:09:48] 🛑 [SIM] 已達 00:00，結束模擬任務
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.4
-e 
[2025-04-11 06:55:01] 🔍 清晨提示：目前自動交易系統進程 PID 狀況如下：
Traceback (most recent call last):
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 8, in <module>
    from openai import OpenAI
ModuleNotFoundError: No module named 'openai'
[🧪 測試 crontab 修正後自動啟動流程]
nohup: ignoring input
[2025-04-11 07:40:16] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.4

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_0740.zip)
[2025-04-11 07:40:16] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_0740.zip
[2025-04-11 07:40:16] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 07:40:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:40:17] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 07:40:17] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 07:40:17] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 07:40:17] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 07:40:17] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0c9c490>
[2025-04-11 07:40:17] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f87f0df27b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 07:40:17] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0c91610>
[2025-04-11 07:40:17] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 07:40:17] send_request_headers.complete
[2025-04-11 07:40:17] send_request_body.started request=<Request [b'POST']>
[2025-04-11 07:40:17] send_request_body.complete
[2025-04-11 07:40:17] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 07:40:18] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 23:40:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'322'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_f53bfe19fc677b4cfb8c6efa1e33532a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=sl_OQgEx_KCfDyFWdqn66B6VWgokg.Si8cRkGdF_zyk-1744328418-1.0.1.1-uNHS1IUXzZXqCVPnGCyJa_URjZdYfejNqXUEDPi1RKE_Zpv0nZvtxx5XK2O29ZMZV2QtWc28XBdJUVAk9M.MxqUtN8N3YJONnc8qOM97Smw; path=/; expires=Fri, 11-Apr-25 00:10:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=qHxWQ8Tvhzkf_TFoAH.ZF3S.MVg9O5iresSr3j2iY_g-1744328418106-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6169f9a3b844e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 07:40:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 07:40:18] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 07:40:18] receive_response_body.complete
[2025-04-11 07:40:18] response_closed.started
[2025-04-11 07:40:18] response_closed.complete
[2025-04-11 07:40:18] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 10 Apr 2025 23:40:18 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '322'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9959'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '246ms'), ('x-request-id', 'req_f53bfe19fc677b4cfb8c6efa1e33532a'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=sl_OQgEx_KCfDyFWdqn66B6VWgokg.Si8cRkGdF_zyk-1744328418-1.0.1.1-uNHS1IUXzZXqCVPnGCyJa_URjZdYfejNqXUEDPi1RKE_Zpv0nZvtxx5XK2O29ZMZV2QtWc28XBdJUVAk9M.MxqUtN8N3YJONnc8qOM97Smw; path=/; expires=Fri, 11-Apr-25 00:10:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=qHxWQ8Tvhzkf_TFoAH.ZF3S.MVg9O5iresSr3j2iY_g-1744328418106-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e6169f9a3b844e-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 07:40:18] request_id: req_f53bfe19fc677b4cfb8c6efa1e33532a
[2025-04-11 07:40:18] [SIM] News Sentiment: BUY
[2025-04-11 07:40:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:40:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 07:40:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:40:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:40:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:40:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:40:19] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 07:40:19] [SIM] EUR/USD_MINI: MACD=-0.26, RSI=49.51, Direction=SELL
[2025-04-11 07:40:19] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "338e2c20b6114d51a096"
}
[2025-04-11 07:40:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:40:19] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 07:40:19] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 07:40:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:40:19] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 693
[2025-04-11 07:40:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:40:20] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[🧪 模擬 07:00 啟動 auto_trading_unified_sim.py]
nohup: ignoring input
[2025-04-11 07:43:31] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.4

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_0743.zip)
[2025-04-11 07:43:31] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_0743.zip
[2025-04-11 07:43:31] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 07:43:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:43:31] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 07:43:31] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 07:43:31] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 07:43:31] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 07:43:31] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f92bfd0>
[2025-04-11 07:43:31] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcf5fa8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 07:43:31] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f92bf50>
[2025-04-11 07:43:31] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 07:43:31] send_request_headers.complete
[2025-04-11 07:43:31] send_request_body.started request=<Request [b'POST']>
[2025-04-11 07:43:31] send_request_body.complete
[2025-04-11 07:43:31] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 07:43:32] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 23:43:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'308'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_61ecbdfca5b25c02884f9ffe3248e6fc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=hfefjHmU9JXX1cmlVvrg2YyPG4bsTsqUPTVGrMhHWZk-1744328612-1.0.1.1-v6lUUuzRXBBJZ3GkARDeIOjEj4kyb8m9wyW4PCMjcP28W1aoi8BEZqlB_fZ29IUy8hL0SzXJsIpPS9ctMEt.BDsZj1F0ZyGzM68a6mByhRQ; path=/; expires=Fri, 11-Apr-25 00:13:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=D4fxWyvlRbi_ijGJ6gdmVIYHoI7edmf8aot4yI1uztY-1744328612322-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e61b5fcdf8a9c2-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 07:43:32] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 07:43:32] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 07:43:32] receive_response_body.complete
[2025-04-11 07:43:32] response_closed.started
[2025-04-11 07:43:32] response_closed.complete
[2025-04-11 07:43:32] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 10 Apr 2025 23:43:32 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '308'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9959'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '246ms'), ('x-request-id', 'req_61ecbdfca5b25c02884f9ffe3248e6fc'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=hfefjHmU9JXX1cmlVvrg2YyPG4bsTsqUPTVGrMhHWZk-1744328612-1.0.1.1-v6lUUuzRXBBJZ3GkARDeIOjEj4kyb8m9wyW4PCMjcP28W1aoi8BEZqlB_fZ29IUy8hL0SzXJsIpPS9ctMEt.BDsZj1F0ZyGzM68a6mByhRQ; path=/; expires=Fri, 11-Apr-25 00:13:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=D4fxWyvlRbi_ijGJ6gdmVIYHoI7edmf8aot4yI1uztY-1744328612322-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e61b5fcdf8a9c2-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 07:43:32] request_id: req_61ecbdfca5b25c02884f9ffe3248e6fc
[2025-04-11 07:43:32] [SIM] News Sentiment: BUY
[2025-04-11 07:43:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:43:32] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 07:43:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:43:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 07:43:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:43:33] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:43:33] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 07:43:33] [SIM] EUR/USD_MINI: MACD=0.43, RSI=54.32, Direction=BUY
[2025-04-11 07:43:33] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "524749beb3814c869424"
}
[2025-04-11 07:43:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:43:33] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 07:43:33] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 07:43:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:43:33] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 692
[2025-04-11 07:43:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:43:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 07:45:20] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 07:45:20] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 07:45:20] close.started
[2025-04-11 07:45:20] close.complete
[2025-04-11 07:45:20] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 07:45:20] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cad0d0>
[2025-04-11 07:45:20] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f87f0df27b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 07:45:20] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cad110>
[2025-04-11 07:45:20] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 07:45:20] send_request_headers.complete
[2025-04-11 07:45:20] send_request_body.started request=<Request [b'POST']>
[2025-04-11 07:45:20] send_request_body.complete
[2025-04-11 07:45:20] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 07:45:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 23:45:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'339'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_d9815fbe8b54c24d3cd1245fe8a156bd'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e61e046f0e4a8e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 07:45:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 07:45:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 07:45:20] receive_response_body.complete
[2025-04-11 07:45:20] response_closed.started
[2025-04-11 07:45:20] response_closed.complete
[2025-04-11 07:45:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 23:45:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '339', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_d9815fbe8b54c24d3cd1245fe8a156bd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e61e046f0e4a8e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 07:45:20] request_id: req_d9815fbe8b54c24d3cd1245fe8a156bd
[2025-04-11 07:45:20] [SIM] News Sentiment: BUY
[2025-04-11 07:45:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:45:20] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 07:45:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:45:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:45:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:45:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:45:21] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 07:45:21] [SIM] EUR/USD_MINI: MACD=0.77, RSI=51.19, Direction=BUY
[2025-04-11 07:45:21] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "574eda6b8d9749e0a84f"
}
[2025-04-11 07:45:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:45:21] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 07:45:21] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 07:45:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:45:22] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 692
[2025-04-11 07:45:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:45:22] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 07:48:34] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 07:48:34] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 07:48:34] close.started
[2025-04-11 07:48:34] close.complete
[2025-04-11 07:48:34] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 07:48:34] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f944c50>
[2025-04-11 07:48:34] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcf5fa8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 07:48:34] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f9452d0>
[2025-04-11 07:48:34] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 07:48:34] send_request_headers.complete
[2025-04-11 07:48:34] send_request_body.started request=<Request [b'POST']>
[2025-04-11 07:48:34] send_request_body.complete
[2025-04-11 07:48:34] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 07:48:35] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 23:48:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'926'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_1e39cd3c6c957ef896ce5de90ecb02b4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e622c1ccfc8445-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 07:48:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 07:48:35] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 07:48:35] receive_response_body.complete
[2025-04-11 07:48:35] response_closed.started
[2025-04-11 07:48:35] response_closed.complete
[2025-04-11 07:48:35] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 23:48:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '926', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_1e39cd3c6c957ef896ce5de90ecb02b4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e622c1ccfc8445-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 07:48:35] request_id: req_1e39cd3c6c957ef896ce5de90ecb02b4
[2025-04-11 07:48:35] [SIM] News Sentiment: BUY
[2025-04-11 07:48:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:48:35] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 692
[2025-04-11 07:48:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:48:35] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 692
[2025-04-11 07:48:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:48:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 07:50:22] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 07:50:22] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 07:50:22] close.started
[2025-04-11 07:50:22] close.complete
[2025-04-11 07:50:22] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 07:50:22] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cadb10>
[2025-04-11 07:50:22] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f87f0df27b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 07:50:22] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0caf550>
[2025-04-11 07:50:22] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 07:50:22] send_request_headers.complete
[2025-04-11 07:50:22] send_request_body.started request=<Request [b'POST']>
[2025-04-11 07:50:22] send_request_body.complete
[2025-04-11 07:50:22] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 07:50:23] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 23:50:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'390'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_ad2d4b7c5597230dcc65afc5a4626ae8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e625667863073c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 07:50:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 07:50:23] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 07:50:23] receive_response_body.complete
[2025-04-11 07:50:23] response_closed.started
[2025-04-11 07:50:23] response_closed.complete
[2025-04-11 07:50:23] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 23:50:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '390', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_ad2d4b7c5597230dcc65afc5a4626ae8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e625667863073c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 07:50:23] request_id: req_ad2d4b7c5597230dcc65afc5a4626ae8
[2025-04-11 07:50:23] [SIM] News Sentiment: BUY
[2025-04-11 07:50:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:50:23] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 07:50:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:50:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 07:50:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:50:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:50:24] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 07:50:24] [SIM] EUR/USD_MINI: MACD=-0.06, RSI=48.94, Direction=SELL
[2025-04-11 07:50:24] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "afbd0561f3184492bb23"
}
[2025-04-11 07:50:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:50:24] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 07:50:24] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 07:50:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:50:24] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 693
[2025-04-11 07:50:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:50:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 07:53:36] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 07:53:36] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 07:53:36] close.started
[2025-04-11 07:53:36] close.complete
[2025-04-11 07:53:36] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 07:53:36] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f947710>
[2025-04-11 07:53:36] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcf5fa8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 07:53:36] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f946bd0>
[2025-04-11 07:53:36] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 07:53:36] send_request_headers.complete
[2025-04-11 07:53:36] send_request_body.started request=<Request [b'POST']>
[2025-04-11 07:53:36] send_request_body.complete
[2025-04-11 07:53:36] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 07:53:36] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 23:53:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'335'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_2a76c69c5a81e6096d49747664dff360'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e62a21de0b827f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 07:53:36] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 07:53:36] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 07:53:36] receive_response_body.complete
[2025-04-11 07:53:36] response_closed.started
[2025-04-11 07:53:36] response_closed.complete
[2025-04-11 07:53:36] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 23:53:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '335', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_2a76c69c5a81e6096d49747664dff360', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e62a21de0b827f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 07:53:36] request_id: req_2a76c69c5a81e6096d49747664dff360
[2025-04-11 07:53:36] [SIM] News Sentiment: BUY
[2025-04-11 07:53:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:53:37] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 07:53:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:53:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:53:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:53:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:53:37] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 07:53:37] [SIM] EUR/USD_MINI: MACD=-0.54, RSI=50.00, Direction=SELL
[2025-04-11 07:53:37] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f1e187d2bec84de69678"
}
[2025-04-11 07:53:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:53:38] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 07:53:38] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 07:53:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:53:38] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 693
[2025-04-11 07:53:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:53:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 07:55:25] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 07:55:25] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 07:55:25] close.started
[2025-04-11 07:55:25] close.complete
[2025-04-11 07:55:25] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 07:55:25] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cbc410>
[2025-04-11 07:55:25] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f87f0df27b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 07:55:25] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cbd290>
[2025-04-11 07:55:25] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 07:55:25] send_request_headers.complete
[2025-04-11 07:55:25] send_request_body.started request=<Request [b'POST']>
[2025-04-11 07:55:25] send_request_body.complete
[2025-04-11 07:55:25] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 07:55:25] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 23:55:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'340'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_4e7be6c67c0f7993dc76a131f9ecf76c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=yskzQsSgQYoVrSmS7lhlaw.fhtnTmVCnGib5X43T7GU-1744329325-1.0.1.1-HVTSWRH900woieTzJnOLRk5ZoFCr6N6ochBRrRw5k7zLmAluN_n4DhLLD8EYgOzTMyfFJFvPsw7P9FuzBgu_mf5PP3YTtWd.kuWvx2iJ7dI; path=/; expires=Fri, 11-Apr-25 00:25:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e62cc9ad8b073c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 07:55:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 07:55:25] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 07:55:25] receive_response_body.complete
[2025-04-11 07:55:25] response_closed.started
[2025-04-11 07:55:25] response_closed.complete
[2025-04-11 07:55:25] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 23:55:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '340', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_4e7be6c67c0f7993dc76a131f9ecf76c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=yskzQsSgQYoVrSmS7lhlaw.fhtnTmVCnGib5X43T7GU-1744329325-1.0.1.1-HVTSWRH900woieTzJnOLRk5ZoFCr6N6ochBRrRw5k7zLmAluN_n4DhLLD8EYgOzTMyfFJFvPsw7P9FuzBgu_mf5PP3YTtWd.kuWvx2iJ7dI; path=/; expires=Fri, 11-Apr-25 00:25:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e62cc9ad8b073c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 07:55:25] request_id: req_4e7be6c67c0f7993dc76a131f9ecf76c
[2025-04-11 07:55:25] [SIM] News Sentiment: BUY
[2025-04-11 07:55:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:55:25] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 07:55:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:55:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:55:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:55:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:55:26] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 07:55:26] [SIM] EUR/USD_MINI: MACD=0.17, RSI=47.31, Direction=BUY
[2025-04-11 07:55:26] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e6406317bd7f4de29101"
}
[2025-04-11 07:55:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:55:26] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 07:55:26] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 07:55:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:55:27] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 692
[2025-04-11 07:55:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:55:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 07:58:38] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 07:58:38] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 07:58:38] close.started
[2025-04-11 07:58:38] close.complete
[2025-04-11 07:58:38] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 07:58:38] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f954c10>
[2025-04-11 07:58:38] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcf5fa8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 07:58:38] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f954e10>
[2025-04-11 07:58:38] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 07:58:38] send_request_headers.complete
[2025-04-11 07:58:38] send_request_body.started request=<Request [b'POST']>
[2025-04-11 07:58:38] send_request_body.complete
[2025-04-11 07:58:38] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 07:58:39] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 10 Apr 2025 23:58:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'326'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_dbad0c228c81d5d11612d16c1902f3ee'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=b34jX1xoMTWVFW5q1ko6OJ519SNpF9K2u_2XpVIvbxc-1744329519-1.0.1.1-fnwulfIbjs6JuNmOPF.NBDWvZFb.sp7jVdti5O4_wl25DologjvGHAqZxPpkp6BOHsEAmpcWC61nyubjpY.0blyu9SHAMwqRQwN9NkZL_sg; path=/; expires=Fri, 11-Apr-25 00:28:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e631845d6c4a8e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 07:58:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 07:58:39] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 07:58:39] receive_response_body.complete
[2025-04-11 07:58:39] response_closed.started
[2025-04-11 07:58:39] response_closed.complete
[2025-04-11 07:58:39] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 10 Apr 2025 23:58:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '326', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_dbad0c228c81d5d11612d16c1902f3ee', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=b34jX1xoMTWVFW5q1ko6OJ519SNpF9K2u_2XpVIvbxc-1744329519-1.0.1.1-fnwulfIbjs6JuNmOPF.NBDWvZFb.sp7jVdti5O4_wl25DologjvGHAqZxPpkp6BOHsEAmpcWC61nyubjpY.0blyu9SHAMwqRQwN9NkZL_sg; path=/; expires=Fri, 11-Apr-25 00:28:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e631845d6c4a8e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 07:58:39] request_id: req_dbad0c228c81d5d11612d16c1902f3ee
[2025-04-11 07:58:39] [SIM] News Sentiment: BUY
[2025-04-11 07:58:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:58:39] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 07:58:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:58:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:58:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:58:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 07:58:40] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 07:58:40] [SIM] EUR/USD_MINI: MACD=0.53, RSI=50.52, Direction=BUY
[2025-04-11 07:58:40] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "672d2605b94041338b29"
}
[2025-04-11 07:58:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:58:40] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 07:58:40] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 07:58:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:58:40] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 690
[2025-04-11 07:58:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 07:58:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 08:00:27] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 08:00:27] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:00:27] close.started
[2025-04-11 08:00:27] close.complete
[2025-04-11 08:00:27] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:00:27] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cbd950>
[2025-04-11 08:00:27] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f87f0df27b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:00:27] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cbdd50>
[2025-04-11 08:00:27] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:00:27] send_request_headers.complete
[2025-04-11 08:00:27] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:00:27] send_request_body.complete
[2025-04-11 08:00:27] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:00:27] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:00:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'236'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_7d201feac80fc6054b6fe977b1b532c4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6342bff268f15-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:00:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:00:27] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:00:27] receive_response_body.complete
[2025-04-11 08:00:27] response_closed.started
[2025-04-11 08:00:27] response_closed.complete
[2025-04-11 08:00:27] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:00:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '236', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_7d201feac80fc6054b6fe977b1b532c4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6342bff268f15-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:00:27] request_id: req_7d201feac80fc6054b6fe977b1b532c4
[2025-04-11 08:00:27] [SIM] News Sentiment: BUY
[2025-04-11 08:00:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:00:28] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:00:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:00:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:00:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:00:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:00:28] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 08:00:28] [SIM] EUR/USD_MINI: MACD=0.57, RSI=48.16, Direction=BUY
[2025-04-11 08:00:28] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a048c7c2b8b04aedbf5f"
}
[2025-04-11 08:00:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:00:29] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:00:29] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:00:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:00:29] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 691
[2025-04-11 08:00:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:00:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 08:03:41] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 08:03:41] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:03:41] close.started
[2025-04-11 08:03:41] close.complete
[2025-04-11 08:03:41] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:03:41] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f954d90>
[2025-04-11 08:03:41] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcf5fa8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:03:41] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f9554d0>
[2025-04-11 08:03:41] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:03:41] send_request_headers.complete
[2025-04-11 08:03:41] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:03:41] send_request_body.complete
[2025-04-11 08:03:41] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:03:41] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:03:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'305'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_fa032e4170bcd652c8349af0e98a706c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e638e71f96a9c2-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:03:41] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:03:41] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:03:41] receive_response_body.complete
[2025-04-11 08:03:41] response_closed.started
[2025-04-11 08:03:41] response_closed.complete
[2025-04-11 08:03:41] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:03:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '305', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_fa032e4170bcd652c8349af0e98a706c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e638e71f96a9c2-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:03:41] request_id: req_fa032e4170bcd652c8349af0e98a706c
[2025-04-11 08:03:41] [SIM] News Sentiment: BUY
[2025-04-11 08:03:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:03:42] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:03:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:03:42] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:03:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:03:42] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:03:42] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 08:03:42] [SIM] EUR/USD_MINI: MACD=1.03, RSI=51.27, Direction=BUY
[2025-04-11 08:03:42] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f61f7ceb01744f269444"
}
[2025-04-11 08:03:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:03:43] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:03:43] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:03:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:03:43] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 689
[2025-04-11 08:03:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:03:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 08:05:29] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 08:05:29] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:05:29] close.started
[2025-04-11 08:05:29] close.complete
[2025-04-11 08:05:29] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:05:29] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cc51d0>
[2025-04-11 08:05:29] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f87f0df27b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:05:29] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cbd990>
[2025-04-11 08:05:29] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:05:29] send_request_headers.complete
[2025-04-11 08:05:29] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:05:29] send_request_body.complete
[2025-04-11 08:05:29] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:05:30] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:05:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'476'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_dd903de0c47cfb879d1bbb829c1ba204'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e63b8e1e044aa6-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:05:30] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:05:30] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:05:30] receive_response_body.complete
[2025-04-11 08:05:30] response_closed.started
[2025-04-11 08:05:30] response_closed.complete
[2025-04-11 08:05:30] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:05:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '476', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_dd903de0c47cfb879d1bbb829c1ba204', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e63b8e1e044aa6-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:05:30] request_id: req_dd903de0c47cfb879d1bbb829c1ba204
[2025-04-11 08:05:30] [SIM] News Sentiment: BUY
[2025-04-11 08:05:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:05:31] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 688
[2025-04-11 08:05:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:05:31] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 688
[2025-04-11 08:05:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:05:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 08:08:43] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 08:08:43] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:08:43] close.started
[2025-04-11 08:08:43] close.complete
[2025-04-11 08:08:43] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:08:43] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f95e110>
[2025-04-11 08:08:43] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fcf5fa8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:08:43] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fcf5f95d810>
[2025-04-11 08:08:43] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:08:43] send_request_headers.complete
[2025-04-11 08:08:43] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:08:43] send_request_body.complete
[2025-04-11 08:08:43] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:08:44] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:08:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'334'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_56be75adefac355e9706fb3d5d683bbc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e640492b538264-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:08:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:08:44] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:08:44] receive_response_body.complete
[2025-04-11 08:08:44] response_closed.started
[2025-04-11 08:08:44] response_closed.complete
[2025-04-11 08:08:44] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:08:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '334', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_56be75adefac355e9706fb3d5d683bbc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e640492b538264-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:08:44] request_id: req_56be75adefac355e9706fb3d5d683bbc
[2025-04-11 08:08:44] [SIM] News Sentiment: BUY
[2025-04-11 08:08:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:08:44] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:08:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:08:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:08:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:08:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 08:08:45] ⚠️ CS.D.EURUSD.MINI.IP 無 minStopDistance 欄位，使用預設距離
[2025-04-11 08:08:45] [SIM] EUR/USD_MINI: MACD=-1.31, RSI=44.20, Direction=SELL
[2025-04-11 08:08:45] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 10,
  "stopDistance": 5,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "71db501ee83e4fd999cf"
}
[2025-04-11 08:08:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:08:45] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:08:45] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:08:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:08:45] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 691
[2025-04-11 08:08:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:08:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
[2025-04-11 08:10:32] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業市場分析師，僅回答 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold is gaining strength as market uncertainty rises.\n回覆限制：只可回應 BUY 或 SELL'}], 'model': 'gpt-4'}}
[2025-04-11 08:10:32] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:10:32] close.started
[2025-04-11 08:10:32] close.complete
[2025-04-11 08:10:32] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:10:32] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cc6250>
[2025-04-11 08:10:32] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f87f0df27b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:10:32] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f87f0cc6dd0>
[2025-04-11 08:10:32] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:10:32] send_request_headers.complete
[2025-04-11 08:10:32] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:10:32] send_request_body.complete
[2025-04-11 08:10:32] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:10:32] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:10:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'429'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9959'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'246ms'), (b'x-request-id', b'req_df51d97abd3003faec0c5df640e7814f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=jVUPMf5NB6_wwlqxYgFQSItmn9oszQl6lbVRzvCu63s-1744330232-1.0.1.1-FrDlz.sXI8T.K1FZdaTXH2aEKe4g1gQS2mYSDTJJ8yWB4QXJI74fBjU.A3nOtDdKYy33Gpx91lIDiZk2HEt0izLz5_b3QzY0orY5dSjkt9Y; path=/; expires=Fri, 11-Apr-25 00:40:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e642ef8f7d844c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:10:32] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:10:32] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:10:32] receive_response_body.complete
[2025-04-11 08:10:32] response_closed.started
[2025-04-11 08:10:32] response_closed.complete
[2025-04-11 08:10:32] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:10:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '429', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9959', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '246ms', 'x-request-id': 'req_df51d97abd3003faec0c5df640e7814f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=jVUPMf5NB6_wwlqxYgFQSItmn9oszQl6lbVRzvCu63s-1744330232-1.0.1.1-FrDlz.sXI8T.K1FZdaTXH2aEKe4g1gQS2mYSDTJJ8yWB4QXJI74fBjU.A3nOtDdKYy33Gpx91lIDiZk2HEt0izLz5_b3QzY0orY5dSjkt9Y; path=/; expires=Fri, 11-Apr-25 00:40:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e642ef8f7d844c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:10:32] request_id: req_df51d97abd3003faec0c5df640e7814f
[2025-04-11 08:10:32] [SIM] News Sentiment: BUY
[2025-04-11 08:10:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:10:33] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 693
[2025-04-11 08:10:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:10:33] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 693
[2025-04-11 08:10:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:10:33] https://demo-api.ig.com:443 "GET /gateway/deal/markets/IX.D.DOW.MINI.IP HTTP/1.1" 404 68
nohup: ignoring input
[2025-04-11 08:12:04] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.5-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_0812.zip)
[2025-04-11 08:12:04] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_0812.zip
[2025-04-11 08:12:04] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 08:12:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:12:04] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 08:12:04] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:12:04] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:12:04] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:12:04] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4abfd0>
[2025-04-11 08:12:04] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:12:04] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4abf50>
[2025-04-11 08:12:04] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:12:04] send_request_headers.complete
[2025-04-11 08:12:04] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:12:04] send_request_body.complete
[2025-04-11 08:12:04] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:12:05] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:12:05 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'419'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_ccaf71e98616f45c43d948547681cea7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=BsjUt2pS6XDY2MR_nKEWnqpnMFzQvSDQZxIvIJ_.qbc-1744330325-1.0.1.1-_uZ_Atsk9uzIpzpVVvTkm0p1J4pGRTFZLYu9dzksGEh7fXnj_tBsbAwV1hHeGK2P7TkaQQtgB74tkoz1LDp4XRaEuJMOie2v_pIOXdCBC5s; path=/; expires=Fri, 11-Apr-25 00:42:05 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=EfNlEmIkAkQBZQD9Njy9Ey0M5LyNKsKedWJkwV4Fpg4-1744330325578-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e645330ecd4a36-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:12:05] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:12:05] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:12:05] receive_response_body.complete
[2025-04-11 08:12:05] response_closed.started
[2025-04-11 08:12:05] response_closed.complete
[2025-04-11 08:12:05] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 00:12:05 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '419'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9967'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '198ms'), ('x-request-id', 'req_ccaf71e98616f45c43d948547681cea7'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=BsjUt2pS6XDY2MR_nKEWnqpnMFzQvSDQZxIvIJ_.qbc-1744330325-1.0.1.1-_uZ_Atsk9uzIpzpVVvTkm0p1J4pGRTFZLYu9dzksGEh7fXnj_tBsbAwV1hHeGK2P7TkaQQtgB74tkoz1LDp4XRaEuJMOie2v_pIOXdCBC5s; path=/; expires=Fri, 11-Apr-25 00:42:05 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=EfNlEmIkAkQBZQD9Njy9Ey0M5LyNKsKedWJkwV4Fpg4-1744330325578-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e645330ecd4a36-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 08:12:05] request_id: req_ccaf71e98616f45c43d948547681cea7
[2025-04-11 08:12:05] [SIM] News Sentiment: BUY
[2025-04-11 08:12:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:12:05] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:12:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:12:06] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:12:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:12:06] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:12:06] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:12:06] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "dc50af527fcd48f1be77"
}
[2025-04-11 08:12:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:12:06] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:12:06] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[🌀 重啟] ✅ v1.2.5 Final 已啟動於 2025-04-11 08:12:08
[2025-04-11 08:17:06] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:17:06] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:17:06] close.started
[2025-04-11 08:17:06] close.complete
[2025-04-11 08:17:06] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:17:06] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4c9090>
[2025-04-11 08:17:06] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:17:06] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4c90d0>
[2025-04-11 08:17:06] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:17:06] send_request_headers.complete
[2025-04-11 08:17:06] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:17:06] send_request_body.complete
[2025-04-11 08:17:06] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:17:07] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:17:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'313'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_fee08650b610fdff9fbc27ef6ef72677'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e64c91aad84a79-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:17:07] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:17:07] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:17:07] receive_response_body.complete
[2025-04-11 08:17:07] response_closed.started
[2025-04-11 08:17:07] response_closed.complete
[2025-04-11 08:17:07] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:17:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '313', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_fee08650b610fdff9fbc27ef6ef72677', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e64c91aad84a79-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:17:07] request_id: req_fee08650b610fdff9fbc27ef6ef72677
[2025-04-11 08:17:07] [SIM] News Sentiment: BUY
[2025-04-11 08:17:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:17:07] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:17:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:17:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 08:17:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:17:08] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 08:17:08] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:17:08] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bd908e72ef774fb6b15f"
}
[2025-04-11 08:17:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:17:08] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:17:08] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:22:08] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:22:08] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:22:08] close.started
[2025-04-11 08:22:08] close.complete
[2025-04-11 08:22:08] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:22:08] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4cb090>
[2025-04-11 08:22:08] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:22:08] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4c9390>
[2025-04-11 08:22:08] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:22:08] send_request_headers.complete
[2025-04-11 08:22:08] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:22:08] send_request_body.complete
[2025-04-11 08:22:08] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:22:09] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:22:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'320'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_1eb3658e570bf108d72ff19bde312f66'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e653efcfdf841b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:22:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:22:09] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:22:09] receive_response_body.complete
[2025-04-11 08:22:09] response_closed.started
[2025-04-11 08:22:09] response_closed.complete
[2025-04-11 08:22:09] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:22:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '320', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_1eb3658e570bf108d72ff19bde312f66', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e653efcfdf841b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:22:09] request_id: req_1eb3658e570bf108d72ff19bde312f66
[2025-04-11 08:22:09] [SIM] News Sentiment: BUY
[2025-04-11 08:22:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:22:09] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:22:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:22:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:22:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:22:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:22:10] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:22:10] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "757135650de64e7d88a2"
}
[2025-04-11 08:22:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:22:10] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:22:10] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:27:10] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:27:10] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:27:10] close.started
[2025-04-11 08:27:10] close.complete
[2025-04-11 08:27:10] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:27:10] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d1c90>
[2025-04-11 08:27:10] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:27:10] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d09d0>
[2025-04-11 08:27:10] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:27:10] send_request_headers.complete
[2025-04-11 08:27:10] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:27:10] send_request_body.complete
[2025-04-11 08:27:10] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:27:11] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:27:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'488'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_4c47d723691aceb650b2514d0cb75b73'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=yKZonhk75DYRxoEU_LnABF_N1gcqH8STYWE9v3tM9Kc-1744331231-1.0.1.1-mR8UxOWsdEvWEhd5tURjOH7dNANJZA230K2Z3V8l3EmGD44Vnk9_uoyKPGm4j9RC_8V5Y2z1ts7cPKUUmw6jxsfAVf1Hu1GywXFGvjXtcVs; path=/; expires=Fri, 11-Apr-25 00:57:11 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e65b4e1c39a9b5-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:27:11] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:27:11] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:27:11] receive_response_body.complete
[2025-04-11 08:27:11] response_closed.started
[2025-04-11 08:27:11] response_closed.complete
[2025-04-11 08:27:11] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:27:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '488', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_4c47d723691aceb650b2514d0cb75b73', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=yKZonhk75DYRxoEU_LnABF_N1gcqH8STYWE9v3tM9Kc-1744331231-1.0.1.1-mR8UxOWsdEvWEhd5tURjOH7dNANJZA230K2Z3V8l3EmGD44Vnk9_uoyKPGm4j9RC_8V5Y2z1ts7cPKUUmw6jxsfAVf1Hu1GywXFGvjXtcVs; path=/; expires=Fri, 11-Apr-25 00:57:11 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e65b4e1c39a9b5-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:27:11] request_id: req_4c47d723691aceb650b2514d0cb75b73
[2025-04-11 08:27:11] [SIM] News Sentiment: BUY
[2025-04-11 08:27:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:27:11] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:27:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:27:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:27:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:27:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:27:12] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:27:12] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "04acde1c744c41d7b77a"
}
[2025-04-11 08:27:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:27:12] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:27:12] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:32:12] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:32:12] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:32:12] close.started
[2025-04-11 08:32:12] close.complete
[2025-04-11 08:32:12] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:32:12] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4bb2d0>
[2025-04-11 08:32:12] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:32:12] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4ba9d0>
[2025-04-11 08:32:12] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:32:12] send_request_headers.complete
[2025-04-11 08:32:12] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:32:12] send_request_body.complete
[2025-04-11 08:32:12] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:32:12] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:32:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'361'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_c44f8bf4263c9420b45c7b6dff52866e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e662ad7ff20748-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:32:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:32:12] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:32:12] receive_response_body.complete
[2025-04-11 08:32:12] response_closed.started
[2025-04-11 08:32:12] response_closed.complete
[2025-04-11 08:32:12] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:32:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '361', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_c44f8bf4263c9420b45c7b6dff52866e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e662ad7ff20748-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:32:12] request_id: req_c44f8bf4263c9420b45c7b6dff52866e
[2025-04-11 08:32:12] [SIM] News Sentiment: BUY
[2025-04-11 08:32:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:32:13] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:32:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:32:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:32:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:32:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:32:13] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:32:13] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e2dec9f702ac499d9780"
}
[2025-04-11 08:32:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:32:14] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:32:14] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:37:14] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:37:14] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:37:14] close.started
[2025-04-11 08:37:14] close.complete
[2025-04-11 08:37:14] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:37:14] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4dd710>
[2025-04-11 08:37:14] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:37:14] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4dc650>
[2025-04-11 08:37:14] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:37:14] send_request_headers.complete
[2025-04-11 08:37:14] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:37:14] send_request_body.complete
[2025-04-11 08:37:14] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:37:14] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:37:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'368'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_6fb4a34e1adcafa82eb4f88e76f6a7e6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e66a0c4b124a54-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:37:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:37:14] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:37:14] receive_response_body.complete
[2025-04-11 08:37:14] response_closed.started
[2025-04-11 08:37:14] response_closed.complete
[2025-04-11 08:37:14] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:37:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '368', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_6fb4a34e1adcafa82eb4f88e76f6a7e6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e66a0c4b124a54-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:37:14] request_id: req_6fb4a34e1adcafa82eb4f88e76f6a7e6
[2025-04-11 08:37:14] [SIM] News Sentiment: BUY
[2025-04-11 08:37:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:37:15] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:37:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:37:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:37:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:37:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:37:15] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:37:15] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7a6194a81ff346b2ad91"
}
[2025-04-11 08:37:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:37:16] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:37:16] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:42:16] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:42:16] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:42:16] close.started
[2025-04-11 08:42:16] close.complete
[2025-04-11 08:42:16] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:42:16] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4dd6d0>
[2025-04-11 08:42:16] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:42:16] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4dfdd0>
[2025-04-11 08:42:16] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:42:16] send_request_headers.complete
[2025-04-11 08:42:16] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:42:16] send_request_body.complete
[2025-04-11 08:42:16] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:42:16] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:42:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'397'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_a789701c65ffe42fde7803e02a1c2be3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=pakOv.gJ5YJnPfs.3GmK.HxjYDmtNqoYYwVtVN0HtRU-1744332136-1.0.1.1-7TfDpqEQS7VPljNjmNI1dxxeZMhIIsbdKnRPaXYUUIbLtiqIJFCSGIZl4oCIxThAaKOi7E0q5wvdGzNbAprwxOHt2omidTx7_.6k3oDmQJw; path=/; expires=Fri, 11-Apr-25 01:12:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6716afff74a93-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:42:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:42:16] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:42:16] receive_response_body.complete
[2025-04-11 08:42:16] response_closed.started
[2025-04-11 08:42:16] response_closed.complete
[2025-04-11 08:42:16] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:42:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '397', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_a789701c65ffe42fde7803e02a1c2be3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=pakOv.gJ5YJnPfs.3GmK.HxjYDmtNqoYYwVtVN0HtRU-1744332136-1.0.1.1-7TfDpqEQS7VPljNjmNI1dxxeZMhIIsbdKnRPaXYUUIbLtiqIJFCSGIZl4oCIxThAaKOi7E0q5wvdGzNbAprwxOHt2omidTx7_.6k3oDmQJw; path=/; expires=Fri, 11-Apr-25 01:12:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6716afff74a93-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:42:16] request_id: req_a789701c65ffe42fde7803e02a1c2be3
[2025-04-11 08:42:16] [SIM] News Sentiment: BUY
[2025-04-11 08:42:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:42:17] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:42:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:42:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:42:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:42:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 08:42:17] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:42:17] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f2e3fe8a754f4637b4ad"
}
[2025-04-11 08:42:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:42:17] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:42:17] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:47:17] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:47:17] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:47:17] close.started
[2025-04-11 08:47:17] close.complete
[2025-04-11 08:47:17] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:47:18] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4e4410>
[2025-04-11 08:47:18] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:47:18] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4e6cd0>
[2025-04-11 08:47:18] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:47:18] send_request_headers.complete
[2025-04-11 08:47:18] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:47:18] send_request_body.complete
[2025-04-11 08:47:18] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:47:18] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:47:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'359'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_f51fc0ffa52d68a9ac289b075db59db5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e678c9985ca39d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:47:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:47:18] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:47:18] receive_response_body.complete
[2025-04-11 08:47:18] response_closed.started
[2025-04-11 08:47:18] response_closed.complete
[2025-04-11 08:47:18] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:47:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '359', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_f51fc0ffa52d68a9ac289b075db59db5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e678c9985ca39d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:47:18] request_id: req_f51fc0ffa52d68a9ac289b075db59db5
[2025-04-11 08:47:18] [SIM] News Sentiment: BUY
[2025-04-11 08:47:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:47:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:47:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:47:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:47:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:47:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 08:47:19] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:47:19] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "51f65bbc7b2a4cdea4ef"
}
[2025-04-11 08:47:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:47:19] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:47:19] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:52:19] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:52:19] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:52:19] close.started
[2025-04-11 08:52:19] close.complete
[2025-04-11 08:52:19] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:52:19] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4ec150>
[2025-04-11 08:52:19] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:52:19] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4ec2d0>
[2025-04-11 08:52:19] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:52:19] send_request_headers.complete
[2025-04-11 08:52:19] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:52:19] send_request_body.complete
[2025-04-11 08:52:19] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:52:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:52:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'398'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_f25ed24151ca17ca299bafe3c83cc8e6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e680288f440750-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:52:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:52:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:52:20] receive_response_body.complete
[2025-04-11 08:52:20] response_closed.started
[2025-04-11 08:52:20] response_closed.complete
[2025-04-11 08:52:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:52:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '398', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_f25ed24151ca17ca299bafe3c83cc8e6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e680288f440750-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:52:20] request_id: req_f25ed24151ca17ca299bafe3c83cc8e6
[2025-04-11 08:52:20] [SIM] News Sentiment: BUY
[2025-04-11 08:52:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:52:20] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:52:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:52:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:52:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:52:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:52:21] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:52:21] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a5868b5da09e48d385aa"
}
[2025-04-11 08:52:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:52:21] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:52:21] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 08:57:21] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 08:57:21] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 08:57:21] close.started
[2025-04-11 08:57:21] close.complete
[2025-04-11 08:57:21] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 08:57:21] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4dc290>
[2025-04-11 08:57:21] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 08:57:21] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4de790>
[2025-04-11 08:57:21] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 08:57:21] send_request_headers.complete
[2025-04-11 08:57:21] send_request_body.started request=<Request [b'POST']>
[2025-04-11 08:57:21] send_request_body.complete
[2025-04-11 08:57:21] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 08:57:22] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 00:57:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'311'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_43ca49b072e7a7019666eaf618046949'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=7I5qN2cQaJQ7QP5PLfFgCFuLGfTmj.hvzfoVeF67ahs-1744333042-1.0.1.1-R6vDsRk2E_TpRD0s.XS3rcm9IBcP7xFI9PxE_yGHfgHqVDzt4BB9fYGTIvJ3VfLnLLHhMzEXkCWMXUUkAbB7VWz6Z1hETQH82Md5GCHhzfY; path=/; expires=Fri, 11-Apr-25 01:27:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6878749574a7e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 08:57:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 08:57:22] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 08:57:22] receive_response_body.complete
[2025-04-11 08:57:22] response_closed.started
[2025-04-11 08:57:22] response_closed.complete
[2025-04-11 08:57:22] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 00:57:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '311', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_43ca49b072e7a7019666eaf618046949', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=7I5qN2cQaJQ7QP5PLfFgCFuLGfTmj.hvzfoVeF67ahs-1744333042-1.0.1.1-R6vDsRk2E_TpRD0s.XS3rcm9IBcP7xFI9PxE_yGHfgHqVDzt4BB9fYGTIvJ3VfLnLLHhMzEXkCWMXUUkAbB7VWz6Z1hETQH82Md5GCHhzfY; path=/; expires=Fri, 11-Apr-25 01:27:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6878749574a7e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 08:57:22] request_id: req_43ca49b072e7a7019666eaf618046949
[2025-04-11 08:57:22] [SIM] News Sentiment: BUY
[2025-04-11 08:57:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:57:22] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 08:57:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:57:22] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:57:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:57:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 08:57:23] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 08:57:23] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "cc376cf9549b4256948e"
}
[2025-04-11 08:57:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 08:57:23] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 08:57:23] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:02:23] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:02:23] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:02:23] close.started
[2025-04-11 09:02:23] close.complete
[2025-04-11 09:02:23] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:02:23] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4ec590>
[2025-04-11 09:02:23] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:02:23] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4ee610>
[2025-04-11 09:02:23] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:02:23] send_request_headers.complete
[2025-04-11 09:02:23] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:02:23] send_request_body.complete
[2025-04-11 09:02:23] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:02:24] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:02:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'447'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_eb7410cbf3fee0f4663ddb08fda5fa3c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e68ee61f644a09-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:02:24] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:02:24] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:02:24] receive_response_body.complete
[2025-04-11 09:02:24] response_closed.started
[2025-04-11 09:02:24] response_closed.complete
[2025-04-11 09:02:24] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:02:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '447', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_eb7410cbf3fee0f4663ddb08fda5fa3c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e68ee61f644a09-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:02:24] request_id: req_eb7410cbf3fee0f4663ddb08fda5fa3c
[2025-04-11 09:02:24] [SIM] News Sentiment: BUY
[2025-04-11 09:02:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:02:24] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:02:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:02:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:02:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:02:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:02:25] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:02:25] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ce53f11e36484b1895e3"
}
[2025-04-11 09:02:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:02:25] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:02:25] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:07:25] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:07:25] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:07:25] close.started
[2025-04-11 09:07:25] close.complete
[2025-04-11 09:07:25] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:07:25] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4ef990>
[2025-04-11 09:07:25] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:07:25] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4ef150>
[2025-04-11 09:07:25] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:07:25] send_request_headers.complete
[2025-04-11 09:07:25] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:07:25] send_request_body.complete
[2025-04-11 09:07:25] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:07:26] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:07:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'332'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_4dfcb26893775c3ec40a30f4bde09668'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6964659676a92-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:07:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:07:26] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:07:26] receive_response_body.complete
[2025-04-11 09:07:26] response_closed.started
[2025-04-11 09:07:26] response_closed.complete
[2025-04-11 09:07:26] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:07:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '332', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_4dfcb26893775c3ec40a30f4bde09668', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6964659676a92-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:07:26] request_id: req_4dfcb26893775c3ec40a30f4bde09668
[2025-04-11 09:07:26] [SIM] News Sentiment: BUY
[2025-04-11 09:07:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:07:26] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:07:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:07:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:07:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:07:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:07:27] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:07:27] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "547da03c65244f14bfce"
}
[2025-04-11 09:07:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:07:27] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:07:27] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:12:27] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:12:27] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:12:27] close.started
[2025-04-11 09:12:27] close.complete
[2025-04-11 09:12:27] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:12:27] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f4fd0>
[2025-04-11 09:12:27] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:12:27] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f6110>
[2025-04-11 09:12:27] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:12:27] send_request_headers.complete
[2025-04-11 09:12:27] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:12:27] send_request_body.complete
[2025-04-11 09:12:27] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:12:28] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:12:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'304'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_e7f5b73d4b1f5e07810a9aec0425a113'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=1tmWJBBStukzAH2OaS.aW_d91qc572rwN1By4m0wUMA-1744333948-1.0.1.1-0dCoDswHiHLW6Q4qm6Br_AVG3UPuAOwe2yIC2ULvgNKkDC1lpU9cCobji5z89_9iiaB.9bLyrDUUcc_bewOmLVR11cIQppXUf1mcwcW.pYU; path=/; expires=Fri, 11-Apr-25 01:42:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e69da4fdeb075c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:12:28] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:12:28] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:12:28] receive_response_body.complete
[2025-04-11 09:12:28] response_closed.started
[2025-04-11 09:12:28] response_closed.complete
[2025-04-11 09:12:28] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:12:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '304', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_e7f5b73d4b1f5e07810a9aec0425a113', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=1tmWJBBStukzAH2OaS.aW_d91qc572rwN1By4m0wUMA-1744333948-1.0.1.1-0dCoDswHiHLW6Q4qm6Br_AVG3UPuAOwe2yIC2ULvgNKkDC1lpU9cCobji5z89_9iiaB.9bLyrDUUcc_bewOmLVR11cIQppXUf1mcwcW.pYU; path=/; expires=Fri, 11-Apr-25 01:42:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e69da4fdeb075c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:12:28] request_id: req_e7f5b73d4b1f5e07810a9aec0425a113
[2025-04-11 09:12:28] [SIM] News Sentiment: BUY
[2025-04-11 09:12:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:12:28] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:12:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:12:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:12:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:12:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:12:29] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:12:29] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "719bfa9c6847432db415"
}
[2025-04-11 09:12:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:12:29] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:12:29] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:17:29] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:17:29] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:17:29] close.started
[2025-04-11 09:17:29] close.complete
[2025-04-11 09:17:29] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:17:29] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f6910>
[2025-04-11 09:17:29] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:17:29] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f67d0>
[2025-04-11 09:17:29] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:17:29] send_request_headers.complete
[2025-04-11 09:17:29] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:17:29] send_request_body.complete
[2025-04-11 09:17:29] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:17:29] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:17:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'251'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_6654e72229f08ed8b112b28812055b61'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6a5035f284a21-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:17:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:17:29] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:17:29] receive_response_body.complete
[2025-04-11 09:17:29] response_closed.started
[2025-04-11 09:17:29] response_closed.complete
[2025-04-11 09:17:29] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:17:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '251', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_6654e72229f08ed8b112b28812055b61', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6a5035f284a21-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:17:29] request_id: req_6654e72229f08ed8b112b28812055b61
[2025-04-11 09:17:29] [SIM] News Sentiment: BUY
[2025-04-11 09:17:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:17:30] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:17:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:17:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:17:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:17:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:17:30] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:17:30] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a6a0c7c40f71452286af"
}
[2025-04-11 09:17:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:17:31] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:17:31] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:22:31] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:22:31] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:22:31] close.started
[2025-04-11 09:22:31] close.complete
[2025-04-11 09:22:31] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:22:31] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f8ad0>
[2025-04-11 09:22:31] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:22:31] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f97d0>
[2025-04-11 09:22:31] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:22:31] send_request_headers.complete
[2025-04-11 09:22:31] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:22:31] send_request_body.complete
[2025-04-11 09:22:31] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:22:31] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:22:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'286'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_19f3f49e45e4447257f84baab73a5cfe'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6ac616d31828f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:22:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:22:31] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:22:31] receive_response_body.complete
[2025-04-11 09:22:31] response_closed.started
[2025-04-11 09:22:31] response_closed.complete
[2025-04-11 09:22:31] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:22:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '286', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_19f3f49e45e4447257f84baab73a5cfe', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6ac616d31828f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:22:31] request_id: req_19f3f49e45e4447257f84baab73a5cfe
[2025-04-11 09:22:31] [SIM] News Sentiment: BUY
[2025-04-11 09:22:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:22:32] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:22:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:22:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 09:22:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:22:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 09:22:32] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:22:32] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1ab82f04790741ebb48b"
}
[2025-04-11 09:22:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:22:33] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:22:33] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:27:33] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:27:33] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:27:33] close.started
[2025-04-11 09:27:33] close.complete
[2025-04-11 09:27:33] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:27:33] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4ecbd0>
[2025-04-11 09:27:33] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:27:33] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f6890>
[2025-04-11 09:27:33] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:27:33] send_request_headers.complete
[2025-04-11 09:27:33] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:27:33] send_request_body.complete
[2025-04-11 09:27:33] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:27:33] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:27:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'265'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_875db4f37aeb1869f125ccdcda777a9a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Hw78D3WvB8sd0r8ASln4QmnMAlxu08UK_iQzGZiurzs-1744334853-1.0.1.1-Fwbb2BJ1f.vUpBuqyJPOH6MZKAKL_ALI3i7T8xTppQZpZ51_K0hp1O68Cu0KSfAr2kNpVjwrLnEXmyjZNFD3QHasYHardEJbUVo2ko.29TE; path=/; expires=Fri, 11-Apr-25 01:57:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6b3c04fbd4a6d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:27:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:27:33] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:27:33] receive_response_body.complete
[2025-04-11 09:27:33] response_closed.started
[2025-04-11 09:27:33] response_closed.complete
[2025-04-11 09:27:33] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:27:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '265', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_875db4f37aeb1869f125ccdcda777a9a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=Hw78D3WvB8sd0r8ASln4QmnMAlxu08UK_iQzGZiurzs-1744334853-1.0.1.1-Fwbb2BJ1f.vUpBuqyJPOH6MZKAKL_ALI3i7T8xTppQZpZ51_K0hp1O68Cu0KSfAr2kNpVjwrLnEXmyjZNFD3QHasYHardEJbUVo2ko.29TE; path=/; expires=Fri, 11-Apr-25 01:57:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6b3c04fbd4a6d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:27:33] request_id: req_875db4f37aeb1869f125ccdcda777a9a
[2025-04-11 09:27:33] [SIM] News Sentiment: BUY
[2025-04-11 09:27:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:27:34] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:27:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:27:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:27:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:27:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:27:34] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:27:34] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "8321fc20d56d4fcc82bd"
}
[2025-04-11 09:27:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:27:34] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:27:34] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:32:34] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:32:34] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:32:34] close.started
[2025-04-11 09:32:34] close.complete
[2025-04-11 09:32:34] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:32:34] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a500990>
[2025-04-11 09:32:34] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:32:34] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a500190>
[2025-04-11 09:32:34] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:32:34] send_request_headers.complete
[2025-04-11 09:32:34] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:32:34] send_request_body.complete
[2025-04-11 09:32:34] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:32:35] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:32:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'402'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_57f0d0bf295522e7b6d3fe23ec483b62'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6bb1e9da44aa8-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:32:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:32:35] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:32:35] receive_response_body.complete
[2025-04-11 09:32:35] response_closed.started
[2025-04-11 09:32:35] response_closed.complete
[2025-04-11 09:32:35] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:32:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '402', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_57f0d0bf295522e7b6d3fe23ec483b62', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6bb1e9da44aa8-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:32:35] request_id: req_57f0d0bf295522e7b6d3fe23ec483b62
[2025-04-11 09:32:35] [SIM] News Sentiment: BUY
[2025-04-11 09:32:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:32:35] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:32:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:32:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:32:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:32:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:32:36] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:32:36] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "c6a95e8c6aec41cab29b"
}
[2025-04-11 09:32:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:32:36] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:32:36] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:37:36] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:37:36] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:37:36] close.started
[2025-04-11 09:37:36] close.complete
[2025-04-11 09:37:36] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:37:36] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a5020d0>
[2025-04-11 09:37:36] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:37:36] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a502e90>
[2025-04-11 09:37:36] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:37:36] send_request_headers.complete
[2025-04-11 09:37:36] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:37:36] send_request_body.complete
[2025-04-11 09:37:36] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:37:37] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:37:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'338'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_11bba86d07347d5570de61cf827ec51c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6c27d7d793138-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:37:37] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:37:37] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:37:37] receive_response_body.complete
[2025-04-11 09:37:37] response_closed.started
[2025-04-11 09:37:37] response_closed.complete
[2025-04-11 09:37:37] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:37:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '338', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_11bba86d07347d5570de61cf827ec51c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6c27d7d793138-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:37:37] request_id: req_11bba86d07347d5570de61cf827ec51c
[2025-04-11 09:37:37] [SIM] News Sentiment: BUY
[2025-04-11 09:37:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:37:37] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:37:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:37:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:37:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:37:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:37:38] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:37:38] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "0554b58e8bd344c1b118"
}
[2025-04-11 09:37:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:37:38] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:37:38] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:42:38] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:42:38] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:42:38] close.started
[2025-04-11 09:42:38] close.complete
[2025-04-11 09:42:38] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:42:38] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a502190>
[2025-04-11 09:42:38] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:42:38] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a501450>
[2025-04-11 09:42:38] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:42:38] send_request_headers.complete
[2025-04-11 09:42:38] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:42:38] send_request_body.complete
[2025-04-11 09:42:38] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:42:39] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:42:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'485'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_cf2c8e512affaeaadd9aa3a9e9c57349'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=M1ggbpKJTQQu_.AKwlE.uBx33PY7TAVlR6a_psvL5Yw-1744335759-1.0.1.1-YYUBoF3nMY5NJaiQAlkmUFkgrNUf2oBtTicUf8_n2sn8..XHWfHnv8cAm_GSvYHM2_stAz8oy_Kte8F.Qtz9hpytuzyg7L_pcdc6sQQbrZI; path=/; expires=Fri, 11-Apr-25 02:12:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6c9dbbb848098-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:42:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:42:39] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:42:39] receive_response_body.complete
[2025-04-11 09:42:39] response_closed.started
[2025-04-11 09:42:39] response_closed.complete
[2025-04-11 09:42:39] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:42:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '485', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_cf2c8e512affaeaadd9aa3a9e9c57349', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=M1ggbpKJTQQu_.AKwlE.uBx33PY7TAVlR6a_psvL5Yw-1744335759-1.0.1.1-YYUBoF3nMY5NJaiQAlkmUFkgrNUf2oBtTicUf8_n2sn8..XHWfHnv8cAm_GSvYHM2_stAz8oy_Kte8F.Qtz9hpytuzyg7L_pcdc6sQQbrZI; path=/; expires=Fri, 11-Apr-25 02:12:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6c9dbbb848098-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:42:39] request_id: req_cf2c8e512affaeaadd9aa3a9e9c57349
[2025-04-11 09:42:39] [SIM] News Sentiment: BUY
[2025-04-11 09:42:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:42:39] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:42:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:42:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:42:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:42:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:42:40] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:42:40] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ca5f057d2d91412a9f3c"
}
[2025-04-11 09:42:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:42:40] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:42:40] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:47:40] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:47:40] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:47:40] close.started
[2025-04-11 09:47:40] close.complete
[2025-04-11 09:47:40] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:47:40] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a5081d0>
[2025-04-11 09:47:40] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:47:40] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a508d50>
[2025-04-11 09:47:40] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:47:40] send_request_headers.complete
[2025-04-11 09:47:40] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:47:40] send_request_body.complete
[2025-04-11 09:47:40] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:47:41] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:47:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'357'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_6933573031c155dd316cf9b213f0ae7b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6d13b5b490760-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:47:41] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:47:41] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:47:41] receive_response_body.complete
[2025-04-11 09:47:41] response_closed.started
[2025-04-11 09:47:41] response_closed.complete
[2025-04-11 09:47:41] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:47:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '357', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_6933573031c155dd316cf9b213f0ae7b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6d13b5b490760-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:47:41] request_id: req_6933573031c155dd316cf9b213f0ae7b
[2025-04-11 09:47:41] [SIM] News Sentiment: BUY
[2025-04-11 09:47:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:47:41] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:47:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:47:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:47:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:47:42] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:47:42] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:47:42] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6c2a251531b24bb2a874"
}
[2025-04-11 09:47:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:47:42] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:47:42] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:52:42] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:52:42] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:52:42] close.started
[2025-04-11 09:52:42] close.complete
[2025-04-11 09:52:42] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:52:42] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a5109d0>
[2025-04-11 09:52:42] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:52:42] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a5105d0>
[2025-04-11 09:52:42] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:52:42] send_request_headers.complete
[2025-04-11 09:52:42] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:52:42] send_request_body.complete
[2025-04-11 09:52:42] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:52:43] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:52:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'454'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_ea053292ef4973b71991663dad74038c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6d89acbad4a9d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:52:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:52:43] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:52:43] receive_response_body.complete
[2025-04-11 09:52:43] response_closed.started
[2025-04-11 09:52:43] response_closed.complete
[2025-04-11 09:52:43] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:52:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '454', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_ea053292ef4973b71991663dad74038c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6d89acbad4a9d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:52:43] request_id: req_ea053292ef4973b71991663dad74038c
[2025-04-11 09:52:43] [SIM] News Sentiment: BUY
[2025-04-11 09:52:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:52:43] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:52:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:52:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 09:52:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:52:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 09:52:44] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:52:44] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "29d054f80ff340d09898"
}
[2025-04-11 09:52:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:52:44] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:52:44] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 09:57:44] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 09:57:44] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 09:57:44] close.started
[2025-04-11 09:57:44] close.complete
[2025-04-11 09:57:44] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 09:57:44] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a513090>
[2025-04-11 09:57:44] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 09:57:44] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a512ad0>
[2025-04-11 09:57:44] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 09:57:44] send_request_headers.complete
[2025-04-11 09:57:44] send_request_body.started request=<Request [b'POST']>
[2025-04-11 09:57:44] send_request_body.complete
[2025-04-11 09:57:44] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 09:57:45] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 01:57:45 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'529'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_671d710766fa50fbe6a5dbdda35be9bb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=VXBnjatnvhPKi.KUjsSSa4S1WYA2SvVy3n_oTlfmrKw-1744336665-1.0.1.1-s84G89o5OVnFUTs7HlYTC7EJNtElre2K4JXvihFWje_6PgonkFQ7B.EiENbWRO752nqVlw3vrh_oTDyPWUw6BeIWCOBzSz2ZttvDhml4.C4; path=/; expires=Fri, 11-Apr-25 02:27:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6dffacd5a4aa2-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 09:57:45] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 09:57:45] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 09:57:45] receive_response_body.complete
[2025-04-11 09:57:45] response_closed.started
[2025-04-11 09:57:45] response_closed.complete
[2025-04-11 09:57:45] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 01:57:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '529', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_671d710766fa50fbe6a5dbdda35be9bb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=VXBnjatnvhPKi.KUjsSSa4S1WYA2SvVy3n_oTlfmrKw-1744336665-1.0.1.1-s84G89o5OVnFUTs7HlYTC7EJNtElre2K4JXvihFWje_6PgonkFQ7B.EiENbWRO752nqVlw3vrh_oTDyPWUw6BeIWCOBzSz2ZttvDhml4.C4; path=/; expires=Fri, 11-Apr-25 02:27:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6dffacd5a4aa2-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 09:57:45] request_id: req_671d710766fa50fbe6a5dbdda35be9bb
[2025-04-11 09:57:45] [SIM] News Sentiment: BUY
[2025-04-11 09:57:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:57:45] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 09:57:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:57:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:57:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:57:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 09:57:46] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 09:57:46] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a823b4d679a749de89c3"
}
[2025-04-11 09:57:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 09:57:46] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 09:57:46] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:02:46] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:02:46] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:02:46] close.started
[2025-04-11 10:02:46] close.complete
[2025-04-11 10:02:46] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:02:46] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a5017d0>
[2025-04-11 10:02:46] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:02:46] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51d150>
[2025-04-11 10:02:46] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:02:46] send_request_headers.complete
[2025-04-11 10:02:46] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:02:46] send_request_body.complete
[2025-04-11 10:02:46] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:02:47] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:02:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'452'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_54588e804fc0722748c0da72a151ae5b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6e75ace7f4a5d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:02:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:02:47] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:02:47] receive_response_body.complete
[2025-04-11 10:02:47] response_closed.started
[2025-04-11 10:02:47] response_closed.complete
[2025-04-11 10:02:47] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:02:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '452', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_54588e804fc0722748c0da72a151ae5b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6e75ace7f4a5d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:02:47] request_id: req_54588e804fc0722748c0da72a151ae5b
[2025-04-11 10:02:47] [SIM] News Sentiment: BUY
[2025-04-11 10:02:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:02:47] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:02:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:02:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:02:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:02:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:02:48] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:02:48] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "851065851bd6485b82bf"
}
[2025-04-11 10:02:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:02:48] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:02:48] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:07:48] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:07:48] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:07:48] close.started
[2025-04-11 10:07:48] close.complete
[2025-04-11 10:07:48] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:07:48] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a511710>
[2025-04-11 10:07:48] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:07:48] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a513e10>
[2025-04-11 10:07:48] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:07:48] send_request_headers.complete
[2025-04-11 10:07:48] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:07:48] send_request_body.complete
[2025-04-11 10:07:48] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:07:49] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:07:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'461'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_58bb4cf337989fda7aa2ee8dd6771d45'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6eeb9ff1a4a9e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:07:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:07:49] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:07:49] receive_response_body.complete
[2025-04-11 10:07:49] response_closed.started
[2025-04-11 10:07:49] response_closed.complete
[2025-04-11 10:07:49] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:07:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '461', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_58bb4cf337989fda7aa2ee8dd6771d45', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6eeb9ff1a4a9e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:07:49] request_id: req_58bb4cf337989fda7aa2ee8dd6771d45
[2025-04-11 10:07:49] [SIM] News Sentiment: BUY
[2025-04-11 10:07:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:07:49] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:07:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:07:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:07:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:07:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:07:50] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:07:50] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "11e0ab8d93d74091ae1b"
}
[2025-04-11 10:07:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:07:50] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:07:50] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:12:50] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:12:50] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:12:50] close.started
[2025-04-11 10:12:50] close.complete
[2025-04-11 10:12:50] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:12:50] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a513b10>
[2025-04-11 10:12:50] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:12:50] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a510f10>
[2025-04-11 10:12:50] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:12:50] send_request_headers.complete
[2025-04-11 10:12:50] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:12:50] send_request_body.complete
[2025-04-11 10:12:50] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:12:51] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:12:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'567'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_606e0ed40a7f41a1f9091e4bb993497b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=_hHuv9VKftq9bq5kZapbARFwwum_bp.AV4amzZ1._MA-1744337571-1.0.1.1-kbyBbNaeD2GsRhRJkJdInKPhDqZl7Q6.MgJQqdwA6T_qOVe9TPYz5.zlWNB5DWkNwmu4EV1J.dYncmAdGyWfUwZzNTcmR340CnMTHqZt1j4; path=/; expires=Fri, 11-Apr-25 02:42:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6f618ea9a8f1f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:12:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:12:51] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:12:51] receive_response_body.complete
[2025-04-11 10:12:51] response_closed.started
[2025-04-11 10:12:51] response_closed.complete
[2025-04-11 10:12:51] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:12:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '567', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_606e0ed40a7f41a1f9091e4bb993497b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=_hHuv9VKftq9bq5kZapbARFwwum_bp.AV4amzZ1._MA-1744337571-1.0.1.1-kbyBbNaeD2GsRhRJkJdInKPhDqZl7Q6.MgJQqdwA6T_qOVe9TPYz5.zlWNB5DWkNwmu4EV1J.dYncmAdGyWfUwZzNTcmR340CnMTHqZt1j4; path=/; expires=Fri, 11-Apr-25 02:42:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6f618ea9a8f1f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:12:51] request_id: req_606e0ed40a7f41a1f9091e4bb993497b
[2025-04-11 10:12:51] [SIM] News Sentiment: BUY
[2025-04-11 10:12:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:12:51] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:12:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:12:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:12:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:12:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:12:52] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:12:52] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ad69692e653440468c99"
}
[2025-04-11 10:12:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:12:52] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:12:52] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:17:52] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:17:52] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:17:52] close.started
[2025-04-11 10:17:52] close.complete
[2025-04-11 10:17:52] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:17:52] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f4e50>
[2025-04-11 10:17:52] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:17:52] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f6f50>
[2025-04-11 10:17:52] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:17:52] send_request_headers.complete
[2025-04-11 10:17:52] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:17:52] send_request_body.complete
[2025-04-11 10:17:52] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:17:53] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:17:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'473'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_779d42e5a633ccffe790cd46f17a3f01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e6fd7908924a2d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:17:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:17:53] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:17:53] receive_response_body.complete
[2025-04-11 10:17:53] response_closed.started
[2025-04-11 10:17:53] response_closed.complete
[2025-04-11 10:17:53] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:17:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '473', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_779d42e5a633ccffe790cd46f17a3f01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e6fd7908924a2d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:17:53] request_id: req_779d42e5a633ccffe790cd46f17a3f01
[2025-04-11 10:17:53] [SIM] News Sentiment: BUY
[2025-04-11 10:17:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:17:53] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:17:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:17:54] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:17:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:17:54] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:17:54] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:17:54] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "b08e7f15d84e499cb7b1"
}
[2025-04-11 10:17:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:17:54] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:17:54] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:22:54] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:22:54] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:22:54] close.started
[2025-04-11 10:22:54] close.complete
[2025-04-11 10:22:54] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:22:54] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51ddd0>
[2025-04-11 10:22:54] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:22:54] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f5790>
[2025-04-11 10:22:54] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:22:54] send_request_headers.complete
[2025-04-11 10:22:54] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:22:54] send_request_body.complete
[2025-04-11 10:22:54] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:22:55] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:22:55 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'331'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_d615139cc46f175b2246e51ae892a99f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e704d87c4149f7-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:22:55] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:22:55] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:22:55] receive_response_body.complete
[2025-04-11 10:22:55] response_closed.started
[2025-04-11 10:22:55] response_closed.complete
[2025-04-11 10:22:55] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:22:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '331', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_d615139cc46f175b2246e51ae892a99f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e704d87c4149f7-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:22:55] request_id: req_d615139cc46f175b2246e51ae892a99f
[2025-04-11 10:22:55] [SIM] News Sentiment: BUY
[2025-04-11 10:22:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:22:55] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:22:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:22:56] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:22:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:22:56] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:22:56] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:22:56] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "144d7456480d43cd9ecc"
}
[2025-04-11 10:22:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:22:56] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:22:56] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:27:56] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:27:56] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:27:56] close.started
[2025-04-11 10:27:56] close.complete
[2025-04-11 10:27:56] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:27:56] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51ced0>
[2025-04-11 10:27:56] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:27:56] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51f150>
[2025-04-11 10:27:56] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:27:56] send_request_headers.complete
[2025-04-11 10:27:56] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:27:56] send_request_body.complete
[2025-04-11 10:27:56] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:27:57] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:27:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'345'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_fcef0db1423f039487f81431a60e2139'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=sFFS.0S8ZXS23i9uRMJvZW3DeFv.PfuoLuoZ3f9yTuY-1744338477-1.0.1.1-jUo.XYhf83IUpHX2XxG8q9Ms_MGMaNlkGRHbeXFF37rO6QPEQPR8N.HLAn36gs_GUl81Y7MVrj7kYA7Sia3z0r23zQJFF8eDR.SVGJ.a_EQ; path=/; expires=Fri, 11-Apr-25 02:57:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e70c37f92e8424-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:27:57] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:27:57] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:27:57] receive_response_body.complete
[2025-04-11 10:27:57] response_closed.started
[2025-04-11 10:27:57] response_closed.complete
[2025-04-11 10:27:57] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:27:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '345', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_fcef0db1423f039487f81431a60e2139', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=sFFS.0S8ZXS23i9uRMJvZW3DeFv.PfuoLuoZ3f9yTuY-1744338477-1.0.1.1-jUo.XYhf83IUpHX2XxG8q9Ms_MGMaNlkGRHbeXFF37rO6QPEQPR8N.HLAn36gs_GUl81Y7MVrj7kYA7Sia3z0r23zQJFF8eDR.SVGJ.a_EQ; path=/; expires=Fri, 11-Apr-25 02:57:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e70c37f92e8424-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:27:57] request_id: req_fcef0db1423f039487f81431a60e2139
[2025-04-11 10:27:57] [SIM] News Sentiment: BUY
[2025-04-11 10:27:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:27:57] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:27:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:27:58] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:27:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:27:58] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:27:58] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:27:58] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9ea2dbdfb3324a20be16"
}
[2025-04-11 10:27:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:27:58] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:27:58] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:32:58] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:32:58] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:32:58] close.started
[2025-04-11 10:32:58] close.complete
[2025-04-11 10:32:58] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:32:58] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d9b10>
[2025-04-11 10:32:58] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:32:58] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d8150>
[2025-04-11 10:32:58] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:32:58] send_request_headers.complete
[2025-04-11 10:32:58] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:32:58] send_request_body.complete
[2025-04-11 10:32:58] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:32:59] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:32:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'481'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_d615b0afb667627413a7094b55a9fc89'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e71397b89b840f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:32:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:32:59] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:32:59] receive_response_body.complete
[2025-04-11 10:32:59] response_closed.started
[2025-04-11 10:32:59] response_closed.complete
[2025-04-11 10:32:59] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:32:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '481', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_d615b0afb667627413a7094b55a9fc89', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e71397b89b840f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:32:59] request_id: req_d615b0afb667627413a7094b55a9fc89
[2025-04-11 10:32:59] [SIM] News Sentiment: BUY
[2025-04-11 10:32:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:32:59] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:32:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:33:00] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:33:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:33:00] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:33:00] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:33:00] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "72b97fb1d48f43eb88ce"
}
[2025-04-11 10:33:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:33:00] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:33:00] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:38:00] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:38:00] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:38:00] close.started
[2025-04-11 10:38:00] close.complete
[2025-04-11 10:38:00] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:38:00] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51d7d0>
[2025-04-11 10:38:00] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:38:00] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51e490>
[2025-04-11 10:38:00] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:38:00] send_request_headers.complete
[2025-04-11 10:38:00] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:38:00] send_request_body.complete
[2025-04-11 10:38:00] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:38:01] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:38:01 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'310'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_f47e2befeb224e022436fc9797bb2f05'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e71af7f8754a51-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:38:01] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:38:01] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:38:01] receive_response_body.complete
[2025-04-11 10:38:01] response_closed.started
[2025-04-11 10:38:01] response_closed.complete
[2025-04-11 10:38:01] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:38:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '310', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_f47e2befeb224e022436fc9797bb2f05', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e71af7f8754a51-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:38:01] request_id: req_f47e2befeb224e022436fc9797bb2f05
[2025-04-11 10:38:01] [SIM] News Sentiment: BUY
[2025-04-11 10:38:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:38:01] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:38:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:38:02] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 10:38:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:38:02] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:38:02] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:38:02] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "38a87f7722f04e20b6cc"
}
[2025-04-11 10:38:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:38:02] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:38:02] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:43:02] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:43:02] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:43:02] close.started
[2025-04-11 10:43:02] close.complete
[2025-04-11 10:43:02] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:43:02] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a500e10>
[2025-04-11 10:43:02] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:43:02] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a502190>
[2025-04-11 10:43:02] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:43:02] send_request_headers.complete
[2025-04-11 10:43:02] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:43:02] send_request_body.complete
[2025-04-11 10:43:02] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:43:03] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:43:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'668'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_554516d211da4bc3d36243a1ba81c012'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=nbTsFJ6hfwUTjL5QPPAdbxYK2uiYgYh9SuTJpHrf_3Y-1744339383-1.0.1.1-NpVjfo9I1bdrRhL4lMtd7FrRUcc3uw793CLE_cYIUw19U_KkuTESDzogU82xK8Yr6ugp0vfqoaz2naLLRz21ztKaiR2DLhkXClJsoRXn9IA; path=/; expires=Fri, 11-Apr-25 03:13:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e72255dfa58273-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:43:03] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:43:03] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:43:03] receive_response_body.complete
[2025-04-11 10:43:03] response_closed.started
[2025-04-11 10:43:03] response_closed.complete
[2025-04-11 10:43:03] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:43:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '668', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_554516d211da4bc3d36243a1ba81c012', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=nbTsFJ6hfwUTjL5QPPAdbxYK2uiYgYh9SuTJpHrf_3Y-1744339383-1.0.1.1-NpVjfo9I1bdrRhL4lMtd7FrRUcc3uw793CLE_cYIUw19U_KkuTESDzogU82xK8Yr6ugp0vfqoaz2naLLRz21ztKaiR2DLhkXClJsoRXn9IA; path=/; expires=Fri, 11-Apr-25 03:13:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e72255dfa58273-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:43:03] request_id: req_554516d211da4bc3d36243a1ba81c012
[2025-04-11 10:43:03] [SIM] News Sentiment: BUY
[2025-04-11 10:43:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:43:03] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:43:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:43:04] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:43:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:43:04] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:43:04] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:43:04] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5172aad7dc0c4bc1a09e"
}
[2025-04-11 10:43:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:43:04] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:43:04] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:48:04] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:48:04] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:48:04] close.started
[2025-04-11 10:48:04] close.complete
[2025-04-11 10:48:04] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:48:04] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50ae50>
[2025-04-11 10:48:04] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:48:04] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a5098d0>
[2025-04-11 10:48:04] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:48:04] send_request_headers.complete
[2025-04-11 10:48:04] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:48:04] send_request_body.complete
[2025-04-11 10:48:04] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:48:05] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:48:05 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'425'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_6da314d1d6dc562a42eafd94122e7815'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e729b5ce523138-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:48:05] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:48:05] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:48:05] receive_response_body.complete
[2025-04-11 10:48:05] response_closed.started
[2025-04-11 10:48:05] response_closed.complete
[2025-04-11 10:48:05] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:48:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '425', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_6da314d1d6dc562a42eafd94122e7815', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e729b5ce523138-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:48:05] request_id: req_6da314d1d6dc562a42eafd94122e7815
[2025-04-11 10:48:05] [SIM] News Sentiment: BUY
[2025-04-11 10:48:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:48:05] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:48:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:48:06] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:48:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:48:06] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:48:06] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:48:06] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ab70fc9acd0f4b78aaac"
}
[2025-04-11 10:48:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:48:06] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:48:06] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:53:06] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:53:06] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:53:06] close.started
[2025-04-11 10:53:06] close.complete
[2025-04-11 10:53:06] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:53:06] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a513b10>
[2025-04-11 10:53:06] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:53:06] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a510910>
[2025-04-11 10:53:06] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:53:06] send_request_headers.complete
[2025-04-11 10:53:06] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:53:06] send_request_body.complete
[2025-04-11 10:53:06] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:53:07] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:53:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'811'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_66f833ee8ca73d1987604a9a8b1fc7f2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e73114ed3949fd-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:53:07] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:53:07] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:53:07] receive_response_body.complete
[2025-04-11 10:53:07] response_closed.started
[2025-04-11 10:53:07] response_closed.complete
[2025-04-11 10:53:07] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:53:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '811', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_66f833ee8ca73d1987604a9a8b1fc7f2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e73114ed3949fd-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:53:07] request_id: req_66f833ee8ca73d1987604a9a8b1fc7f2
[2025-04-11 10:53:07] [SIM] News Sentiment: BUY
[2025-04-11 10:53:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:53:08] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:53:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:53:08] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:53:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:53:08] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:53:08] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:53:08] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "174f4d04d44c494e9090"
}
[2025-04-11 10:53:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:53:08] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:53:08] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 10:58:08] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 10:58:08] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 10:58:08] close.started
[2025-04-11 10:58:08] close.complete
[2025-04-11 10:58:08] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 10:58:08] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a512410>
[2025-04-11 10:58:08] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 10:58:08] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a511990>
[2025-04-11 10:58:08] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 10:58:08] send_request_headers.complete
[2025-04-11 10:58:08] send_request_body.started request=<Request [b'POST']>
[2025-04-11 10:58:08] send_request_body.complete
[2025-04-11 10:58:08] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 10:58:09] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 02:58:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'436'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_bc4f8b79f312a9ddb15c682ad44aa79d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=HqsAozgm9UKd7sJ79gvPRblLH60QrfL0spnp8DPVMEA-1744340289-1.0.1.1-yPo1EmdyQ7Jh2ZqVuJkiAFGienUpLmb_xuAyUc6vJVwLZ9RGEBh9CZL4ckvI9NaVxe8aBhy7XimL6we0hbWiyAt.3MgFbu2.MdKoMoqTYzY; path=/; expires=Fri, 11-Apr-25 03:28:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e738764834842a-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 10:58:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 10:58:09] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 10:58:09] receive_response_body.complete
[2025-04-11 10:58:09] response_closed.started
[2025-04-11 10:58:09] response_closed.complete
[2025-04-11 10:58:09] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 02:58:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '436', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_bc4f8b79f312a9ddb15c682ad44aa79d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=HqsAozgm9UKd7sJ79gvPRblLH60QrfL0spnp8DPVMEA-1744340289-1.0.1.1-yPo1EmdyQ7Jh2ZqVuJkiAFGienUpLmb_xuAyUc6vJVwLZ9RGEBh9CZL4ckvI9NaVxe8aBhy7XimL6we0hbWiyAt.3MgFbu2.MdKoMoqTYzY; path=/; expires=Fri, 11-Apr-25 03:28:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e738764834842a-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 10:58:09] request_id: req_bc4f8b79f312a9ddb15c682ad44aa79d
[2025-04-11 10:58:09] [SIM] News Sentiment: BUY
[2025-04-11 10:58:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:58:09] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 10:58:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:58:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:58:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:58:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 10:58:10] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 10:58:10] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "57cfdfe62876490783b5"
}
[2025-04-11 10:58:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 10:58:10] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 10:58:10] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:03:10] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:03:10] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:03:10] close.started
[2025-04-11 11:03:10] close.complete
[2025-04-11 11:03:10] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:03:10] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4da390>
[2025-04-11 11:03:10] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:03:10] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4da9d0>
[2025-04-11 11:03:10] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:03:10] send_request_headers.complete
[2025-04-11 11:03:10] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:03:10] send_request_body.complete
[2025-04-11 11:03:10] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:03:11] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:03:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'415'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_65661d3ce6decc7e8661287a5b4531b3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e73fd56c348265-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:03:11] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:03:11] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:03:11] receive_response_body.complete
[2025-04-11 11:03:11] response_closed.started
[2025-04-11 11:03:11] response_closed.complete
[2025-04-11 11:03:11] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:03:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '415', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_65661d3ce6decc7e8661287a5b4531b3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e73fd56c348265-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:03:11] request_id: req_65661d3ce6decc7e8661287a5b4531b3
[2025-04-11 11:03:11] [SIM] News Sentiment: BUY
[2025-04-11 11:03:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:03:11] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:03:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:03:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:03:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:03:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:03:12] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:03:12] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "249ceff15f7b48819cb4"
}
[2025-04-11 11:03:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:03:12] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:03:12] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:08:12] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:08:12] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:08:12] close.started
[2025-04-11 11:08:12] close.complete
[2025-04-11 11:08:12] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:08:12] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a513e90>
[2025-04-11 11:08:12] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:08:12] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a513950>
[2025-04-11 11:08:12] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:08:12] send_request_headers.complete
[2025-04-11 11:08:12] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:08:12] send_request_body.complete
[2025-04-11 11:08:12] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:08:13] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:08:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'309'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_81ed085d755946fe9fa9c61298a4886e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e74734cc0e6a9e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:08:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:08:13] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:08:13] receive_response_body.complete
[2025-04-11 11:08:13] response_closed.started
[2025-04-11 11:08:13] response_closed.complete
[2025-04-11 11:08:13] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:08:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '309', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_81ed085d755946fe9fa9c61298a4886e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e74734cc0e6a9e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:08:13] request_id: req_81ed085d755946fe9fa9c61298a4886e
[2025-04-11 11:08:13] [SIM] News Sentiment: BUY
[2025-04-11 11:08:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:08:13] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:08:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:08:14] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:08:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:08:14] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:08:14] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:08:14] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "c960a1cab9804a1b8a74"
}
[2025-04-11 11:08:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:08:14] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:08:14] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:13:14] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:13:14] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:13:14] close.started
[2025-04-11 11:13:14] close.complete
[2025-04-11 11:13:14] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:13:14] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a510dd0>
[2025-04-11 11:13:14] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:13:14] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a5098d0>
[2025-04-11 11:13:14] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:13:14] send_request_headers.complete
[2025-04-11 11:13:14] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:13:14] send_request_body.complete
[2025-04-11 11:13:14] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:13:15] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:13:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'462'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_ef32614df9ce4cf521d4b7838b0248e5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=BJLfzXMFDOHwUgOplHuaYdwPlJpOApmXbfE7Fy7Bxmk-1744341195-1.0.1.1-Jicr9nEcb5ZdBqKnl0Y8GFbVIVhv85FYBPMprG7BgieFcRaRFgUbvUzfHwKaOBDI5HqywmdoGm0Gf3leNNdheYnb5RoMc0oCLHOEV1Wzw3E; path=/; expires=Fri, 11-Apr-25 03:43:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e74e939cb48285-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:13:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:13:15] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:13:15] receive_response_body.complete
[2025-04-11 11:13:15] response_closed.started
[2025-04-11 11:13:15] response_closed.complete
[2025-04-11 11:13:15] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:13:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '462', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_ef32614df9ce4cf521d4b7838b0248e5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=BJLfzXMFDOHwUgOplHuaYdwPlJpOApmXbfE7Fy7Bxmk-1744341195-1.0.1.1-Jicr9nEcb5ZdBqKnl0Y8GFbVIVhv85FYBPMprG7BgieFcRaRFgUbvUzfHwKaOBDI5HqywmdoGm0Gf3leNNdheYnb5RoMc0oCLHOEV1Wzw3E; path=/; expires=Fri, 11-Apr-25 03:43:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e74e939cb48285-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:13:15] request_id: req_ef32614df9ce4cf521d4b7838b0248e5
[2025-04-11 11:13:15] [SIM] News Sentiment: BUY
[2025-04-11 11:13:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:13:15] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:13:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:13:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:13:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:13:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:13:16] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:13:16] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "659aeb3d26d04c7682d5"
}
[2025-04-11 11:13:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:13:16] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:13:16] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:18:16] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:18:16] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:18:16] close.started
[2025-04-11 11:18:16] close.complete
[2025-04-11 11:18:16] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:18:16] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a5035d0>
[2025-04-11 11:18:16] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:18:16] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a501e50>
[2025-04-11 11:18:16] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:18:16] send_request_headers.complete
[2025-04-11 11:18:16] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:18:16] send_request_body.complete
[2025-04-11 11:18:16] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:18:17] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:18:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'341'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_e64b05160d9e807ca0d5567202163c9b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e755f3be98a3a5-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:18:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:18:17] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:18:17] receive_response_body.complete
[2025-04-11 11:18:17] response_closed.started
[2025-04-11 11:18:17] response_closed.complete
[2025-04-11 11:18:17] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:18:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '341', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_e64b05160d9e807ca0d5567202163c9b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e755f3be98a3a5-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:18:17] request_id: req_e64b05160d9e807ca0d5567202163c9b
[2025-04-11 11:18:17] [SIM] News Sentiment: BUY
[2025-04-11 11:18:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:18:17] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:18:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:18:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:18:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:18:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:18:18] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:18:18] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "0e2c6bcdb4ee467bb5cb"
}
[2025-04-11 11:18:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:18:18] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:18:18] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:23:18] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:23:18] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:23:18] close.started
[2025-04-11 11:23:18] close.complete
[2025-04-11 11:23:18] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:23:18] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51c4d0>
[2025-04-11 11:23:18] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:23:18] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51f3d0>
[2025-04-11 11:23:18] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:23:18] send_request_headers.complete
[2025-04-11 11:23:18] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:23:18] send_request_body.complete
[2025-04-11 11:23:18] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:23:19] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:23:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'296'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_b7cd0ccdadff1aa7b9862c283c4f657b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e75d53596d6a81-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:23:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:23:19] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:23:19] receive_response_body.complete
[2025-04-11 11:23:19] response_closed.started
[2025-04-11 11:23:19] response_closed.complete
[2025-04-11 11:23:19] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:23:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '296', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_b7cd0ccdadff1aa7b9862c283c4f657b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e75d53596d6a81-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:23:19] request_id: req_b7cd0ccdadff1aa7b9862c283c4f657b
[2025-04-11 11:23:19] [SIM] News Sentiment: BUY
[2025-04-11 11:23:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:23:19] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:23:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:23:20] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 11:23:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:23:20] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 11:23:20] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:23:20] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "811fd32eece3473899c3"
}
[2025-04-11 11:23:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:23:20] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:23:20] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:28:20] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:28:20] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:28:20] close.started
[2025-04-11 11:28:20] close.complete
[2025-04-11 11:28:20] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:28:20] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4da990>
[2025-04-11 11:28:20] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:28:20] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4da790>
[2025-04-11 11:28:20] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:28:20] send_request_headers.complete
[2025-04-11 11:28:20] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:28:20] send_request_body.complete
[2025-04-11 11:28:20] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:28:21] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:28:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'321'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_021ccaf4cf2e55059892f9da22b60069'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Hhp.nZiVsmJqhPDQKVKBzlfmnPCKah1ZFGxan1br888-1744342101-1.0.1.1-2fIFezW0dBx6Y4SdpHQ9KkJo_06EEjeElSr3WfZ76GNZYpQLenvz4lFdZsFT1Z_SDAbiufNwxEGwqP7gQkfEhIq4i4zByaPBGWSVJtoNe.U; path=/; expires=Fri, 11-Apr-25 03:58:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e764b26943827c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:28:21] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:28:21] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:28:21] receive_response_body.complete
[2025-04-11 11:28:21] response_closed.started
[2025-04-11 11:28:21] response_closed.complete
[2025-04-11 11:28:21] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:28:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '321', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_021ccaf4cf2e55059892f9da22b60069', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=Hhp.nZiVsmJqhPDQKVKBzlfmnPCKah1ZFGxan1br888-1744342101-1.0.1.1-2fIFezW0dBx6Y4SdpHQ9KkJo_06EEjeElSr3WfZ76GNZYpQLenvz4lFdZsFT1Z_SDAbiufNwxEGwqP7gQkfEhIq4i4zByaPBGWSVJtoNe.U; path=/; expires=Fri, 11-Apr-25 03:58:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e764b26943827c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:28:21] request_id: req_021ccaf4cf2e55059892f9da22b60069
[2025-04-11 11:28:21] [SIM] News Sentiment: BUY
[2025-04-11 11:28:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:28:21] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:28:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:28:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:28:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:28:22] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:28:22] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:28:22] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1637541e59a74288be3d"
}
[2025-04-11 11:28:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:28:22] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:28:22] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:33:22] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:33:22] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:33:22] close.started
[2025-04-11 11:33:22] close.complete
[2025-04-11 11:33:22] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:33:22] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d93d0>
[2025-04-11 11:33:22] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:33:22] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4dbd10>
[2025-04-11 11:33:22] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:33:22] send_request_headers.complete
[2025-04-11 11:33:22] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:33:22] send_request_body.complete
[2025-04-11 11:33:22] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:33:23] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:33:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'311'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_2abea6c0a607916277e78bcc89c972cc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e76c108e668273-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:33:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:33:23] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:33:23] receive_response_body.complete
[2025-04-11 11:33:23] response_closed.started
[2025-04-11 11:33:23] response_closed.complete
[2025-04-11 11:33:23] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:33:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '311', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_2abea6c0a607916277e78bcc89c972cc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e76c108e668273-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:33:23] request_id: req_2abea6c0a607916277e78bcc89c972cc
[2025-04-11 11:33:23] [SIM] News Sentiment: BUY
[2025-04-11 11:33:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:33:23] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:33:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:33:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:33:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:33:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:33:24] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:33:24] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e1ba993d823b46058d36"
}
[2025-04-11 11:33:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:33:24] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:33:24] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:38:24] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:38:24] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:38:24] close.started
[2025-04-11 11:38:24] close.complete
[2025-04-11 11:38:24] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:38:24] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51db90>
[2025-04-11 11:38:24] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:38:24] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51e9d0>
[2025-04-11 11:38:24] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:38:24] send_request_headers.complete
[2025-04-11 11:38:24] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:38:24] send_request_body.complete
[2025-04-11 11:38:24] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:38:25] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:38:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'360'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_01a79c2c362f58b0e3756238c632fe69'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7736f3b2d6a92-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:38:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:38:25] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:38:25] receive_response_body.complete
[2025-04-11 11:38:25] response_closed.started
[2025-04-11 11:38:25] response_closed.complete
[2025-04-11 11:38:25] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:38:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '360', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_01a79c2c362f58b0e3756238c632fe69', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7736f3b2d6a92-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:38:25] request_id: req_01a79c2c362f58b0e3756238c632fe69
[2025-04-11 11:38:25] [SIM] News Sentiment: BUY
[2025-04-11 11:38:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:38:25] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:38:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:38:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 11:38:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:38:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 11:38:26] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:38:26] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bc3cdae80055432d9d8b"
}
[2025-04-11 11:38:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:38:26] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:38:26] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:43:26] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:43:26] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:43:26] close.started
[2025-04-11 11:43:26] close.complete
[2025-04-11 11:43:26] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:43:26] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f6b10>
[2025-04-11 11:43:26] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:43:26] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4f71d0>
[2025-04-11 11:43:26] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:43:26] send_request_headers.complete
[2025-04-11 11:43:26] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:43:26] send_request_body.complete
[2025-04-11 11:43:26] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:43:27] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:43:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'506'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_8a309db6dc8db793c7d9ba7eb5072ef3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=zKx8Fpn3nqPspe6f8ueYp.8R7kO6F22fJNeAYc8CXcc-1744343007-1.0.1.1-J3HXOBYqEphqQiWkzjBySWml69wRMKVJV2ZqBSjsiS5HzhmXTFXfI5yGg2Cc4kaNhfmZ4x6KuWlCsv7jPsa9BXY0Tn0gyaE98.WsqVtgIDs; path=/; expires=Fri, 11-Apr-25 04:13:27 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e77acdee4b4a64-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:43:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:43:27] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:43:27] receive_response_body.complete
[2025-04-11 11:43:27] response_closed.started
[2025-04-11 11:43:27] response_closed.complete
[2025-04-11 11:43:27] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:43:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '506', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_8a309db6dc8db793c7d9ba7eb5072ef3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=zKx8Fpn3nqPspe6f8ueYp.8R7kO6F22fJNeAYc8CXcc-1744343007-1.0.1.1-J3HXOBYqEphqQiWkzjBySWml69wRMKVJV2ZqBSjsiS5HzhmXTFXfI5yGg2Cc4kaNhfmZ4x6KuWlCsv7jPsa9BXY0Tn0gyaE98.WsqVtgIDs; path=/; expires=Fri, 11-Apr-25 04:13:27 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e77acdee4b4a64-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:43:27] request_id: req_8a309db6dc8db793c7d9ba7eb5072ef3
[2025-04-11 11:43:27] [SIM] News Sentiment: BUY
[2025-04-11 11:43:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:43:27] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:43:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:43:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:43:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:43:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:43:28] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:43:28] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5ec3492da58545c89301"
}
[2025-04-11 11:43:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:43:28] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:43:28] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:48:28] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:48:28] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:48:28] close.started
[2025-04-11 11:48:28] close.complete
[2025-04-11 11:48:28] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:48:28] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a503f90>
[2025-04-11 11:48:28] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:48:28] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a501990>
[2025-04-11 11:48:28] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:48:28] send_request_headers.complete
[2025-04-11 11:48:28] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:48:28] send_request_body.complete
[2025-04-11 11:48:28] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:48:29] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:48:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'411'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_86d0e8adec883b84ee8ee802d628c2a0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7822eecc1a39d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:48:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:48:29] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:48:29] receive_response_body.complete
[2025-04-11 11:48:29] response_closed.started
[2025-04-11 11:48:29] response_closed.complete
[2025-04-11 11:48:29] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:48:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '411', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_86d0e8adec883b84ee8ee802d628c2a0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7822eecc1a39d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:48:29] request_id: req_86d0e8adec883b84ee8ee802d628c2a0
[2025-04-11 11:48:29] [SIM] News Sentiment: BUY
[2025-04-11 11:48:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:48:29] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:48:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:48:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:48:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:48:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:48:30] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:48:30] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d1491aef64524e939abd"
}
[2025-04-11 11:48:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:48:30] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:48:30] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:53:30] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:53:30] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:53:30] close.started
[2025-04-11 11:53:30] close.complete
[2025-04-11 11:53:30] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:53:30] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a512ed0>
[2025-04-11 11:53:30] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:53:30] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a510c50>
[2025-04-11 11:53:30] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:53:30] send_request_headers.complete
[2025-04-11 11:53:30] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:53:30] send_request_body.complete
[2025-04-11 11:53:30] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:53:31] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:53:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'449'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_eeff6e46c4ee89695e8d5e758cbb5e4a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7898d7c464a3c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:53:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:53:31] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:53:31] receive_response_body.complete
[2025-04-11 11:53:31] response_closed.started
[2025-04-11 11:53:31] response_closed.complete
[2025-04-11 11:53:31] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:53:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '449', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_eeff6e46c4ee89695e8d5e758cbb5e4a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7898d7c464a3c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:53:31] request_id: req_eeff6e46c4ee89695e8d5e758cbb5e4a
[2025-04-11 11:53:31] [SIM] News Sentiment: BUY
[2025-04-11 11:53:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:53:31] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:53:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:53:31] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:53:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:53:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:53:32] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:53:32] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "cf167500762048368f07"
}
[2025-04-11 11:53:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:53:32] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:53:32] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 11:58:32] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 11:58:32] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 11:58:32] close.started
[2025-04-11 11:58:32] close.complete
[2025-04-11 11:58:32] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 11:58:32] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4dba10>
[2025-04-11 11:58:32] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 11:58:32] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d8790>
[2025-04-11 11:58:32] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 11:58:32] send_request_headers.complete
[2025-04-11 11:58:32] send_request_body.started request=<Request [b'POST']>
[2025-04-11 11:58:32] send_request_body.complete
[2025-04-11 11:58:32] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 11:58:33] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 03:58:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'694'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_bd949aa48a055833895281e8ecd27806'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=vXAwMMNhZnmBfyV6.bii.tGK3M92A0oOq_9CaiyB2Ig-1744343913-1.0.1.1-MMnYzB9fdAze9plkvLw3bx9ynT1WkIBVA6XgQv.k4arWzn0.G5ABUxlIpD.8DKmhnmo1SiRPFguhz2iDCe.9ZjdEMBymU2986_A1De2mLKI; path=/; expires=Fri, 11-Apr-25 04:28:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e790ed9a3f4a2e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 11:58:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 11:58:33] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 11:58:33] receive_response_body.complete
[2025-04-11 11:58:33] response_closed.started
[2025-04-11 11:58:33] response_closed.complete
[2025-04-11 11:58:33] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 03:58:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '694', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_bd949aa48a055833895281e8ecd27806', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=vXAwMMNhZnmBfyV6.bii.tGK3M92A0oOq_9CaiyB2Ig-1744343913-1.0.1.1-MMnYzB9fdAze9plkvLw3bx9ynT1WkIBVA6XgQv.k4arWzn0.G5ABUxlIpD.8DKmhnmo1SiRPFguhz2iDCe.9ZjdEMBymU2986_A1De2mLKI; path=/; expires=Fri, 11-Apr-25 04:28:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e790ed9a3f4a2e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 11:58:33] request_id: req_bd949aa48a055833895281e8ecd27806
[2025-04-11 11:58:33] [SIM] News Sentiment: BUY
[2025-04-11 11:58:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:58:33] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 11:58:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:58:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:58:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:58:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 11:58:34] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 11:58:34] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "88357e126ac647c69fa1"
}
[2025-04-11 11:58:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 11:58:34] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 11:58:34] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:03:34] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:03:34] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:03:34] close.started
[2025-04-11 12:03:34] close.complete
[2025-04-11 12:03:34] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:03:34] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d9f50>
[2025-04-11 12:03:34] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:03:34] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d8dd0>
[2025-04-11 12:03:34] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:03:34] send_request_headers.complete
[2025-04-11 12:03:34] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:03:34] send_request_body.complete
[2025-04-11 12:03:34] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:03:35] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:03:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'361'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_9c7cc7a777ea1a4fa2fda8ee30b6fe8c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7984e0d956a9e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:03:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:03:35] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:03:35] receive_response_body.complete
[2025-04-11 12:03:35] response_closed.started
[2025-04-11 12:03:35] response_closed.complete
[2025-04-11 12:03:35] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:03:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '361', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_9c7cc7a777ea1a4fa2fda8ee30b6fe8c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7984e0d956a9e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:03:35] request_id: req_9c7cc7a777ea1a4fa2fda8ee30b6fe8c
[2025-04-11 12:03:35] [SIM] News Sentiment: BUY
[2025-04-11 12:03:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:03:35] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:03:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:03:35] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:03:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:03:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:03:36] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:03:36] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "dd2cbd8ac2084ca3a022"
}
[2025-04-11 12:03:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:03:36] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:03:36] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:08:36] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:08:36] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:08:36] close.started
[2025-04-11 12:08:36] close.complete
[2025-04-11 12:08:36] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:08:36] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d8890>
[2025-04-11 12:08:36] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:08:36] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4db450>
[2025-04-11 12:08:36] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:08:36] send_request_headers.complete
[2025-04-11 12:08:36] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:08:36] send_request_body.complete
[2025-04-11 12:08:36] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:08:37] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:08:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'412'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_109597ee16067a850b14ee5102201d17'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e79fad4b99073c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:08:37] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:08:37] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:08:37] receive_response_body.complete
[2025-04-11 12:08:37] response_closed.started
[2025-04-11 12:08:37] response_closed.complete
[2025-04-11 12:08:37] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:08:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '412', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_109597ee16067a850b14ee5102201d17', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e79fad4b99073c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:08:37] request_id: req_109597ee16067a850b14ee5102201d17
[2025-04-11 12:08:37] [SIM] News Sentiment: BUY
[2025-04-11 12:08:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:08:37] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:08:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:08:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:08:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:08:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:08:38] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:08:38] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1a5e5cc50cc64b6eb8bd"
}
[2025-04-11 12:08:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:08:38] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:08:38] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:13:38] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:13:38] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:13:38] close.started
[2025-04-11 12:13:38] close.complete
[2025-04-11 12:13:38] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:13:38] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a512d50>
[2025-04-11 12:13:38] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:13:38] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a5134d0>
[2025-04-11 12:13:38] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:13:38] send_request_headers.complete
[2025-04-11 12:13:38] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:13:38] send_request_body.complete
[2025-04-11 12:13:38] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:13:39] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:13:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'291'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_2d3e7439a965b4269387fa987872bb4c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=FtpDZgvyzfi1b3G5MIhz8yJFa5lvyfYJ5qgmFNkMwQs-1744344819-1.0.1.1-bdOcWHtykL2aNu2OF3RHubePXyySBeh1y6E0c6MB1bSispmSp7BD_z662V.BYfc2aIw7MGKKCbwmNoyI7LG12FJFyClS9OEMyV2eprvplmo; path=/; expires=Fri, 11-Apr-25 04:43:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7a70cfbc44a4d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:13:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:13:39] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:13:39] receive_response_body.complete
[2025-04-11 12:13:39] response_closed.started
[2025-04-11 12:13:39] response_closed.complete
[2025-04-11 12:13:39] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:13:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '291', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_2d3e7439a965b4269387fa987872bb4c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=FtpDZgvyzfi1b3G5MIhz8yJFa5lvyfYJ5qgmFNkMwQs-1744344819-1.0.1.1-bdOcWHtykL2aNu2OF3RHubePXyySBeh1y6E0c6MB1bSispmSp7BD_z662V.BYfc2aIw7MGKKCbwmNoyI7LG12FJFyClS9OEMyV2eprvplmo; path=/; expires=Fri, 11-Apr-25 04:43:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7a70cfbc44a4d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:13:39] request_id: req_2d3e7439a965b4269387fa987872bb4c
[2025-04-11 12:13:39] [SIM] News Sentiment: BUY
[2025-04-11 12:13:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:13:39] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:13:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:13:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:13:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:13:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:13:40] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:13:40] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "270223ad02c74c739986"
}
[2025-04-11 12:13:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:13:40] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:13:40] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:18:40] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:18:40] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:18:40] close.started
[2025-04-11 12:18:40] close.complete
[2025-04-11 12:18:40] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:18:40] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50a690>
[2025-04-11 12:18:40] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:18:40] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a509790>
[2025-04-11 12:18:40] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:18:40] send_request_headers.complete
[2025-04-11 12:18:40] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:18:40] send_request_body.complete
[2025-04-11 12:18:40] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:18:40] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:18:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'245'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_c422f5b743ecc616b31dfdaa51d061ab'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7ae6b4cafa355-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:18:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:18:40] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:18:40] receive_response_body.complete
[2025-04-11 12:18:40] response_closed.started
[2025-04-11 12:18:40] response_closed.complete
[2025-04-11 12:18:40] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:18:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '245', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_c422f5b743ecc616b31dfdaa51d061ab', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7ae6b4cafa355-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:18:40] request_id: req_c422f5b743ecc616b31dfdaa51d061ab
[2025-04-11 12:18:40] [SIM] News Sentiment: BUY
[2025-04-11 12:18:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:18:41] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:18:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:18:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:18:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:18:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:18:41] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:18:41] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "322991f3594f4fd09791"
}
[2025-04-11 12:18:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:18:42] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:18:42] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:23:42] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:23:42] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:23:42] close.started
[2025-04-11 12:23:42] close.complete
[2025-04-11 12:23:42] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:23:42] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a501710>
[2025-04-11 12:23:42] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:23:42] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a503590>
[2025-04-11 12:23:42] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:23:42] send_request_headers.complete
[2025-04-11 12:23:42] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:23:42] send_request_body.complete
[2025-04-11 12:23:42] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:23:42] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:23:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'319'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_149cb84c65b139b734612eb7b08fc3f1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7b5c91f028f25-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:23:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:23:42] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:23:42] receive_response_body.complete
[2025-04-11 12:23:42] response_closed.started
[2025-04-11 12:23:42] response_closed.complete
[2025-04-11 12:23:42] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:23:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '319', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_149cb84c65b139b734612eb7b08fc3f1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7b5c91f028f25-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:23:42] request_id: req_149cb84c65b139b734612eb7b08fc3f1
[2025-04-11 12:23:42] [SIM] News Sentiment: BUY
[2025-04-11 12:23:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:23:43] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:23:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:23:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:23:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:23:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:23:43] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:23:43] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e430592a8c484c55b9e8"
}
[2025-04-11 12:23:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:23:44] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:23:44] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:28:44] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:28:44] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:28:44] close.started
[2025-04-11 12:28:44] close.complete
[2025-04-11 12:28:44] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:28:44] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51ced0>
[2025-04-11 12:28:44] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:28:44] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51f9d0>
[2025-04-11 12:28:44] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:28:44] send_request_headers.complete
[2025-04-11 12:28:44] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:28:44] send_request_body.complete
[2025-04-11 12:28:44] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:28:44] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:28:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'404'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_d07ccf5c798ac19f6d869c43b777682e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=KeI855RXZri3mfHYdHSCXiNNymXEWihpM.G5Pv2YuF0-1744345724-1.0.1.1-ch8_kya9ZPIRrLSAS0zuGd5eVloCBygeyf00xCAEOIv1rTz5pSgGKbZ11adQ4OyHz4K_s8djZM4fGx0RdL8vfOdeukuIgh.sTmyVVwnC6V0; path=/; expires=Fri, 11-Apr-25 04:58:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7bd27b8c5a9c8-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:28:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:28:44] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:28:44] receive_response_body.complete
[2025-04-11 12:28:44] response_closed.started
[2025-04-11 12:28:44] response_closed.complete
[2025-04-11 12:28:44] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:28:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '404', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_d07ccf5c798ac19f6d869c43b777682e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=KeI855RXZri3mfHYdHSCXiNNymXEWihpM.G5Pv2YuF0-1744345724-1.0.1.1-ch8_kya9ZPIRrLSAS0zuGd5eVloCBygeyf00xCAEOIv1rTz5pSgGKbZ11adQ4OyHz4K_s8djZM4fGx0RdL8vfOdeukuIgh.sTmyVVwnC6V0; path=/; expires=Fri, 11-Apr-25 04:58:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7bd27b8c5a9c8-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:28:44] request_id: req_d07ccf5c798ac19f6d869c43b777682e
[2025-04-11 12:28:44] [SIM] News Sentiment: BUY
[2025-04-11 12:28:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:28:45] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:28:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:28:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:28:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:28:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:28:45] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:28:45] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1b46da70a0db498cb1a4"
}
[2025-04-11 12:28:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:28:46] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:28:46] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:33:46] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:33:46] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:33:46] close.started
[2025-04-11 12:33:46] close.complete
[2025-04-11 12:33:46] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:33:46] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50e150>
[2025-04-11 12:33:46] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:33:46] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50c190>
[2025-04-11 12:33:46] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:33:46] send_request_headers.complete
[2025-04-11 12:33:46] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:33:46] send_request_body.complete
[2025-04-11 12:33:46] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:33:46] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:33:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'379'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_e8695caeee90e40a24bd52d0666b6cd3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7c487cdb0a9cd-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:33:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:33:46] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:33:46] receive_response_body.complete
[2025-04-11 12:33:46] response_closed.started
[2025-04-11 12:33:46] response_closed.complete
[2025-04-11 12:33:46] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:33:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '379', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_e8695caeee90e40a24bd52d0666b6cd3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7c487cdb0a9cd-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:33:46] request_id: req_e8695caeee90e40a24bd52d0666b6cd3
[2025-04-11 12:33:46] [SIM] News Sentiment: BUY
[2025-04-11 12:33:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:33:47] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:33:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:33:47] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1589
[2025-04-11 12:33:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:33:47] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1589
[2025-04-11 12:33:47] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:33:47] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9fdfaf66f5714c309ed0"
}
[2025-04-11 12:33:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:33:48] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:33:48] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:38:48] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:38:48] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:38:48] close.started
[2025-04-11 12:38:48] close.complete
[2025-04-11 12:38:48] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:38:48] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51cb50>
[2025-04-11 12:38:48] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:38:48] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51c450>
[2025-04-11 12:38:48] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:38:48] send_request_headers.complete
[2025-04-11 12:38:48] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:38:48] send_request_body.complete
[2025-04-11 12:38:48] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:38:48] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:38:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'391'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_13eb576a198f69c4036e80935f5f0beb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7cbe67886a9c2-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:38:48] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:38:48] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:38:48] receive_response_body.complete
[2025-04-11 12:38:48] response_closed.started
[2025-04-11 12:38:48] response_closed.complete
[2025-04-11 12:38:48] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:38:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '391', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_13eb576a198f69c4036e80935f5f0beb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7cbe67886a9c2-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:38:48] request_id: req_13eb576a198f69c4036e80935f5f0beb
[2025-04-11 12:38:48] [SIM] News Sentiment: BUY
[2025-04-11 12:38:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:38:49] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:38:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:38:49] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 12:38:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:38:49] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 12:38:49] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:38:49] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3d2d208ccfd14191b2e3"
}
[2025-04-11 12:38:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:38:49] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:38:49] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:43:49] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:43:49] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:43:49] close.started
[2025-04-11 12:43:49] close.complete
[2025-04-11 12:43:49] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:43:49] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a503c90>
[2025-04-11 12:43:49] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:43:50] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a501e50>
[2025-04-11 12:43:50] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:43:50] send_request_headers.complete
[2025-04-11 12:43:50] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:43:50] send_request_body.complete
[2025-04-11 12:43:50] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:43:50] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:43:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'261'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_8ac676a24a6f59390f3c8e379d0edf81'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=0_XqBAcm8_VG8.Qb3RC8oriw4mOpDwYTflJ5muWFFfo-1744346630-1.0.1.1-oMhDLRMCjzD4sHHVgn7bHz5GlB0AQ3HzhQaYDJ75U0m2DSKWsI9RCadffZdaTJVvPRib3iq4Vs9RBlFtFIKZ_UW2MoHBBvFRie3bBp4kBp4; path=/; expires=Fri, 11-Apr-25 05:13:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7d3459c7d4a4e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:43:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:43:50] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:43:50] receive_response_body.complete
[2025-04-11 12:43:50] response_closed.started
[2025-04-11 12:43:50] response_closed.complete
[2025-04-11 12:43:50] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:43:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '261', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_8ac676a24a6f59390f3c8e379d0edf81', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=0_XqBAcm8_VG8.Qb3RC8oriw4mOpDwYTflJ5muWFFfo-1744346630-1.0.1.1-oMhDLRMCjzD4sHHVgn7bHz5GlB0AQ3HzhQaYDJ75U0m2DSKWsI9RCadffZdaTJVvPRib3iq4Vs9RBlFtFIKZ_UW2MoHBBvFRie3bBp4kBp4; path=/; expires=Fri, 11-Apr-25 05:13:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7d3459c7d4a4e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:43:50] request_id: req_8ac676a24a6f59390f3c8e379d0edf81
[2025-04-11 12:43:50] [SIM] News Sentiment: BUY
[2025-04-11 12:43:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:43:50] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:43:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:43:51] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:43:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:43:51] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:43:51] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:43:51] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "68c64c796360422aab0a"
}
[2025-04-11 12:43:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:43:51] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:43:51] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:48:51] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:48:51] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:48:51] close.started
[2025-04-11 12:48:51] close.complete
[2025-04-11 12:48:51] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:48:51] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a512410>
[2025-04-11 12:48:51] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:48:51] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a513650>
[2025-04-11 12:48:51] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:48:51] send_request_headers.complete
[2025-04-11 12:48:51] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:48:51] send_request_body.complete
[2025-04-11 12:48:51] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:48:52] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:48:52 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'546'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_fc6937fd273716de0b5681b90013a2d0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7daa3e8d64a7b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:48:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:48:52] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:48:52] receive_response_body.complete
[2025-04-11 12:48:52] response_closed.started
[2025-04-11 12:48:52] response_closed.complete
[2025-04-11 12:48:52] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:48:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '546', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_fc6937fd273716de0b5681b90013a2d0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7daa3e8d64a7b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:48:52] request_id: req_fc6937fd273716de0b5681b90013a2d0
[2025-04-11 12:48:52] [SIM] News Sentiment: BUY
[2025-04-11 12:48:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:48:52] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:48:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:48:53] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:48:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:48:53] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:48:53] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:48:53] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d66dd46b747440c49bed"
}
[2025-04-11 12:48:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:48:53] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:48:53] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:53:53] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:53:53] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:53:53] close.started
[2025-04-11 12:53:53] close.complete
[2025-04-11 12:53:53] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:53:53] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4da5d0>
[2025-04-11 12:53:53] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:53:53] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d9150>
[2025-04-11 12:53:53] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:53:53] send_request_headers.complete
[2025-04-11 12:53:53] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:53:53] send_request_body.complete
[2025-04-11 12:53:53] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:53:54] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:53:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'416'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_476958bd63f02fd5a903125de4b84afe'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7e2039e83a9b5-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:53:54] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:53:54] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:53:54] receive_response_body.complete
[2025-04-11 12:53:54] response_closed.started
[2025-04-11 12:53:54] response_closed.complete
[2025-04-11 12:53:54] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:53:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '416', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_476958bd63f02fd5a903125de4b84afe', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7e2039e83a9b5-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:53:54] request_id: req_476958bd63f02fd5a903125de4b84afe
[2025-04-11 12:53:54] [SIM] News Sentiment: BUY
[2025-04-11 12:53:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:53:55] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:53:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:53:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:53:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:53:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:53:55] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:53:55] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d56b89797bc74e7594a7"
}
[2025-04-11 12:53:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:53:56] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:53:56] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 12:58:56] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 12:58:56] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 12:58:56] close.started
[2025-04-11 12:58:56] close.complete
[2025-04-11 12:58:56] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 12:58:56] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4db090>
[2025-04-11 12:58:56] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 12:58:56] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d8690>
[2025-04-11 12:58:56] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 12:58:56] send_request_headers.complete
[2025-04-11 12:58:56] send_request_body.started request=<Request [b'POST']>
[2025-04-11 12:58:56] send_request_body.complete
[2025-04-11 12:58:56] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 12:58:56] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 04:58:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'407'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_0c07ece8846ea341f97afc2beebf5692'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=9FKAY44Ii.25PJhgWvURyz75C3ZzGq0I9XlXipHXTU4-1744347536-1.0.1.1-GUwU1NXjOF1tZz6W.xptMsk_FDVK7seEWQIhlsdF7zCx0laEJcBVrQHmqPMNzGV62pqJmiHJf91yyfK_yzU9Pzoeb2jsT1or537Q66jHszY; path=/; expires=Fri, 11-Apr-25 05:28:56 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7e965ecea8f1b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 12:58:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 12:58:56] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 12:58:56] receive_response_body.complete
[2025-04-11 12:58:56] response_closed.started
[2025-04-11 12:58:56] response_closed.complete
[2025-04-11 12:58:56] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 04:58:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '407', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_0c07ece8846ea341f97afc2beebf5692', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=9FKAY44Ii.25PJhgWvURyz75C3ZzGq0I9XlXipHXTU4-1744347536-1.0.1.1-GUwU1NXjOF1tZz6W.xptMsk_FDVK7seEWQIhlsdF7zCx0laEJcBVrQHmqPMNzGV62pqJmiHJf91yyfK_yzU9Pzoeb2jsT1or537Q66jHszY; path=/; expires=Fri, 11-Apr-25 05:28:56 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7e965ecea8f1b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 12:58:56] request_id: req_0c07ece8846ea341f97afc2beebf5692
[2025-04-11 12:58:56] [SIM] News Sentiment: BUY
[2025-04-11 12:58:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:58:57] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 12:58:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:58:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:58:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:58:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 12:58:57] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 12:58:57] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5dfd69ecefaf471cb670"
}
[2025-04-11 12:58:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 12:58:58] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 12:58:58] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:03:58] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:03:58] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:03:58] close.started
[2025-04-11 13:03:58] close.complete
[2025-04-11 13:03:58] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:03:58] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50d890>
[2025-04-11 13:03:58] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:03:58] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50c710>
[2025-04-11 13:03:58] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:03:58] send_request_headers.complete
[2025-04-11 13:03:58] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:03:58] send_request_body.complete
[2025-04-11 13:03:58] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:03:58] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:03:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'321'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_63f4bdd29250b89a2e3da56ee2521440'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7f0c4c96d8451-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:03:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:03:58] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:03:58] receive_response_body.complete
[2025-04-11 13:03:58] response_closed.started
[2025-04-11 13:03:58] response_closed.complete
[2025-04-11 13:03:58] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:03:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '321', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_63f4bdd29250b89a2e3da56ee2521440', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7f0c4c96d8451-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:03:58] request_id: req_63f4bdd29250b89a2e3da56ee2521440
[2025-04-11 13:03:58] [SIM] News Sentiment: BUY
[2025-04-11 13:03:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:03:59] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:03:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:03:59] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:03:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:03:59] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:03:59] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:03:59] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "780f886258fd40a3a711"
}
[2025-04-11 13:03:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:04:00] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:04:00] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:09:00] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:09:00] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:09:00] close.started
[2025-04-11 13:09:00] close.complete
[2025-04-11 13:09:00] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:09:00] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d9450>
[2025-04-11 13:09:00] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:09:00] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4da750>
[2025-04-11 13:09:00] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:09:00] send_request_headers.complete
[2025-04-11 13:09:00] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:09:00] send_request_body.complete
[2025-04-11 13:09:00] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:09:00] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:09:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'271'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_bb5b73d89eac15f92e0f6f84dd11cca6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7f8233db64a64-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:09:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:09:00] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:09:00] receive_response_body.complete
[2025-04-11 13:09:00] response_closed.started
[2025-04-11 13:09:00] response_closed.complete
[2025-04-11 13:09:00] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:09:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '271', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_bb5b73d89eac15f92e0f6f84dd11cca6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7f8233db64a64-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:09:00] request_id: req_bb5b73d89eac15f92e0f6f84dd11cca6
[2025-04-11 13:09:00] [SIM] News Sentiment: BUY
[2025-04-11 13:09:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:09:00] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:09:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:09:01] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:09:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:09:01] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:09:01] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:09:01] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "be67e75568be46bf8aac"
}
[2025-04-11 13:09:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:09:01] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:09:01] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:14:01] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:14:01] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:14:01] close.started
[2025-04-11 13:14:01] close.complete
[2025-04-11 13:14:01] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:14:01] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a513e10>
[2025-04-11 13:14:01] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:14:01] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a512450>
[2025-04-11 13:14:01] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:14:01] send_request_headers.complete
[2025-04-11 13:14:01] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:14:01] send_request_body.complete
[2025-04-11 13:14:01] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:14:02] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:14:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'324'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_67dbf9a08dbbae23828193370a10e9e7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=QG0RL3RhBfCV3FsV_4ic92EwTTwSv_Pn9MUbJd4aTg0-1744348442-1.0.1.1-AjCad9ha4WtS9EYoQ_N9IxrQZigksLizjLO3_I.srbROOjqe..CvA8bXEaUGAi1tRl.qBq4mHFxAzPuCi.JDEFe7am6bG5XH2LQZRu62BA0; path=/; expires=Fri, 11-Apr-25 05:44:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e7ff812a6456f5-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:14:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:14:02] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:14:02] receive_response_body.complete
[2025-04-11 13:14:02] response_closed.started
[2025-04-11 13:14:02] response_closed.complete
[2025-04-11 13:14:02] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:14:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '324', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_67dbf9a08dbbae23828193370a10e9e7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=QG0RL3RhBfCV3FsV_4ic92EwTTwSv_Pn9MUbJd4aTg0-1744348442-1.0.1.1-AjCad9ha4WtS9EYoQ_N9IxrQZigksLizjLO3_I.srbROOjqe..CvA8bXEaUGAi1tRl.qBq4mHFxAzPuCi.JDEFe7am6bG5XH2LQZRu62BA0; path=/; expires=Fri, 11-Apr-25 05:44:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e7ff812a6456f5-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:14:02] request_id: req_67dbf9a08dbbae23828193370a10e9e7
[2025-04-11 13:14:02] [SIM] News Sentiment: BUY
[2025-04-11 13:14:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:14:02] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:14:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:14:02] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:14:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:14:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:14:03] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:14:03] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1c3c892a423042b0a54c"
}
[2025-04-11 13:14:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:14:03] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:14:03] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:19:03] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:19:03] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:19:03] close.started
[2025-04-11 13:19:03] close.complete
[2025-04-11 13:19:03] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:19:03] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a503950>
[2025-04-11 13:19:03] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:19:03] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a502690>
[2025-04-11 13:19:03] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:19:03] send_request_headers.complete
[2025-04-11 13:19:03] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:19:03] send_request_body.complete
[2025-04-11 13:19:03] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:19:04] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:19:04 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'358'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_a508e7f9ac01f81180daf26634ff2beb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e806df5b084a76-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:19:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:19:04] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:19:04] receive_response_body.complete
[2025-04-11 13:19:04] response_closed.started
[2025-04-11 13:19:04] response_closed.complete
[2025-04-11 13:19:04] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:19:04 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '358', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_a508e7f9ac01f81180daf26634ff2beb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e806df5b084a76-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:19:04] request_id: req_a508e7f9ac01f81180daf26634ff2beb
[2025-04-11 13:19:04] [SIM] News Sentiment: BUY
[2025-04-11 13:19:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:19:04] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:19:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:19:04] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:19:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:19:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:19:05] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:19:05] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3e9176358bba469d8261"
}
[2025-04-11 13:19:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:19:05] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:19:05] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:24:05] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:24:05] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:24:05] close.started
[2025-04-11 13:24:05] close.complete
[2025-04-11 13:24:05] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:24:05] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51f450>
[2025-04-11 13:24:05] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:24:05] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51e4d0>
[2025-04-11 13:24:05] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:24:05] send_request_headers.complete
[2025-04-11 13:24:05] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:24:05] send_request_body.complete
[2025-04-11 13:24:05] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:24:06] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:24:06 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'534'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_522ad367d810d1c836f9f4d7718eb571'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e80e3e5d9d8f1f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:24:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:24:06] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:24:06] receive_response_body.complete
[2025-04-11 13:24:06] response_closed.started
[2025-04-11 13:24:06] response_closed.complete
[2025-04-11 13:24:06] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:24:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '534', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_522ad367d810d1c836f9f4d7718eb571', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e80e3e5d9d8f1f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:24:06] request_id: req_522ad367d810d1c836f9f4d7718eb571
[2025-04-11 13:24:06] [SIM] News Sentiment: BUY
[2025-04-11 13:24:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:24:06] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:24:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:24:06] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:24:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:24:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:24:07] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:24:07] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "811652242b7f4db3bdd3"
}
[2025-04-11 13:24:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:24:07] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:24:07] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:29:07] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:29:07] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:29:07] close.started
[2025-04-11 13:29:07] close.complete
[2025-04-11 13:29:07] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:29:07] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50df50>
[2025-04-11 13:29:07] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:29:07] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50cf50>
[2025-04-11 13:29:07] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:29:07] send_request_headers.complete
[2025-04-11 13:29:07] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:29:07] send_request_body.complete
[2025-04-11 13:29:07] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:29:08] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:29:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'472'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_4400302ae329eec2c7217986dca13329'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=J5D5JpS9Mlt.6RpQJ2B5wMVR0fgyHva8Leu_KnStWn8-1744349348-1.0.1.1-mmnbmI4_OQ1TGLSAaCtqjoHKLwP5LmPKivUvSEfQaz.uvII9MCxQro2Hw8B2xnUeDvXbYvNOGUn8ozFsn0ulRgMzG4np5VFv1Zaq0Fn2j5Q; path=/; expires=Fri, 11-Apr-25 05:59:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8159e7a4e8445-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:29:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:29:08] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:29:08] receive_response_body.complete
[2025-04-11 13:29:08] response_closed.started
[2025-04-11 13:29:08] response_closed.complete
[2025-04-11 13:29:08] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:29:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '472', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_4400302ae329eec2c7217986dca13329', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=J5D5JpS9Mlt.6RpQJ2B5wMVR0fgyHva8Leu_KnStWn8-1744349348-1.0.1.1-mmnbmI4_OQ1TGLSAaCtqjoHKLwP5LmPKivUvSEfQaz.uvII9MCxQro2Hw8B2xnUeDvXbYvNOGUn8ozFsn0ulRgMzG4np5VFv1Zaq0Fn2j5Q; path=/; expires=Fri, 11-Apr-25 05:59:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8159e7a4e8445-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:29:08] request_id: req_4400302ae329eec2c7217986dca13329
[2025-04-11 13:29:08] [SIM] News Sentiment: BUY
[2025-04-11 13:29:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:29:08] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:29:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:29:08] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:29:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:29:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:29:09] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:29:09] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7157c6e369014a79bf90"
}
[2025-04-11 13:29:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:29:09] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:29:09] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:34:09] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:34:09] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:34:09] close.started
[2025-04-11 13:34:09] close.complete
[2025-04-11 13:34:09] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:34:09] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50f8d0>
[2025-04-11 13:34:09] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:34:09] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50c590>
[2025-04-11 13:34:09] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:34:09] send_request_headers.complete
[2025-04-11 13:34:09] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:34:09] send_request_body.complete
[2025-04-11 13:34:09] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:34:10] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:34:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'382'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_bacdd140dc0f008276e389169048da8d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e81cfe1e9b8448-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:34:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:34:10] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:34:10] receive_response_body.complete
[2025-04-11 13:34:10] response_closed.started
[2025-04-11 13:34:10] response_closed.complete
[2025-04-11 13:34:10] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:34:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '382', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_bacdd140dc0f008276e389169048da8d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e81cfe1e9b8448-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:34:10] request_id: req_bacdd140dc0f008276e389169048da8d
[2025-04-11 13:34:10] [SIM] News Sentiment: BUY
[2025-04-11 13:34:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:34:10] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:34:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:34:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:34:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:34:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:34:11] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:34:11] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1c4eeb670bb44946b867"
}
[2025-04-11 13:34:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:34:11] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:34:11] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:39:11] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:39:11] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:39:11] close.started
[2025-04-11 13:39:11] close.complete
[2025-04-11 13:39:11] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:39:11] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50f490>
[2025-04-11 13:39:11] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:39:11] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50e8d0>
[2025-04-11 13:39:11] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:39:11] send_request_headers.complete
[2025-04-11 13:39:11] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:39:11] send_request_body.complete
[2025-04-11 13:39:11] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:39:12] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:39:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'462'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_8ee51f171d7e8b783261cfefd7824541'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8245d1c818285-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:39:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:39:12] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:39:12] receive_response_body.complete
[2025-04-11 13:39:12] response_closed.started
[2025-04-11 13:39:12] response_closed.complete
[2025-04-11 13:39:12] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:39:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '462', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_8ee51f171d7e8b783261cfefd7824541', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8245d1c818285-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:39:12] request_id: req_8ee51f171d7e8b783261cfefd7824541
[2025-04-11 13:39:12] [SIM] News Sentiment: BUY
[2025-04-11 13:39:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:39:12] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:39:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:39:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:39:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:39:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:39:13] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:39:13] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "46c5255292554fdaa974"
}
[2025-04-11 13:39:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:39:13] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:39:13] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:44:13] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:44:13] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:44:13] close.started
[2025-04-11 13:44:13] close.complete
[2025-04-11 13:44:13] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:44:13] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51f950>
[2025-04-11 13:44:13] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:44:13] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a51c9d0>
[2025-04-11 13:44:13] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:44:13] send_request_headers.complete
[2025-04-11 13:44:13] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:44:13] send_request_body.complete
[2025-04-11 13:44:13] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:44:14] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:44:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'510'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_4262a84ac98e5c9b83347d2018439e1a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=vQHl9aSZss7SqLxPFjrrZwjrlii7VL9frt86vD81uKE-1744350254-1.0.1.1-6qGRykHucxzwrtniTrt1xSBTscwZO9khIe8yRdPTKOeGHL33IU3GHlDfoKv2cG3ZPp.eXznNiAWaP4E5nPQQGHH93WL.pLXZ48anw2gBIYo; path=/; expires=Fri, 11-Apr-25 06:14:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e82bbc7918a9cb-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:44:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:44:14] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:44:14] receive_response_body.complete
[2025-04-11 13:44:14] response_closed.started
[2025-04-11 13:44:14] response_closed.complete
[2025-04-11 13:44:14] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:44:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '510', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_4262a84ac98e5c9b83347d2018439e1a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=vQHl9aSZss7SqLxPFjrrZwjrlii7VL9frt86vD81uKE-1744350254-1.0.1.1-6qGRykHucxzwrtniTrt1xSBTscwZO9khIe8yRdPTKOeGHL33IU3GHlDfoKv2cG3ZPp.eXznNiAWaP4E5nPQQGHH93WL.pLXZ48anw2gBIYo; path=/; expires=Fri, 11-Apr-25 06:14:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e82bbc7918a9cb-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:44:14] request_id: req_4262a84ac98e5c9b83347d2018439e1a
[2025-04-11 13:44:14] [SIM] News Sentiment: BUY
[2025-04-11 13:44:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:44:14] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:44:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:44:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:44:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:44:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:44:15] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:44:15] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5ba8b55344ac4335a36f"
}
[2025-04-11 13:44:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:44:15] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:44:15] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:49:15] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:49:15] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:49:15] close.started
[2025-04-11 13:49:15] close.complete
[2025-04-11 13:49:15] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:49:15] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50ca10>
[2025-04-11 13:49:15] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:49:15] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a50fa50>
[2025-04-11 13:49:15] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:49:15] send_request_headers.complete
[2025-04-11 13:49:15] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:49:15] send_request_body.complete
[2025-04-11 13:49:15] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:49:16] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:49:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'495'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_0f6eab03a70fcbd0f8188bbefa5f58e9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8331d0d368283-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:49:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:49:16] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:49:16] receive_response_body.complete
[2025-04-11 13:49:16] response_closed.started
[2025-04-11 13:49:16] response_closed.complete
[2025-04-11 13:49:16] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:49:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '495', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_0f6eab03a70fcbd0f8188bbefa5f58e9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8331d0d368283-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:49:16] request_id: req_0f6eab03a70fcbd0f8188bbefa5f58e9
[2025-04-11 13:49:16] [SIM] News Sentiment: BUY
[2025-04-11 13:49:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:49:16] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:49:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:49:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:49:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:49:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 13:49:17] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:49:17] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "93291923e7074f4d8694"
}
[2025-04-11 13:49:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:49:17] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:49:17] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:54:17] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:54:17] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:54:17] close.started
[2025-04-11 13:54:17] close.complete
[2025-04-11 13:54:17] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:54:17] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a513e10>
[2025-04-11 13:54:17] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:54:17] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a510690>
[2025-04-11 13:54:17] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:54:17] send_request_headers.complete
[2025-04-11 13:54:17] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:54:17] send_request_body.complete
[2025-04-11 13:54:17] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:54:18] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:54:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'390'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_51d01ec16ccc920ceb022cc589515384'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e83a7cbbec8f1f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:54:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:54:18] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:54:18] receive_response_body.complete
[2025-04-11 13:54:18] response_closed.started
[2025-04-11 13:54:18] response_closed.complete
[2025-04-11 13:54:18] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:54:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '390', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_51d01ec16ccc920ceb022cc589515384', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e83a7cbbec8f1f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:54:18] request_id: req_51d01ec16ccc920ceb022cc589515384
[2025-04-11 13:54:18] [SIM] News Sentiment: BUY
[2025-04-11 13:54:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:54:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:54:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:54:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:54:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:54:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:54:19] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:54:19] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "36e8381e78f84c87a043"
}
[2025-04-11 13:54:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:54:19] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:54:19] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 13:59:19] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 13:59:19] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 13:59:19] close.started
[2025-04-11 13:59:19] close.complete
[2025-04-11 13:59:19] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 13:59:19] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d9ad0>
[2025-04-11 13:59:19] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 13:59:19] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4d91d0>
[2025-04-11 13:59:19] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 13:59:19] send_request_headers.complete
[2025-04-11 13:59:19] send_request_body.started request=<Request [b'POST']>
[2025-04-11 13:59:19] send_request_body.complete
[2025-04-11 13:59:19] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 13:59:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 05:59:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'375'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_944630db4ff4f188c21f4ac908cc40ac'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=a6HE6wS6vEWOAlwxMY46RQ0hJbQU71D8okK022HwONQ-1744351160-1.0.1.1-vm6_AlOep7WZ_A.N3S_AVusfc4rE7Dl_qkdtmS1yQwnxARxLVDmYiH.Mm8KCOmpwE1Bu_00ns6QqwLPus1g5PJbkbV4J31IOBEgQHQpx.q4; path=/; expires=Fri, 11-Apr-25 06:29:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e841dbe8868418-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 13:59:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 13:59:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 13:59:20] receive_response_body.complete
[2025-04-11 13:59:20] response_closed.started
[2025-04-11 13:59:20] response_closed.complete
[2025-04-11 13:59:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 05:59:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '375', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_944630db4ff4f188c21f4ac908cc40ac', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=a6HE6wS6vEWOAlwxMY46RQ0hJbQU71D8okK022HwONQ-1744351160-1.0.1.1-vm6_AlOep7WZ_A.N3S_AVusfc4rE7Dl_qkdtmS1yQwnxARxLVDmYiH.Mm8KCOmpwE1Bu_00ns6QqwLPus1g5PJbkbV4J31IOBEgQHQpx.q4; path=/; expires=Fri, 11-Apr-25 06:29:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e841dbe8868418-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 13:59:20] request_id: req_944630db4ff4f188c21f4ac908cc40ac
[2025-04-11 13:59:20] [SIM] News Sentiment: BUY
[2025-04-11 13:59:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:59:20] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 13:59:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:59:20] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:59:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:59:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 13:59:21] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 13:59:21] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5c901de8057d484ca0ad"
}
[2025-04-11 13:59:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 13:59:21] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 13:59:21] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:04:21] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:04:21] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:04:21] close.started
[2025-04-11 14:04:21] close.complete
[2025-04-11 14:04:21] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:04:21] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a524c90>
[2025-04-11 14:04:21] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:04:21] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a524290>
[2025-04-11 14:04:21] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:04:21] send_request_headers.complete
[2025-04-11 14:04:21] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:04:21] send_request_body.complete
[2025-04-11 14:04:21] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:04:22] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:04:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'430'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_b8fbd05eebfff25d7aa190e30defd7d4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8493b1d648264-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:04:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:04:22] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:04:22] receive_response_body.complete
[2025-04-11 14:04:22] response_closed.started
[2025-04-11 14:04:22] response_closed.complete
[2025-04-11 14:04:22] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:04:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '430', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_b8fbd05eebfff25d7aa190e30defd7d4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8493b1d648264-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:04:22] request_id: req_b8fbd05eebfff25d7aa190e30defd7d4
[2025-04-11 14:04:22] [SIM] News Sentiment: BUY
[2025-04-11 14:04:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:04:22] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:04:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:04:22] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 14:04:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:04:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 14:04:23] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:04:23] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f4e6c57fc7774d0ebbb2"
}
[2025-04-11 14:04:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:04:23] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:04:23] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:09:23] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:09:23] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:09:23] close.started
[2025-04-11 14:09:23] close.complete
[2025-04-11 14:09:23] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:09:23] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a511090>
[2025-04-11 14:09:23] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:09:23] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a512150>
[2025-04-11 14:09:23] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:09:23] send_request_headers.complete
[2025-04-11 14:09:23] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:09:23] send_request_body.complete
[2025-04-11 14:09:23] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:09:24] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:09:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'447'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_d16a52febac9a91d5790c587ea646715'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8509b2d9a6b68-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:09:24] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:09:24] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:09:24] receive_response_body.complete
[2025-04-11 14:09:24] response_closed.started
[2025-04-11 14:09:24] response_closed.complete
[2025-04-11 14:09:24] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:09:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '447', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_d16a52febac9a91d5790c587ea646715', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8509b2d9a6b68-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:09:24] request_id: req_d16a52febac9a91d5790c587ea646715
[2025-04-11 14:09:24] [SIM] News Sentiment: BUY
[2025-04-11 14:09:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:09:24] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:09:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:09:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:09:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:09:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:09:25] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:09:25] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "4d0a87b981df4a7395a8"
}
[2025-04-11 14:09:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:09:25] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:09:25] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:14:25] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:14:25] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:14:25] close.started
[2025-04-11 14:14:25] close.complete
[2025-04-11 14:14:25] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:14:25] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4dbe50>
[2025-04-11 14:14:25] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f072a60a690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:14:25] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f072a4da050>
[2025-04-11 14:14:25] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:14:25] send_request_headers.complete
[2025-04-11 14:14:25] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:14:25] send_request_body.complete
[2025-04-11 14:14:25] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:14:26] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:14:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'346'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_d4eb03a7318c34f54d22ec786d294682'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=He5q.ux1gyDoqjOTMCOyngv.Yr6GwEDTPVFmbAfvKy4-1744352066-1.0.1.1-aGGnDswvAw8nQ2oO9ICoEOqVtoGOlp4hYYSlrmqVdyKAzOT9ubeT_m.bplM1gfbfKInm5WgEm96ScU6HMiudPSLXzLQMDTBdo7uz7nHL71I; path=/; expires=Fri, 11-Apr-25 06:44:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e857fa7d22a378-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:14:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:14:26] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:14:26] receive_response_body.complete
[2025-04-11 14:14:26] response_closed.started
[2025-04-11 14:14:26] response_closed.complete
[2025-04-11 14:14:26] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:14:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '346', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_d4eb03a7318c34f54d22ec786d294682', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=He5q.ux1gyDoqjOTMCOyngv.Yr6GwEDTPVFmbAfvKy4-1744352066-1.0.1.1-aGGnDswvAw8nQ2oO9ICoEOqVtoGOlp4hYYSlrmqVdyKAzOT9ubeT_m.bplM1gfbfKInm5WgEm96ScU6HMiudPSLXzLQMDTBdo7uz7nHL71I; path=/; expires=Fri, 11-Apr-25 06:44:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e857fa7d22a378-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:14:26] request_id: req_d4eb03a7318c34f54d22ec786d294682
[2025-04-11 14:14:26] [SIM] News Sentiment: BUY
[2025-04-11 14:14:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:14:26] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:14:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:14:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:14:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:14:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:14:27] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:14:27] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "c52c5c1ade9c4e5b8a62"
}
[2025-04-11 14:14:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:14:27] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:14:27] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
nohup: ignoring input
[2025-04-11 14:16:07] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.5-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_1416.zip)
[2025-04-11 14:16:07] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_1416.zip
[2025-04-11 14:16:07] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 14:16:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:16:07] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 14:16:07] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:16:07] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:16:07] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:16:07] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea34210>
[2025-04-11 14:16:07] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:16:07] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea342d0>
[2025-04-11 14:16:07] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:16:07] send_request_headers.complete
[2025-04-11 14:16:07] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:16:07] send_request_body.complete
[2025-04-11 14:16:07] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:16:08] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:16:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'564'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_3b292bad017553f48598d77f65ed9dc9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=kp3jvzC4MLChR4WLrV1c1kUDb2nkDQUJcaf.IIvlpmI-1744352168-1.0.1.1-9cGautmxoIAV2WFo4G5rBAqMcXwHTANghB8rP13vjwLIwmy0wobx6zNgKnj0M3WAh2LexNf_xQfP9D_SwqbhboyQeLY0dygQDFOzxmZdl70; path=/; expires=Fri, 11-Apr-25 06:46:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=XCjmxpHUXDdcTTmL0SrNiPJoxf2gDLk.TbRNlB713rQ-1744352168500-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e85a780bdea9b6-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:16:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:16:08] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:16:08] receive_response_body.complete
[2025-04-11 14:16:08] response_closed.started
[2025-04-11 14:16:08] response_closed.complete
[2025-04-11 14:16:08] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 06:16:08 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '564'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9967'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '198ms'), ('x-request-id', 'req_3b292bad017553f48598d77f65ed9dc9'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=kp3jvzC4MLChR4WLrV1c1kUDb2nkDQUJcaf.IIvlpmI-1744352168-1.0.1.1-9cGautmxoIAV2WFo4G5rBAqMcXwHTANghB8rP13vjwLIwmy0wobx6zNgKnj0M3WAh2LexNf_xQfP9D_SwqbhboyQeLY0dygQDFOzxmZdl70; path=/; expires=Fri, 11-Apr-25 06:46:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=XCjmxpHUXDdcTTmL0SrNiPJoxf2gDLk.TbRNlB713rQ-1744352168500-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e85a780bdea9b6-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 14:16:08] request_id: req_3b292bad017553f48598d77f65ed9dc9
[2025-04-11 14:16:08] [SIM] News Sentiment: BUY
[2025-04-11 14:16:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:16:08] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:16:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:16:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:16:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:16:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:16:09] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:16:09] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "8cb2d92745ac455da310"
}
[2025-04-11 14:16:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:16:10] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:16:10] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[🌀 重啟] ✅ v1.2.5 Final 已啟動於 2025-04-11 14:16:14
[2025-04-11 14:21:10] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:21:10] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:21:10] close.started
[2025-04-11 14:21:10] close.complete
[2025-04-11 14:21:10] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:21:10] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea34290>
[2025-04-11 14:21:10] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:21:10] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea3b710>
[2025-04-11 14:21:10] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:21:10] send_request_headers.complete
[2025-04-11 14:21:10] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:21:10] send_request_body.complete
[2025-04-11 14:21:10] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:21:10] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:21:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'433'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_c01babd6be09d4d62b4bc61692b09dca'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e861d9ce794a51-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:21:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:21:10] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:21:10] receive_response_body.complete
[2025-04-11 14:21:10] response_closed.started
[2025-04-11 14:21:10] response_closed.complete
[2025-04-11 14:21:10] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:21:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '433', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_c01babd6be09d4d62b4bc61692b09dca', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e861d9ce794a51-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:21:10] request_id: req_c01babd6be09d4d62b4bc61692b09dca
[2025-04-11 14:21:10] [SIM] News Sentiment: BUY
[2025-04-11 14:21:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:21:11] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:21:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:21:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:21:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:21:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:21:11] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:21:11] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "12133fe42e434678825f"
}
[2025-04-11 14:21:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:21:12] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:21:12] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:26:12] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:26:12] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:26:12] close.started
[2025-04-11 14:26:12] close.complete
[2025-04-11 14:26:12] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:26:12] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea4f3d0>
[2025-04-11 14:26:12] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:26:12] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea4cc90>
[2025-04-11 14:26:12] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:26:12] send_request_headers.complete
[2025-04-11 14:26:12] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:26:12] send_request_body.complete
[2025-04-11 14:26:12] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:26:12] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:26:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'337'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_85193d3e85fcbb1fec7741ce94c5d2c9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e86939df38a355-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:26:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:26:12] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:26:12] receive_response_body.complete
[2025-04-11 14:26:12] response_closed.started
[2025-04-11 14:26:12] response_closed.complete
[2025-04-11 14:26:12] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:26:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '337', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_85193d3e85fcbb1fec7741ce94c5d2c9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e86939df38a355-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:26:12] request_id: req_85193d3e85fcbb1fec7741ce94c5d2c9
[2025-04-11 14:26:12] [SIM] News Sentiment: BUY
[2025-04-11 14:26:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:26:12] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:26:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:26:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 14:26:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:26:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 14:26:13] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:26:13] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "200d4e3b3f854f95b9ea"
}
[2025-04-11 14:26:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:26:13] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:26:13] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:31:13] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:31:13] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:31:13] close.started
[2025-04-11 14:31:13] close.complete
[2025-04-11 14:31:13] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:31:13] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea504d0>
[2025-04-11 14:31:13] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:31:13] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea52b50>
[2025-04-11 14:31:13] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:31:13] send_request_headers.complete
[2025-04-11 14:31:13] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:31:13] send_request_body.complete
[2025-04-11 14:31:13] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:31:14] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:31:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'278'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_7a994440bc095b25d1cded32629327d1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=fGA_bQOTXPsgSNlVE5yyJIhdnU0tGEF2H.PZ6L0pq64-1744353074-1.0.1.1-m4E0ZbI7z5D5Ggh9V0xcLXmzFNJz0cfxH9.iCjuD2mlEqRxVNQ0n7o40iUUHTV887GvAWz0OWKgY2hBpVd9mEdxy7qU0LeDHQ8nzLeNgPmI; path=/; expires=Fri, 11-Apr-25 07:01:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e870983e844aa3-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:31:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:31:14] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:31:14] receive_response_body.complete
[2025-04-11 14:31:14] response_closed.started
[2025-04-11 14:31:14] response_closed.complete
[2025-04-11 14:31:14] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:31:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '278', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_7a994440bc095b25d1cded32629327d1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=fGA_bQOTXPsgSNlVE5yyJIhdnU0tGEF2H.PZ6L0pq64-1744353074-1.0.1.1-m4E0ZbI7z5D5Ggh9V0xcLXmzFNJz0cfxH9.iCjuD2mlEqRxVNQ0n7o40iUUHTV887GvAWz0OWKgY2hBpVd9mEdxy7qU0LeDHQ8nzLeNgPmI; path=/; expires=Fri, 11-Apr-25 07:01:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e870983e844aa3-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:31:14] request_id: req_7a994440bc095b25d1cded32629327d1
[2025-04-11 14:31:14] [SIM] News Sentiment: BUY
[2025-04-11 14:31:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:31:14] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:31:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:31:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:31:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:31:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:31:15] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:31:15] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "0fbf1e7f7acc4dabbebd"
}
[2025-04-11 14:31:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:31:15] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:31:15] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:36:15] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:36:15] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:36:15] close.started
[2025-04-11 14:36:15] close.complete
[2025-04-11 14:36:15] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:36:15] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea4cd50>
[2025-04-11 14:36:15] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:36:15] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea382d0>
[2025-04-11 14:36:15] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:36:15] send_request_headers.complete
[2025-04-11 14:36:15] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:36:15] send_request_body.complete
[2025-04-11 14:36:15] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:36:16] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:36:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'273'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_423f6b8fe9bda7b484769eb4404e0e2d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e877f60b6a841c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:36:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:36:16] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:36:16] receive_response_body.complete
[2025-04-11 14:36:16] response_closed.started
[2025-04-11 14:36:16] response_closed.complete
[2025-04-11 14:36:16] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:36:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '273', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_423f6b8fe9bda7b484769eb4404e0e2d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e877f60b6a841c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:36:16] request_id: req_423f6b8fe9bda7b484769eb4404e0e2d
[2025-04-11 14:36:16] [SIM] News Sentiment: BUY
[2025-04-11 14:36:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:36:16] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:36:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:36:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 14:36:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:36:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 14:36:17] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:36:17] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9619103d6e25497b80ec"
}
[2025-04-11 14:36:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:36:17] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:36:17] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:41:17] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:41:17] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:41:17] close.started
[2025-04-11 14:41:17] close.complete
[2025-04-11 14:41:17] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:41:17] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea4ce10>
[2025-04-11 14:41:17] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:41:17] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea5f090>
[2025-04-11 14:41:17] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:41:17] send_request_headers.complete
[2025-04-11 14:41:17] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:41:17] send_request_body.complete
[2025-04-11 14:41:17] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:41:18] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:41:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'380'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_38bfa8a8199ccc659c6e9ed6f57fc565'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e87f54f9e94a46-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:41:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:41:18] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:41:18] receive_response_body.complete
[2025-04-11 14:41:18] response_closed.started
[2025-04-11 14:41:18] response_closed.complete
[2025-04-11 14:41:18] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:41:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '380', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_38bfa8a8199ccc659c6e9ed6f57fc565', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e87f54f9e94a46-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:41:18] request_id: req_38bfa8a8199ccc659c6e9ed6f57fc565
[2025-04-11 14:41:18] [SIM] News Sentiment: BUY
[2025-04-11 14:41:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:41:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:41:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:41:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:41:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:41:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:41:19] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:41:19] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3ae67fcd48a246078892"
}
[2025-04-11 14:41:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:41:19] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:41:19] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:46:19] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:46:19] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:46:19] close.started
[2025-04-11 14:46:19] close.complete
[2025-04-11 14:46:19] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:46:19] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea5dd90>
[2025-04-11 14:46:19] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:46:19] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea5f190>
[2025-04-11 14:46:19] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:46:19] send_request_headers.complete
[2025-04-11 14:46:19] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:46:19] send_request_body.complete
[2025-04-11 14:46:19] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:46:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:46:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'373'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_dfa65f7352c355a85d9a68288132f154'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=LMjcjC4B9wM.qVrUvYwSVhpHPgOZUloKJ5sCehybta4-1744353980-1.0.1.1-AdmYPXIoptjqhc9NR7Wu324q5I8WZbUr0RDqWmXz.TSJYZhfYwpFGZvmRanlyW3rILURfZZMs8ywQjaSI1qccBTA.mg3b50cPgw2QaieXEg; path=/; expires=Fri, 11-Apr-25 07:16:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e886b41f5aa378-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:46:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:46:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:46:20] receive_response_body.complete
[2025-04-11 14:46:20] response_closed.started
[2025-04-11 14:46:20] response_closed.complete
[2025-04-11 14:46:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:46:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '373', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_dfa65f7352c355a85d9a68288132f154', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=LMjcjC4B9wM.qVrUvYwSVhpHPgOZUloKJ5sCehybta4-1744353980-1.0.1.1-AdmYPXIoptjqhc9NR7Wu324q5I8WZbUr0RDqWmXz.TSJYZhfYwpFGZvmRanlyW3rILURfZZMs8ywQjaSI1qccBTA.mg3b50cPgw2QaieXEg; path=/; expires=Fri, 11-Apr-25 07:16:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e886b41f5aa378-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:46:20] request_id: req_dfa65f7352c355a85d9a68288132f154
[2025-04-11 14:46:20] [SIM] News Sentiment: BUY
[2025-04-11 14:46:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:46:20] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:46:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:46:20] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:46:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:46:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:46:21] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:46:21] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9016ef152d5843f3895c"
}
[2025-04-11 14:46:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:46:21] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:46:21] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:51:21] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:51:21] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:51:21] close.started
[2025-04-11 14:51:21] close.complete
[2025-04-11 14:51:21] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:51:21] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea66650>
[2025-04-11 14:51:21] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:51:21] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea657d0>
[2025-04-11 14:51:21] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:51:21] send_request_headers.complete
[2025-04-11 14:51:21] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:51:21] send_request_body.complete
[2025-04-11 14:51:21] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:51:21] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:51:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'357'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_b5b31df5dcd4986692942c06eddff892'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e88e127d0b8442-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:51:21] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:51:21] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:51:21] receive_response_body.complete
[2025-04-11 14:51:21] response_closed.started
[2025-04-11 14:51:21] response_closed.complete
[2025-04-11 14:51:21] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:51:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '357', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_b5b31df5dcd4986692942c06eddff892', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e88e127d0b8442-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:51:21] request_id: req_b5b31df5dcd4986692942c06eddff892
[2025-04-11 14:51:21] [SIM] News Sentiment: BUY
[2025-04-11 14:51:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:51:22] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:51:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:51:22] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:51:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:51:22] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:51:22] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:51:22] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ffe84eab547e47c9bb51"
}
[2025-04-11 14:51:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:51:23] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:51:23] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 14:56:23] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 14:56:23] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 14:56:23] close.started
[2025-04-11 14:56:23] close.complete
[2025-04-11 14:56:23] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 14:56:23] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea6cfd0>
[2025-04-11 14:56:23] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 14:56:23] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea6de50>
[2025-04-11 14:56:23] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 14:56:23] send_request_headers.complete
[2025-04-11 14:56:23] send_request_body.started request=<Request [b'POST']>
[2025-04-11 14:56:23] send_request_body.complete
[2025-04-11 14:56:23] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 14:56:23] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 06:56:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'355'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_215cf4297e00298c7d02876e29a803d9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e89570ae370758-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 14:56:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 14:56:23] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 14:56:23] receive_response_body.complete
[2025-04-11 14:56:23] response_closed.started
[2025-04-11 14:56:23] response_closed.complete
[2025-04-11 14:56:23] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 06:56:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '355', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_215cf4297e00298c7d02876e29a803d9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e89570ae370758-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 14:56:23] request_id: req_215cf4297e00298c7d02876e29a803d9
[2025-04-11 14:56:23] [SIM] News Sentiment: BUY
[2025-04-11 14:56:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:56:24] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 14:56:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:56:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:56:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:56:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 14:56:24] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 14:56:24] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "20abaf9395cb4effafef"
}
[2025-04-11 14:56:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 14:56:24] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 14:56:24] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:01:24] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:01:24] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:01:24] close.started
[2025-04-11 15:01:24] close.complete
[2025-04-11 15:01:24] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:01:24] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea5db90>
[2025-04-11 15:01:24] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:01:24] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea5c050>
[2025-04-11 15:01:24] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:01:24] send_request_headers.complete
[2025-04-11 15:01:24] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:01:24] send_request_body.complete
[2025-04-11 15:01:24] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:01:27] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:01:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'578'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_bd295ebee33045f9507743e358a3ca20'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=hTfqd4UsP2DLBU8gqIql7hrOC9kSBtj_16n7GMJYANQ-1744354887-1.0.1.1-etdA9Fx23DTa1qULA6DOQUST9cAgw86LwsLsg27jz8tErWPLKbq_C9lWrtOHPECMtpeQ7sqezUXoQ8mJ8AiMduxXgQ9DGPtqe_uKNFAvd2Y; path=/; expires=Fri, 11-Apr-25 07:31:27 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e89cceffae5706-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:01:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:01:27] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:01:27] receive_response_body.complete
[2025-04-11 15:01:27] response_closed.started
[2025-04-11 15:01:27] response_closed.complete
[2025-04-11 15:01:27] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:01:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '578', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_bd295ebee33045f9507743e358a3ca20', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=hTfqd4UsP2DLBU8gqIql7hrOC9kSBtj_16n7GMJYANQ-1744354887-1.0.1.1-etdA9Fx23DTa1qULA6DOQUST9cAgw86LwsLsg27jz8tErWPLKbq_C9lWrtOHPECMtpeQ7sqezUXoQ8mJ8AiMduxXgQ9DGPtqe_uKNFAvd2Y; path=/; expires=Fri, 11-Apr-25 07:31:27 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e89cceffae5706-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:01:27] request_id: req_bd295ebee33045f9507743e358a3ca20
[2025-04-11 15:01:27] [SIM] News Sentiment: BUY
[2025-04-11 15:01:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:01:28] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:01:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:01:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:01:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:01:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:01:28] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:01:28] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "909b9dc9dd1a42759340"
}
[2025-04-11 15:01:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:01:28] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:01:28] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:06:28] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:06:28] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:06:28] close.started
[2025-04-11 15:06:28] close.complete
[2025-04-11 15:06:28] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:06:29] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea6da10>
[2025-04-11 15:06:29] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:06:29] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea6e010>
[2025-04-11 15:06:29] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:06:29] send_request_headers.complete
[2025-04-11 15:06:29] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:06:29] send_request_body.complete
[2025-04-11 15:06:29] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:06:29] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:06:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'705'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_09409606e034e51f8d77e7941ca43209'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8a43b69154a7b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:06:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:06:29] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:06:29] receive_response_body.complete
[2025-04-11 15:06:29] response_closed.started
[2025-04-11 15:06:29] response_closed.complete
[2025-04-11 15:06:29] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:06:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '705', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_09409606e034e51f8d77e7941ca43209', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8a43b69154a7b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:06:29] request_id: req_09409606e034e51f8d77e7941ca43209
[2025-04-11 15:06:29] [SIM] News Sentiment: BUY
[2025-04-11 15:06:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:06:30] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:06:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:06:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:06:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:06:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 15:06:30] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:06:30] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ff3b334063bf4348919d"
}
[2025-04-11 15:06:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:06:31] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:06:31] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:11:31] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:11:31] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:11:31] close.started
[2025-04-11 15:11:31] close.complete
[2025-04-11 15:11:31] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:11:31] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea6ed90>
[2025-04-11 15:11:31] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:11:31] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea6ce90>
[2025-04-11 15:11:31] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:11:31] send_request_headers.complete
[2025-04-11 15:11:31] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:11:31] send_request_body.complete
[2025-04-11 15:11:31] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:11:31] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:11:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'397'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_81f82399a5083f1ad6f401735cb8f7da'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8ab9c8f1b4a1b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:11:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:11:31] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:11:31] receive_response_body.complete
[2025-04-11 15:11:31] response_closed.started
[2025-04-11 15:11:31] response_closed.complete
[2025-04-11 15:11:31] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:11:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '397', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_81f82399a5083f1ad6f401735cb8f7da', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8ab9c8f1b4a1b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:11:31] request_id: req_81f82399a5083f1ad6f401735cb8f7da
[2025-04-11 15:11:31] [SIM] News Sentiment: BUY
[2025-04-11 15:11:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:11:32] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:11:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:11:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:11:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:11:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 15:11:32] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:11:32] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "09a4aebd1539416da3ef"
}
[2025-04-11 15:11:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:11:33] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:11:33] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:16:33] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:16:33] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:16:33] close.started
[2025-04-11 15:16:33] close.complete
[2025-04-11 15:16:33] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:16:33] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea755d0>
[2025-04-11 15:16:33] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:16:33] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea74b10>
[2025-04-11 15:16:33] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:16:33] send_request_headers.complete
[2025-04-11 15:16:33] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:16:33] send_request_body.complete
[2025-04-11 15:16:33] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:16:33] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:16:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'301'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_062f29bdd008675709b3b2d70162057f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=GV.pmCy2hQ6VocOZDmldfXwQ4Fz.wAM8Roj9joXxdT0-1744355793-1.0.1.1-S9Zyq26APOf5hybn.Igd3DvyI.G5CnOK8K3Om0DzYOpLi6mh24t81u0rLzssB44v6wZnfEuS5giI_lfUjYqd73jdIDjIR0E5lwWtreggcU0; path=/; expires=Fri, 11-Apr-25 07:46:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8b2fbadb04a6f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:16:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:16:33] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:16:33] receive_response_body.complete
[2025-04-11 15:16:33] response_closed.started
[2025-04-11 15:16:33] response_closed.complete
[2025-04-11 15:16:33] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:16:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '301', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_062f29bdd008675709b3b2d70162057f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=GV.pmCy2hQ6VocOZDmldfXwQ4Fz.wAM8Roj9joXxdT0-1744355793-1.0.1.1-S9Zyq26APOf5hybn.Igd3DvyI.G5CnOK8K3Om0DzYOpLi6mh24t81u0rLzssB44v6wZnfEuS5giI_lfUjYqd73jdIDjIR0E5lwWtreggcU0; path=/; expires=Fri, 11-Apr-25 07:46:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8b2fbadb04a6f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:16:33] request_id: req_062f29bdd008675709b3b2d70162057f
[2025-04-11 15:16:33] [SIM] News Sentiment: BUY
[2025-04-11 15:16:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:16:34] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:16:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:16:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:16:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:16:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:16:34] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:16:34] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "b0519f449535426e9aa2"
}
[2025-04-11 15:16:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:16:34] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:16:34] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:21:34] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:21:34] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:21:34] close.started
[2025-04-11 15:21:34] close.complete
[2025-04-11 15:21:34] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:21:34] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea76310>
[2025-04-11 15:21:34] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:21:34] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea76110>
[2025-04-11 15:21:34] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:21:34] send_request_headers.complete
[2025-04-11 15:21:34] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:21:34] send_request_body.complete
[2025-04-11 15:21:34] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:21:35] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:21:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'321'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_2bdc91b2740d5c2c504da87843ade261'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8ba59cc854a09-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:21:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:21:35] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:21:35] receive_response_body.complete
[2025-04-11 15:21:35] response_closed.started
[2025-04-11 15:21:35] response_closed.complete
[2025-04-11 15:21:35] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:21:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '321', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_2bdc91b2740d5c2c504da87843ade261', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8ba59cc854a09-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:21:35] request_id: req_2bdc91b2740d5c2c504da87843ade261
[2025-04-11 15:21:35] [SIM] News Sentiment: BUY
[2025-04-11 15:21:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:21:36] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:21:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:21:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:21:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:21:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:21:36] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:21:36] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "79803cbefbc947d5aa50"
}
[2025-04-11 15:21:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:21:36] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:21:36] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:26:36] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:26:36] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:26:36] close.started
[2025-04-11 15:26:36] close.complete
[2025-04-11 15:26:36] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:26:36] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea788d0>
[2025-04-11 15:26:36] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:26:36] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea78a90>
[2025-04-11 15:26:36] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:26:36] send_request_headers.complete
[2025-04-11 15:26:36] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:26:36] send_request_body.complete
[2025-04-11 15:26:36] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:26:37] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:26:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'514'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_8a5439ced3371361b3c117679548e30e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8c1b94d198436-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:26:37] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:26:37] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:26:37] receive_response_body.complete
[2025-04-11 15:26:37] response_closed.started
[2025-04-11 15:26:37] response_closed.complete
[2025-04-11 15:26:37] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:26:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '514', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_8a5439ced3371361b3c117679548e30e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8c1b94d198436-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:26:37] request_id: req_8a5439ced3371361b3c117679548e30e
[2025-04-11 15:26:37] [SIM] News Sentiment: BUY
[2025-04-11 15:26:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:26:38] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:26:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:26:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 15:26:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:26:38] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 15:26:38] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:26:38] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "c742737af0a44993bac4"
}
[2025-04-11 15:26:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:26:39] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:26:39] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:31:39] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:31:39] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:31:39] close.started
[2025-04-11 15:31:39] close.complete
[2025-04-11 15:31:39] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:31:39] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea6ec10>
[2025-04-11 15:31:39] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:31:39] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea6e050>
[2025-04-11 15:31:39] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:31:39] send_request_headers.complete
[2025-04-11 15:31:39] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:31:39] send_request_body.complete
[2025-04-11 15:31:39] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:31:40] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:31:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'651'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_0bfd87845d6fee769255525abed376d7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=xnHqmZQwrqm.DwGo8hp.Qzfsr4olSWSNaS3XQOg0c_o-1744356700-1.0.1.1-sbwoYLTEx18cIj6hOXXyFW4hRTWUctKN2.QdClZghRsHE8eNKH9n5mGmrPfOtA_q._XPPcEOzgbxNLaDxXL6uZEw2t14xUdTbIG3sQzuVDo; path=/; expires=Fri, 11-Apr-25 08:01:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8c91abb12a9ad-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:31:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:31:40] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:31:40] receive_response_body.complete
[2025-04-11 15:31:40] response_closed.started
[2025-04-11 15:31:40] response_closed.complete
[2025-04-11 15:31:40] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:31:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '651', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_0bfd87845d6fee769255525abed376d7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=xnHqmZQwrqm.DwGo8hp.Qzfsr4olSWSNaS3XQOg0c_o-1744356700-1.0.1.1-sbwoYLTEx18cIj6hOXXyFW4hRTWUctKN2.QdClZghRsHE8eNKH9n5mGmrPfOtA_q._XPPcEOzgbxNLaDxXL6uZEw2t14xUdTbIG3sQzuVDo; path=/; expires=Fri, 11-Apr-25 08:01:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8c91abb12a9ad-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:31:40] request_id: req_0bfd87845d6fee769255525abed376d7
[2025-04-11 15:31:40] [SIM] News Sentiment: BUY
[2025-04-11 15:31:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:31:40] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:31:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:31:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:31:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:31:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:31:41] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:31:41] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "dcb7280cc11c4147ad05"
}
[2025-04-11 15:31:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:31:41] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:31:41] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:36:41] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:36:41] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:36:41] close.started
[2025-04-11 15:36:41] close.complete
[2025-04-11 15:36:41] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:36:41] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea80990>
[2025-04-11 15:36:41] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:36:41] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea80bd0>
[2025-04-11 15:36:41] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:36:41] send_request_headers.complete
[2025-04-11 15:36:41] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:36:41] send_request_body.complete
[2025-04-11 15:36:41] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:36:42] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:36:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'619'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_30f0cc7fde4a9ba04e85afbbf2cece2d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8d07bc8b34a9f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:36:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:36:42] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:36:42] receive_response_body.complete
[2025-04-11 15:36:42] response_closed.started
[2025-04-11 15:36:42] response_closed.complete
[2025-04-11 15:36:42] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:36:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '619', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_30f0cc7fde4a9ba04e85afbbf2cece2d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8d07bc8b34a9f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:36:42] request_id: req_30f0cc7fde4a9ba04e85afbbf2cece2d
[2025-04-11 15:36:42] [SIM] News Sentiment: BUY
[2025-04-11 15:36:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:36:42] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:36:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:36:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 15:36:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:36:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 15:36:43] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:36:43] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5de8cb2ced0b4fbc9c99"
}
[2025-04-11 15:36:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:36:43] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:36:43] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:41:43] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:41:43] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:41:43] close.started
[2025-04-11 15:41:43] close.complete
[2025-04-11 15:41:43] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:41:43] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea83310>
[2025-04-11 15:41:43] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:41:43] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea80e10>
[2025-04-11 15:41:43] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:41:43] send_request_headers.complete
[2025-04-11 15:41:43] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:41:43] send_request_body.complete
[2025-04-11 15:41:43] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:41:44] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:41:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'406'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_1f970c1ac0ec7ff1611a29294c921c15'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8d7dc79d95706-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:41:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:41:44] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:41:44] receive_response_body.complete
[2025-04-11 15:41:44] response_closed.started
[2025-04-11 15:41:44] response_closed.complete
[2025-04-11 15:41:44] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:41:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '406', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_1f970c1ac0ec7ff1611a29294c921c15', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8d7dc79d95706-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:41:44] request_id: req_1f970c1ac0ec7ff1611a29294c921c15
[2025-04-11 15:41:44] [SIM] News Sentiment: BUY
[2025-04-11 15:41:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:41:44] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:41:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:41:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 15:41:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:41:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 15:41:45] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:41:45] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6fa536eb9b4a460db3c0"
}
[2025-04-11 15:41:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:41:45] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:41:45] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:46:45] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:46:45] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:46:45] close.started
[2025-04-11 15:46:45] close.complete
[2025-04-11 15:46:45] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:46:45] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea81210>
[2025-04-11 15:46:45] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:46:45] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea80f50>
[2025-04-11 15:46:45] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:46:45] send_request_headers.complete
[2025-04-11 15:46:45] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:46:45] send_request_body.complete
[2025-04-11 15:46:45] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:46:46] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:46:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'394'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_872b7be080420779f9a9853ef242e4e1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=S7mXsneWp43Oy70CbpEYIaz8TJX1tfTI2StrM3q3gmo-1744357606-1.0.1.1-4AarDi_FEzfZtuVxGfIns2X2_fXbvcc6hLJ.hG2JihHYJQ14OP4XZckzYXJ..0h1oR13SLgyRWWLfedrP4svA7Arg_9A47Ul.4Kra1dTBlE; path=/; expires=Fri, 11-Apr-25 08:16:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8df3bd8daa9c8-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:46:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:46:46] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:46:46] receive_response_body.complete
[2025-04-11 15:46:46] response_closed.started
[2025-04-11 15:46:46] response_closed.complete
[2025-04-11 15:46:46] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:46:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '394', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_872b7be080420779f9a9853ef242e4e1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=S7mXsneWp43Oy70CbpEYIaz8TJX1tfTI2StrM3q3gmo-1744357606-1.0.1.1-4AarDi_FEzfZtuVxGfIns2X2_fXbvcc6hLJ.hG2JihHYJQ14OP4XZckzYXJ..0h1oR13SLgyRWWLfedrP4svA7Arg_9A47Ul.4Kra1dTBlE; path=/; expires=Fri, 11-Apr-25 08:16:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8df3bd8daa9c8-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:46:46] request_id: req_872b7be080420779f9a9853ef242e4e1
[2025-04-11 15:46:46] [SIM] News Sentiment: BUY
[2025-04-11 15:46:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:46:46] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:46:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:46:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:46:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:46:47] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:46:47] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:46:47] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "677162f2b26e4b24a9c3"
}
[2025-04-11 15:46:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:46:47] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:46:47] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:51:47] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:51:47] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:51:47] close.started
[2025-04-11 15:51:47] close.complete
[2025-04-11 15:51:47] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:51:47] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea88750>
[2025-04-11 15:51:47] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:51:47] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea88350>
[2025-04-11 15:51:47] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:51:47] send_request_headers.complete
[2025-04-11 15:51:47] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:51:47] send_request_body.complete
[2025-04-11 15:51:47] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:51:48] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:51:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'442'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_aa26350058b45c6e5aacbd3c69fb5341'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8e69a7f6d8457-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:51:48] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:51:48] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:51:48] receive_response_body.complete
[2025-04-11 15:51:48] response_closed.started
[2025-04-11 15:51:48] response_closed.complete
[2025-04-11 15:51:48] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:51:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '442', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_aa26350058b45c6e5aacbd3c69fb5341', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8e69a7f6d8457-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:51:48] request_id: req_aa26350058b45c6e5aacbd3c69fb5341
[2025-04-11 15:51:48] [SIM] News Sentiment: BUY
[2025-04-11 15:51:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:51:48] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:51:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:51:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:51:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:51:49] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 15:51:49] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:51:49] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7531178d141a41438b07"
}
[2025-04-11 15:51:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:51:49] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:51:49] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 15:56:49] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 15:56:49] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 15:56:49] close.started
[2025-04-11 15:56:49] close.complete
[2025-04-11 15:56:49] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 15:56:49] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea94390>
[2025-04-11 15:56:49] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 15:56:49] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea94bd0>
[2025-04-11 15:56:49] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 15:56:49] send_request_headers.complete
[2025-04-11 15:56:49] send_request_body.started request=<Request [b'POST']>
[2025-04-11 15:56:49] send_request_body.complete
[2025-04-11 15:56:49] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 15:56:50] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 07:56:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'507'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_04a2560aa32c50176a4ae2b56c3b1218'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8edf98b984aa4-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 15:56:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 15:56:50] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 15:56:50] receive_response_body.complete
[2025-04-11 15:56:50] response_closed.started
[2025-04-11 15:56:50] response_closed.complete
[2025-04-11 15:56:50] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 07:56:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '507', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_04a2560aa32c50176a4ae2b56c3b1218', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8edf98b984aa4-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 15:56:50] request_id: req_04a2560aa32c50176a4ae2b56c3b1218
[2025-04-11 15:56:50] [SIM] News Sentiment: BUY
[2025-04-11 15:56:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:56:50] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 15:56:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:56:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:56:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:56:51] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 15:56:51] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 15:56:51] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6dc9c7c74a65491b801b"
}
[2025-04-11 15:56:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 15:56:51] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 15:56:51] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:01:51] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:01:51] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:01:51] close.started
[2025-04-11 16:01:51] close.complete
[2025-04-11 16:01:51] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:01:51] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea94f50>
[2025-04-11 16:01:51] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:01:51] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea97e10>
[2025-04-11 16:01:51] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:01:51] send_request_headers.complete
[2025-04-11 16:01:51] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:01:51] send_request_body.complete
[2025-04-11 16:01:51] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:01:54] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:01:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3088'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_8f4599eed8710629e82212ae1d07eab5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=hDpg8xpQmvz41E2CC2Jpo_IF3hZtVW1RCz3fm.ZxS5g-1744358514-1.0.1.1-sLFM80YvnjK7m9SOzXod1Qgru4BjYOKVHbtm4H4rM6kwqkrWEWbkW93GvqULznijUL1nDwQhwxCoLwR_EHqL3ZyZiJXXMONLKBaft.hu9Ow; path=/; expires=Fri, 11-Apr-25 08:31:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8f5599e796b78-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:01:54] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:01:54] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:01:54] receive_response_body.complete
[2025-04-11 16:01:54] response_closed.started
[2025-04-11 16:01:54] response_closed.complete
[2025-04-11 16:01:54] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:01:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3088', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_8f4599eed8710629e82212ae1d07eab5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=hDpg8xpQmvz41E2CC2Jpo_IF3hZtVW1RCz3fm.ZxS5g-1744358514-1.0.1.1-sLFM80YvnjK7m9SOzXod1Qgru4BjYOKVHbtm4H4rM6kwqkrWEWbkW93GvqULznijUL1nDwQhwxCoLwR_EHqL3ZyZiJXXMONLKBaft.hu9Ow; path=/; expires=Fri, 11-Apr-25 08:31:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8f5599e796b78-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:01:54] request_id: req_8f4599eed8710629e82212ae1d07eab5
[2025-04-11 16:01:54] [SIM] News Sentiment: BUY
[2025-04-11 16:01:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:01:55] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:01:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:01:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:01:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:01:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:01:55] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:01:55] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bae19441600f479ea216"
}
[2025-04-11 16:01:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:01:56] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:01:56] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:06:56] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:06:56] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:06:56] close.started
[2025-04-11 16:06:56] close.complete
[2025-04-11 16:06:56] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:06:56] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea9c710>
[2025-04-11 16:06:56] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:06:56] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea9c1d0>
[2025-04-11 16:06:56] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:06:56] send_request_headers.complete
[2025-04-11 16:06:56] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:06:56] send_request_body.complete
[2025-04-11 16:06:56] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:06:56] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:06:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'351'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_279fc06343e3bca70f4485813bba4a16'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e8fcc90e7d4a28-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:06:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:06:56] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:06:56] receive_response_body.complete
[2025-04-11 16:06:56] response_closed.started
[2025-04-11 16:06:56] response_closed.complete
[2025-04-11 16:06:56] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:06:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '351', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_279fc06343e3bca70f4485813bba4a16', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e8fcc90e7d4a28-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:06:56] request_id: req_279fc06343e3bca70f4485813bba4a16
[2025-04-11 16:06:56] [SIM] News Sentiment: BUY
[2025-04-11 16:06:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:06:57] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:06:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:06:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:06:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:06:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:06:57] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:06:57] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7cf81f646e5d4ec8b44d"
}
[2025-04-11 16:06:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:06:57] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:06:57] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:11:57] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:11:57] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:11:57] close.started
[2025-04-11 16:11:57] close.complete
[2025-04-11 16:11:57] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:11:57] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea95bd0>
[2025-04-11 16:11:57] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:11:57] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea95dd0>
[2025-04-11 16:11:57] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:11:57] send_request_headers.complete
[2025-04-11 16:11:57] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:11:57] send_request_body.complete
[2025-04-11 16:11:57] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:11:59] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:11:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'845'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_71a0b3ecfe1c2df2d59347aa1982f768'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e904277f65a367-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:11:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:11:59] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:11:59] receive_response_body.complete
[2025-04-11 16:11:59] response_closed.started
[2025-04-11 16:11:59] response_closed.complete
[2025-04-11 16:11:59] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:11:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '845', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_71a0b3ecfe1c2df2d59347aa1982f768', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e904277f65a367-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:11:59] request_id: req_71a0b3ecfe1c2df2d59347aa1982f768
[2025-04-11 16:11:59] [SIM] News Sentiment: BUY
[2025-04-11 16:11:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:11:59] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:11:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:11:59] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:11:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:12:00] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:12:00] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:12:00] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "0c497bbe74f6462eb857"
}
[2025-04-11 16:12:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:12:00] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:12:00] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:17:00] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:17:00] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:17:00] close.started
[2025-04-11 16:17:00] close.complete
[2025-04-11 16:17:00] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:17:00] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea965d0>
[2025-04-11 16:17:00] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:17:00] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea947d0>
[2025-04-11 16:17:00] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:17:00] send_request_headers.complete
[2025-04-11 16:17:00] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:17:00] send_request_body.complete
[2025-04-11 16:17:00] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:17:00] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:17:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'279'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_d29d8c7a5a66f5657923f858d746e3fc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=8kN34xVblJIB..maJwb7HFvP7VKeI2XLeMgJY.CNTjI-1744359420-1.0.1.1-QbVnbIGZVsfGSrcoPgscj0hHT1uyhHT_lViAjfQdJVM44KJnjw7lZYdnyogvQ5POAE1JBk9TFJJEA6O2fI._NEuG8ISDHMgqAcEOvJhhxG8; path=/; expires=Fri, 11-Apr-25 08:47:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e90b89890e6b6c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:17:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:17:00] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:17:00] receive_response_body.complete
[2025-04-11 16:17:00] response_closed.started
[2025-04-11 16:17:00] response_closed.complete
[2025-04-11 16:17:00] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:17:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '279', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_d29d8c7a5a66f5657923f858d746e3fc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=8kN34xVblJIB..maJwb7HFvP7VKeI2XLeMgJY.CNTjI-1744359420-1.0.1.1-QbVnbIGZVsfGSrcoPgscj0hHT1uyhHT_lViAjfQdJVM44KJnjw7lZYdnyogvQ5POAE1JBk9TFJJEA6O2fI._NEuG8ISDHMgqAcEOvJhhxG8; path=/; expires=Fri, 11-Apr-25 08:47:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e90b89890e6b6c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:17:00] request_id: req_d29d8c7a5a66f5657923f858d746e3fc
[2025-04-11 16:17:00] [SIM] News Sentiment: BUY
[2025-04-11 16:17:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:17:01] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:17:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:17:01] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:17:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:17:01] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 16:17:01] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:17:01] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "cb0060ed1be84b30b62c"
}
[2025-04-11 16:17:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:17:02] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:17:02] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:22:02] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:22:02] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:22:02] close.started
[2025-04-11 16:22:02] close.complete
[2025-04-11 16:22:02] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:22:02] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea7ba10>
[2025-04-11 16:22:02] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:22:02] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea78950>
[2025-04-11 16:22:02] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:22:02] send_request_headers.complete
[2025-04-11 16:22:02] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:22:02] send_request_body.complete
[2025-04-11 16:22:02] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:22:02] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:22:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'300'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_9c21a45413a0538bd3d288349b4954ed'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e912e82df74a90-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:22:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:22:02] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:22:02] receive_response_body.complete
[2025-04-11 16:22:02] response_closed.started
[2025-04-11 16:22:02] response_closed.complete
[2025-04-11 16:22:02] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:22:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '300', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_9c21a45413a0538bd3d288349b4954ed', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e912e82df74a90-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:22:02] request_id: req_9c21a45413a0538bd3d288349b4954ed
[2025-04-11 16:22:02] [SIM] News Sentiment: BUY
[2025-04-11 16:22:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:22:03] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:22:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:22:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:22:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:22:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:22:03] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:22:03] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "906c35df33a74b47bce9"
}
[2025-04-11 16:22:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:22:03] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:22:03] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:27:04] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:27:04] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:27:04] close.started
[2025-04-11 16:27:04] close.complete
[2025-04-11 16:27:04] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:27:04] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea9df50>
[2025-04-11 16:27:04] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:27:04] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea81310>
[2025-04-11 16:27:04] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:27:04] send_request_headers.complete
[2025-04-11 16:27:04] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:27:04] send_request_body.complete
[2025-04-11 16:27:04] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:27:04] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:27:04 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'690'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_88e39bc52dc34e776f6697abe68451e4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e91a463aac8f09-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:27:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:27:04] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:27:04] receive_response_body.complete
[2025-04-11 16:27:04] response_closed.started
[2025-04-11 16:27:04] response_closed.complete
[2025-04-11 16:27:04] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:27:04 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '690', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_88e39bc52dc34e776f6697abe68451e4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e91a463aac8f09-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:27:04] request_id: req_88e39bc52dc34e776f6697abe68451e4
[2025-04-11 16:27:04] [SIM] News Sentiment: BUY
[2025-04-11 16:27:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:27:05] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:27:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:27:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:27:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:27:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:27:05] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:27:05] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3655368317f14a729492"
}
[2025-04-11 16:27:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:27:06] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:27:06] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:32:06] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:32:06] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:32:06] close.started
[2025-04-11 16:32:06] close.complete
[2025-04-11 16:32:06] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:32:06] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea9cb10>
[2025-04-11 16:32:06] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:32:06] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea9cf90>
[2025-04-11 16:32:06] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:32:06] send_request_headers.complete
[2025-04-11 16:32:06] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:32:06] send_request_body.complete
[2025-04-11 16:32:06] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:32:06] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:32:06 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'359'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_a886716fc233861985883ee96a8b9004'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=nByTScrj1LZb1uCyKYLUDN9n_YSyGU0mLe.U65rvbmY-1744360326-1.0.1.1-RY9aJ0J2Sz.JNfJ0jcixACaBHUP7i1mOnP6sv9WBJVtP8utA5hcnwftLjUnWcFb5T9cYH.JRVkgeiN8IfQ7mZJdwwYcSZEj7Bh_s7tAuEDY; path=/; expires=Fri, 11-Apr-25 09:02:06 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e921a6a99b49fd-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:32:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:32:06] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:32:06] receive_response_body.complete
[2025-04-11 16:32:06] response_closed.started
[2025-04-11 16:32:06] response_closed.complete
[2025-04-11 16:32:06] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:32:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '359', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_a886716fc233861985883ee96a8b9004', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=nByTScrj1LZb1uCyKYLUDN9n_YSyGU0mLe.U65rvbmY-1744360326-1.0.1.1-RY9aJ0J2Sz.JNfJ0jcixACaBHUP7i1mOnP6sv9WBJVtP8utA5hcnwftLjUnWcFb5T9cYH.JRVkgeiN8IfQ7mZJdwwYcSZEj7Bh_s7tAuEDY; path=/; expires=Fri, 11-Apr-25 09:02:06 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e921a6a99b49fd-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:32:06] request_id: req_a886716fc233861985883ee96a8b9004
[2025-04-11 16:32:06] [SIM] News Sentiment: BUY
[2025-04-11 16:32:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:32:07] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:32:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:32:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:32:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:32:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:32:07] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:32:07] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bc5e4a1a45ce45578b1d"
}
[2025-04-11 16:32:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:32:08] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:32:08] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:37:08] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:37:08] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:37:08] close.started
[2025-04-11 16:37:08] close.complete
[2025-04-11 16:37:08] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:37:08] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea98710>
[2025-04-11 16:37:08] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:37:08] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea99790>
[2025-04-11 16:37:08] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:37:08] send_request_headers.complete
[2025-04-11 16:37:08] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:37:08] send_request_body.complete
[2025-04-11 16:37:08] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:37:08] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:37:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'331'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_d7d7dd1ad1a2ca9a26e9d75b83e958d4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e929056efd826a-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:37:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:37:08] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:37:08] receive_response_body.complete
[2025-04-11 16:37:08] response_closed.started
[2025-04-11 16:37:08] response_closed.complete
[2025-04-11 16:37:08] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:37:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '331', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_d7d7dd1ad1a2ca9a26e9d75b83e958d4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e929056efd826a-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:37:08] request_id: req_d7d7dd1ad1a2ca9a26e9d75b83e958d4
[2025-04-11 16:37:08] [SIM] News Sentiment: BUY
[2025-04-11 16:37:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:37:08] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:37:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:37:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 16:37:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:37:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:37:09] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:37:09] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bc80b7fce7024d96a48f"
}
[2025-04-11 16:37:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:37:09] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:37:09] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:42:09] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:42:09] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:42:09] close.started
[2025-04-11 16:42:09] close.complete
[2025-04-11 16:42:09] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:42:09] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea9df50>
[2025-04-11 16:42:09] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:42:09] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea9dd50>
[2025-04-11 16:42:09] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:42:09] send_request_headers.complete
[2025-04-11 16:42:09] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:42:09] send_request_body.complete
[2025-04-11 16:42:09] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:42:10] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:42:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'384'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_443c0045321c92f5b85a63fa52acd14b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e93063fdab4a86-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:42:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:42:10] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:42:10] receive_response_body.complete
[2025-04-11 16:42:10] response_closed.started
[2025-04-11 16:42:10] response_closed.complete
[2025-04-11 16:42:10] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:42:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '384', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_443c0045321c92f5b85a63fa52acd14b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e93063fdab4a86-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:42:10] request_id: req_443c0045321c92f5b85a63fa52acd14b
[2025-04-11 16:42:10] [SIM] News Sentiment: BUY
[2025-04-11 16:42:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:42:10] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:42:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:42:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:42:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:42:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:42:11] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:42:11] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "91ad0e2301a14ac9835c"
}
[2025-04-11 16:42:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:42:11] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:42:11] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:47:11] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:47:11] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:47:11] close.started
[2025-04-11 16:47:11] close.complete
[2025-04-11 16:47:11] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:47:11] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea81790>
[2025-04-11 16:47:11] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:47:11] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea9d9d0>
[2025-04-11 16:47:11] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:47:11] send_request_headers.complete
[2025-04-11 16:47:11] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:47:11] send_request_body.complete
[2025-04-11 16:47:11] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:47:12] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:47:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'486'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_056677dd1a16382975e23c2754406d83'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=7.t__WXA5EyruEDxzKSXpP3ZVIkKm.4Oqo.q_Q6STWA-1744361232-1.0.1.1-wGth073PTQC9Plf43m0OOy5de2aSRHN6trMxcaWp1bYF1jC38j8OkBuD.xe7.KH7kTYkpbSQWGoEZL7rNbLg98jB2MdX0fzqv5QXe9yiEMI; path=/; expires=Fri, 11-Apr-25 09:17:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e937c2bdd256f4-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:47:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:47:12] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:47:12] receive_response_body.complete
[2025-04-11 16:47:12] response_closed.started
[2025-04-11 16:47:12] response_closed.complete
[2025-04-11 16:47:12] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:47:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '486', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_056677dd1a16382975e23c2754406d83', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=7.t__WXA5EyruEDxzKSXpP3ZVIkKm.4Oqo.q_Q6STWA-1744361232-1.0.1.1-wGth073PTQC9Plf43m0OOy5de2aSRHN6trMxcaWp1bYF1jC38j8OkBuD.xe7.KH7kTYkpbSQWGoEZL7rNbLg98jB2MdX0fzqv5QXe9yiEMI; path=/; expires=Fri, 11-Apr-25 09:17:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e937c2bdd256f4-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:47:12] request_id: req_056677dd1a16382975e23c2754406d83
[2025-04-11 16:47:12] [SIM] News Sentiment: BUY
[2025-04-11 16:47:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:47:12] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:47:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:47:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:47:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:47:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:47:13] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:47:13] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "38ac4c83deda43db8b67"
}
[2025-04-11 16:47:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:47:13] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:47:13] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:52:13] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:52:13] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:52:13] close.started
[2025-04-11 16:52:13] close.complete
[2025-04-11 16:52:13] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:52:13] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea8b950>
[2025-04-11 16:52:13] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:52:13] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea898d0>
[2025-04-11 16:52:13] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:52:13] send_request_headers.complete
[2025-04-11 16:52:13] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:52:13] send_request_body.complete
[2025-04-11 16:52:13] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:52:14] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:52:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'373'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_0bc31af071e9871ae93ae4b5bbff5183'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e93f226c5f56ef-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:52:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:52:14] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:52:14] receive_response_body.complete
[2025-04-11 16:52:14] response_closed.started
[2025-04-11 16:52:14] response_closed.complete
[2025-04-11 16:52:14] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:52:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '373', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_0bc31af071e9871ae93ae4b5bbff5183', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e93f226c5f56ef-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:52:14] request_id: req_0bc31af071e9871ae93ae4b5bbff5183
[2025-04-11 16:52:14] [SIM] News Sentiment: BUY
[2025-04-11 16:52:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:52:14] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:52:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:52:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:52:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:52:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:52:15] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:52:15] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d0fe8e7f77a04037b156"
}
[2025-04-11 16:52:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:52:15] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:52:15] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 16:57:15] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 16:57:15] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 16:57:15] close.started
[2025-04-11 16:57:15] close.complete
[2025-04-11 16:57:15] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 16:57:15] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea97490>
[2025-04-11 16:57:15] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 16:57:15] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea77690>
[2025-04-11 16:57:15] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 16:57:15] send_request_headers.complete
[2025-04-11 16:57:15] send_request_body.started request=<Request [b'POST']>
[2025-04-11 16:57:15] send_request_body.complete
[2025-04-11 16:57:15] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 16:57:16] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 08:57:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'260'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_abfcd5ad82c2e6af7e763242569f4150'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e946813afd8f1b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 16:57:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 16:57:16] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 16:57:16] receive_response_body.complete
[2025-04-11 16:57:16] response_closed.started
[2025-04-11 16:57:16] response_closed.complete
[2025-04-11 16:57:16] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 08:57:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '260', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_abfcd5ad82c2e6af7e763242569f4150', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e946813afd8f1b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 16:57:16] request_id: req_abfcd5ad82c2e6af7e763242569f4150
[2025-04-11 16:57:16] [SIM] News Sentiment: BUY
[2025-04-11 16:57:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:57:16] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 16:57:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:57:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:57:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:57:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 16:57:17] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 16:57:17] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a29ee91ae34a46dcae4e"
}
[2025-04-11 16:57:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 16:57:17] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 16:57:17] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 17:02:17] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 17:02:17] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:02:17] close.started
[2025-04-11 17:02:17] close.complete
[2025-04-11 17:02:17] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:02:17] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea95010>
[2025-04-11 17:02:17] start_tls.started ssl_context=<ssl.SSLContext object at 0x7ff1ceb8e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:02:17] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7ff1cea97fd0>
[2025-04-11 17:02:17] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:02:17] send_request_headers.complete
[2025-04-11 17:02:17] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:02:17] send_request_body.complete
[2025-04-11 17:02:17] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:02:18] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:02:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'350'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_f055de0edcbcb6dc86e955d1ee7d0756'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=LlxVquBoxFIZmupk9qKKVoIdPUY4iiP3lYt3SrKrV1A-1744362138-1.0.1.1-pvw_STj1qFxVhuQJ7YbynwNrD.JZfCpsn0Ag.iXZyGf9W._2pAEE8jAJJGJ8H6RP8Xv0uVkIh8Oqf_DyR9B1zoquEft.D4tdMAcmrEphBbY; path=/; expires=Fri, 11-Apr-25 09:32:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e94ddf59126a81-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:02:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:02:18] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:02:18] receive_response_body.complete
[2025-04-11 17:02:18] response_closed.started
[2025-04-11 17:02:18] response_closed.complete
[2025-04-11 17:02:18] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 09:02:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '350', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_f055de0edcbcb6dc86e955d1ee7d0756', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=LlxVquBoxFIZmupk9qKKVoIdPUY4iiP3lYt3SrKrV1A-1744362138-1.0.1.1-pvw_STj1qFxVhuQJ7YbynwNrD.JZfCpsn0Ag.iXZyGf9W._2pAEE8jAJJGJ8H6RP8Xv0uVkIh8Oqf_DyR9B1zoquEft.D4tdMAcmrEphBbY; path=/; expires=Fri, 11-Apr-25 09:32:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e94ddf59126a81-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 17:02:18] request_id: req_f055de0edcbcb6dc86e955d1ee7d0756
[2025-04-11 17:02:18] [SIM] News Sentiment: BUY
[2025-04-11 17:02:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:02:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:02:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:02:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:02:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:02:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:02:19] ❌ 無法取得 minStopDistance：'minStopDistance'
[2025-04-11 17:02:19] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 3,
  "stopDistance": 1,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5208c4dbe01d4c2a977a"
}
[2025-04-11 17:02:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:02:19] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:02:19] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[🧪 測試觀察] 🔄 開始測試 auto_trading_unified_sim.py v1.2.7
nohup: ignoring input
[2025-04-11 17:05:41] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.7 Final
[2025-04-11 17:05:41] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_1705.zip
[2025-04-11 17:05:41] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 17:05:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:05:41] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 17:05:41] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 17:05:41] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:05:41] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:05:41] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f79ff50>
[2025-04-11 17:05:41] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f452f90a720> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:05:41] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f79f750>
[2025-04-11 17:05:41] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:05:41] send_request_headers.complete
[2025-04-11 17:05:41] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:05:41] send_request_body.complete
[2025-04-11 17:05:41] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:05:42] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:05:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'574'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_ac8417e709f4a43e6ac104773995d59c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=L9QjpKaZaJxp_FrSWft1uDhLXBWWFxFcHFBgnnQzP1A-1744362342-1.0.1.1-9HEA4xJu60.ZO6B9ezX73LDHC16omSABwKrEIt9UdMnZqD5kW2naLNoa9pTpPgT7sw3g.E5t.SXfwW8BFMqFSSQzSLcdOO40is.vhKV.KRw; path=/; expires=Fri, 11-Apr-25 09:35:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=RwL_Ba3BfesyLXrBRf6lcmO.yEI7W79.DNjgChLcZ9E-1744362342224-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e952da1f4c4a8b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:05:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:05:42] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:05:42] receive_response_body.complete
[2025-04-11 17:05:42] response_closed.started
[2025-04-11 17:05:42] response_closed.complete
[2025-04-11 17:05:42] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 09:05:42 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '574'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9967'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '198ms'), ('x-request-id', 'req_ac8417e709f4a43e6ac104773995d59c'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=L9QjpKaZaJxp_FrSWft1uDhLXBWWFxFcHFBgnnQzP1A-1744362342-1.0.1.1-9HEA4xJu60.ZO6B9ezX73LDHC16omSABwKrEIt9UdMnZqD5kW2naLNoa9pTpPgT7sw3g.E5t.SXfwW8BFMqFSSQzSLcdOO40is.vhKV.KRw; path=/; expires=Fri, 11-Apr-25 09:35:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=RwL_Ba3BfesyLXrBRf6lcmO.yEI7W79.DNjgChLcZ9E-1744362342224-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e952da1f4c4a8b-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 17:05:42] request_id: req_ac8417e709f4a43e6ac104773995d59c
[2025-04-11 17:05:42] [SIM] News Sentiment: BUY
[2025-04-11 17:05:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:05:42] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:05:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:05:42] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:05:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:05:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:05:43] ❌ 無法取得 minStopDistance：'minStopDistance'，使用 fallback tick 計算
[2025-04-11 17:05:43] [FALLBACK] Tick-based stopDistance used: 0.001
[2025-04-11 17:05:43] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.003,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9d980a089d334428a88d"
}
[2025-04-11 17:05:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:05:43] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:05:43] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 17:10:43] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 17:10:43] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:10:43] close.started
[2025-04-11 17:10:43] close.complete
[2025-04-11 17:10:43] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:10:43] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7bc310>
[2025-04-11 17:10:43] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f452f90a720> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:10:43] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7bcdd0>
[2025-04-11 17:10:43] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:10:43] send_request_headers.complete
[2025-04-11 17:10:43] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:10:43] send_request_body.complete
[2025-04-11 17:10:43] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:10:44] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:10:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'359'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_5365310d3e85f94098970fe2018e8ca2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e95a39ea344a4d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:10:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:10:44] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:10:44] receive_response_body.complete
[2025-04-11 17:10:44] response_closed.started
[2025-04-11 17:10:44] response_closed.complete
[2025-04-11 17:10:44] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 09:10:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '359', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_5365310d3e85f94098970fe2018e8ca2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e95a39ea344a4d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 17:10:44] request_id: req_5365310d3e85f94098970fe2018e8ca2
[2025-04-11 17:10:44] [SIM] News Sentiment: BUY
[2025-04-11 17:10:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:10:44] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:10:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:10:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:10:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:10:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:10:45] ❌ 無法取得 minStopDistance：'minStopDistance'，使用 fallback tick 計算
[2025-04-11 17:10:45] [FALLBACK] Tick-based stopDistance used: 0.001
[2025-04-11 17:10:45] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.003,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5cea802e4ba140ee8f30"
}
[2025-04-11 17:10:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:10:45] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:10:45] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 17:15:45] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 17:15:45] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:15:45] close.started
[2025-04-11 17:15:45] close.complete
[2025-04-11 17:15:45] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:15:45] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7bed90>
[2025-04-11 17:15:45] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f452f90a720> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:15:45] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7bf8d0>
[2025-04-11 17:15:45] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:15:45] send_request_headers.complete
[2025-04-11 17:15:45] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:15:45] send_request_body.complete
[2025-04-11 17:15:45] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:15:45] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:15:45 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'332'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_bb1c95410d308ba8f78716c3b6d010ea'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e961987ee2a35b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:15:45] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:15:45] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:15:45] receive_response_body.complete
[2025-04-11 17:15:45] response_closed.started
[2025-04-11 17:15:45] response_closed.complete
[2025-04-11 17:15:45] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 09:15:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '332', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_bb1c95410d308ba8f78716c3b6d010ea', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e961987ee2a35b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 17:15:45] request_id: req_bb1c95410d308ba8f78716c3b6d010ea
[2025-04-11 17:15:45] [SIM] News Sentiment: BUY
[2025-04-11 17:15:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:15:46] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:15:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:15:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:15:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:15:46] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:15:46] ❌ 無法取得 minStopDistance：'minStopDistance'，使用 fallback tick 計算
[2025-04-11 17:15:46] [FALLBACK] Tick-based stopDistance used: 0.001
[2025-04-11 17:15:46] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.003,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "c09bd911427c40879919"
}
[2025-04-11 17:15:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:15:47] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:15:47] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 17:20:47] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 17:20:47] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:20:47] close.started
[2025-04-11 17:20:47] close.complete
[2025-04-11 17:20:47] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:20:47] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7c6350>
[2025-04-11 17:20:47] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f452f90a720> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:20:47] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7c4110>
[2025-04-11 17:20:47] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:20:47] send_request_headers.complete
[2025-04-11 17:20:47] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:20:47] send_request_body.complete
[2025-04-11 17:20:47] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:20:47] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:20:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'426'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_2e537f3b2701fe9a6967bd8f9e0a9115'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=lmtd1Yt7V9GHjO8jGI0rya4CLGWb6ooJTeKV5.raDpM-1744363247-1.0.1.1-HYMIzNP6WjvigJxa6uBNFOMmv2Gq4s2fXutYiHVwGQ1lU5ZRce8U8k56aHiXmUutQpLAQ1vhzhZLBE6dJ98lIL83bHb_TGbLiAVNGbK3aWc; path=/; expires=Fri, 11-Apr-25 09:50:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e968f6eca0826d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:20:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:20:47] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:20:47] receive_response_body.complete
[2025-04-11 17:20:47] response_closed.started
[2025-04-11 17:20:47] response_closed.complete
[2025-04-11 17:20:47] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 09:20:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '426', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_2e537f3b2701fe9a6967bd8f9e0a9115', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=lmtd1Yt7V9GHjO8jGI0rya4CLGWb6ooJTeKV5.raDpM-1744363247-1.0.1.1-HYMIzNP6WjvigJxa6uBNFOMmv2Gq4s2fXutYiHVwGQ1lU5ZRce8U8k56aHiXmUutQpLAQ1vhzhZLBE6dJ98lIL83bHb_TGbLiAVNGbK3aWc; path=/; expires=Fri, 11-Apr-25 09:50:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e968f6eca0826d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 17:20:47] request_id: req_2e537f3b2701fe9a6967bd8f9e0a9115
[2025-04-11 17:20:47] [SIM] News Sentiment: BUY
[2025-04-11 17:20:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:20:48] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:20:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:20:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:20:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:20:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:20:48] ❌ 無法取得 minStopDistance：'minStopDistance'，使用 fallback tick 計算
[2025-04-11 17:20:48] [FALLBACK] Tick-based stopDistance used: 0.001
[2025-04-11 17:20:48] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.003,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "8317c09392e04266835c"
}
[2025-04-11 17:20:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:20:49] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:20:49] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 17:25:49] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 17:25:49] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:25:49] close.started
[2025-04-11 17:25:49] close.complete
[2025-04-11 17:25:49] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:25:49] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7bfd10>
[2025-04-11 17:25:49] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f452f90a720> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:25:49] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7bfc10>
[2025-04-11 17:25:49] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:25:49] send_request_headers.complete
[2025-04-11 17:25:49] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:25:49] send_request_body.complete
[2025-04-11 17:25:49] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:25:49] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:25:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'551'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_23b76eb301794e04698bb755d60dd4a0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e97055dccd4105-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:25:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:25:49] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:25:49] receive_response_body.complete
[2025-04-11 17:25:49] response_closed.started
[2025-04-11 17:25:49] response_closed.complete
[2025-04-11 17:25:49] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 09:25:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '551', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_23b76eb301794e04698bb755d60dd4a0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e97055dccd4105-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 17:25:49] request_id: req_23b76eb301794e04698bb755d60dd4a0
[2025-04-11 17:25:49] [SIM] News Sentiment: BUY
[2025-04-11 17:25:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:25:50] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:25:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:25:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:25:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:25:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:25:50] ❌ 無法取得 minStopDistance：'minStopDistance'，使用 fallback tick 計算
[2025-04-11 17:25:50] [FALLBACK] Tick-based stopDistance used: 0.001
[2025-04-11 17:25:50] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.003,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1330a37cf64348dfa954"
}
[2025-04-11 17:25:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:25:51] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:25:51] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 17:30:51] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'Gold continues to rise due to inflation concerns.'}], 'model': 'gpt-4'}}
[2025-04-11 17:30:51] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:30:51] close.started
[2025-04-11 17:30:51] close.complete
[2025-04-11 17:30:51] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:30:51] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7d0410>
[2025-04-11 17:30:51] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f452f90a720> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:30:51] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f452f7d2d50>
[2025-04-11 17:30:51] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:30:51] send_request_headers.complete
[2025-04-11 17:30:51] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:30:51] send_request_body.complete
[2025-04-11 17:30:51] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:30:51] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:30:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'333'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_52cd2f8479ea0da20cb2c35ab851efd0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e977b67c5a8285-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:30:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:30:51] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:30:51] receive_response_body.complete
[2025-04-11 17:30:51] response_closed.started
[2025-04-11 17:30:51] response_closed.complete
[2025-04-11 17:30:51] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 09:30:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '333', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9967', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '198ms', 'x-request-id': 'req_52cd2f8479ea0da20cb2c35ab851efd0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e977b67c5a8285-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 17:30:51] request_id: req_52cd2f8479ea0da20cb2c35ab851efd0
[2025-04-11 17:30:51] [SIM] News Sentiment: BUY
[2025-04-11 17:30:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:30:52] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:30:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:30:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:30:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:30:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:30:52] ❌ 無法取得 minStopDistance：'minStopDistance'，使用 fallback tick 計算
[2025-04-11 17:30:52] [FALLBACK] Tick-based stopDistance used: 0.001
[2025-04-11 17:30:52] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.003,
  "stopDistance": 0.001,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "b53931e0cfff4fc2be76"
}
[2025-04-11 17:30:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:30:53] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:30:53] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[🧪 測試觀察] 🔄 開始測試 auto_trading_unified_sim.py v1.2.8
nohup: ignoring input
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 123
    logging.info(f"🧾 下單 payload:
                 ^
SyntaxError: unterminated string literal (detected at line 123)
[🧪 測試觀察] 🔄 重新啟動 v1.2.8 修正後版本
nohup: ignoring input
[2025-04-11 17:43:25] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.8-FallbackFix

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_1743.zip)
[2025-04-11 17:43:25] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_1743.zip
[2025-04-11 17:43:25] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 17:43:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:43:25] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 17:43:25] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 17:43:25] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:43:25] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:43:25] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766050190>
[2025-04-11 17:43:25] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:43:25] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766047f90>
[2025-04-11 17:43:25] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:43:25] send_request_headers.complete
[2025-04-11 17:43:25] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:43:25] send_request_body.complete
[2025-04-11 17:43:25] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:43:28] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:43:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2693'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_e0816ca2474699f86731efdaedcf30c8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=GOqkvxdUVJ.wo_dpyh752wsEubWFGuAmi97SrA05xnQ-1744364608-1.0.1.1-BVaifZmUP1YLCkEbZSrXGaRJwr5UOSTSccDfiETLrLzzoIjd51lxY087ydJpPG4NJ2ak5C_psYaUgPFWuETN6qSjQOdePxS5Z0apnpv4i28; path=/; expires=Fri, 11-Apr-25 10:13:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=jhj8J_HS8s2BUaUKdpC5ZpruYqlYldCVLTbwEGJwlDM-1744364608998-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e98a227db78f1e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:43:28] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:43:28] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:43:28] receive_response_body.complete
[2025-04-11 17:43:28] response_closed.started
[2025-04-11 17:43:28] response_closed.complete
[2025-04-11 17:43:28] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 09:43:28 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '2693'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9966'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '204ms'), ('x-request-id', 'req_e0816ca2474699f86731efdaedcf30c8'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=GOqkvxdUVJ.wo_dpyh752wsEubWFGuAmi97SrA05xnQ-1744364608-1.0.1.1-BVaifZmUP1YLCkEbZSrXGaRJwr5UOSTSccDfiETLrLzzoIjd51lxY087ydJpPG4NJ2ak5C_psYaUgPFWuETN6qSjQOdePxS5Z0apnpv4i28; path=/; expires=Fri, 11-Apr-25 10:13:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=jhj8J_HS8s2BUaUKdpC5ZpruYqlYldCVLTbwEGJwlDM-1744364608998-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92e98a227db78f1e-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 17:43:28] request_id: req_e0816ca2474699f86731efdaedcf30c8
[2025-04-11 17:43:28] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 17:43:28] [SIM] News Sentiment: BUY
[2025-04-11 17:43:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:43:29] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:43:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:43:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:43:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:43:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:43:30] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 17:43:30] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7eea4ba46a234e43b938"
}
[2025-04-11 17:43:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:43:30] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:43:30] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 17:48:30] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 17:48:30] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:48:30] close.started
[2025-04-11 17:48:30] close.complete
[2025-04-11 17:48:30] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:48:30] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766060850>
[2025-04-11 17:48:30] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:48:30] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766057590>
[2025-04-11 17:48:30] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:48:30] send_request_headers.complete
[2025-04-11 17:48:30] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:48:30] send_request_body.complete
[2025-04-11 17:48:30] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:48:33] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:48:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2849'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d4b732a236bf449dc44f536c8a01de18'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e991918a7c6a9e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:48:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:48:33] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:48:33] receive_response_body.complete
[2025-04-11 17:48:33] response_closed.started
[2025-04-11 17:48:33] response_closed.complete
[2025-04-11 17:48:33] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 09:48:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2849', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_d4b732a236bf449dc44f536c8a01de18', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e991918a7c6a9e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 17:48:33] request_id: req_d4b732a236bf449dc44f536c8a01de18
[2025-04-11 17:48:33] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 17:48:33] [SIM] News Sentiment: BUY
[2025-04-11 17:48:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:48:33] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:48:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:48:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:48:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:48:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:48:34] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 17:48:34] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f5980d3a10d04339aff3"
}
[2025-04-11 17:48:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:48:34] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:48:34] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 17:53:34] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 17:53:34] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:53:34] close.started
[2025-04-11 17:53:34] close.complete
[2025-04-11 17:53:34] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:53:34] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766062c10>
[2025-04-11 17:53:34] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:53:34] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766062450>
[2025-04-11 17:53:34] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:53:34] send_request_headers.complete
[2025-04-11 17:53:34] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:53:34] send_request_body.complete
[2025-04-11 17:53:34] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:53:36] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:53:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2104'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_7cb18de800506707e876c10855eefc03'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e998ffb8813138-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:53:36] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:53:36] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:53:36] receive_response_body.complete
[2025-04-11 17:53:36] response_closed.started
[2025-04-11 17:53:36] response_closed.complete
[2025-04-11 17:53:36] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 09:53:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2104', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_7cb18de800506707e876c10855eefc03', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e998ffb8813138-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 17:53:36] request_id: req_7cb18de800506707e876c10855eefc03
[2025-04-11 17:53:36] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 17:53:36] [SIM] News Sentiment: BUY
[2025-04-11 17:53:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:53:37] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:53:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:53:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:53:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:53:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:53:37] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 17:53:37] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "698d6c374bf34044a216"
}
[2025-04-11 17:53:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:53:38] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:53:38] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 17:58:38] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 17:58:38] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 17:58:38] close.started
[2025-04-11 17:58:38] close.complete
[2025-04-11 17:58:38] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 17:58:38] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766072b90>
[2025-04-11 17:58:38] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 17:58:38] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766072c10>
[2025-04-11 17:58:38] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 17:58:38] send_request_headers.complete
[2025-04-11 17:58:38] send_request_body.started request=<Request [b'POST']>
[2025-04-11 17:58:38] send_request_body.complete
[2025-04-11 17:58:38] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 17:58:38] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 09:58:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'311'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_efc649e46f83acbcc9b03fa40a3ade44'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=uSQTh47hkzjZQzp9CWCfUPyct0hDu72Sn5V2QrkMC88-1744365518-1.0.1.1-iYOAZha7Tv_h2ZX17z1peEavTOCF_Dzz95Q7ScCfxt5Jw1kwwDucCtm_r7JKp8Y72Sk7I1QXoTI_dgXwbOY6.rsLvzz6TgeNuBbitnwIQhE; path=/; expires=Fri, 11-Apr-25 10:28:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9a0698af23138-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 17:58:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 17:58:38] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 17:58:38] receive_response_body.complete
[2025-04-11 17:58:38] response_closed.started
[2025-04-11 17:58:38] response_closed.complete
[2025-04-11 17:58:38] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 09:58:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '311', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_efc649e46f83acbcc9b03fa40a3ade44', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=uSQTh47hkzjZQzp9CWCfUPyct0hDu72Sn5V2QrkMC88-1744365518-1.0.1.1-iYOAZha7Tv_h2ZX17z1peEavTOCF_Dzz95Q7ScCfxt5Jw1kwwDucCtm_r7JKp8Y72Sk7I1QXoTI_dgXwbOY6.rsLvzz6TgeNuBbitnwIQhE; path=/; expires=Fri, 11-Apr-25 10:28:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9a0698af23138-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 17:58:38] request_id: req_efc649e46f83acbcc9b03fa40a3ade44
[2025-04-11 17:58:38] [SIM] News Sentiment: SELL
[2025-04-11 17:58:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:58:39] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 17:58:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:58:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:58:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:58:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 17:58:39] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 17:58:39] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f4d11e79396d47308de6"
}
[2025-04-11 17:58:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 17:58:40] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 17:58:40] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:03:40] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:03:40] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:03:40] close.started
[2025-04-11 18:03:40] close.complete
[2025-04-11 18:03:40] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:03:40] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766060e50>
[2025-04-11 18:03:40] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:03:40] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766063a10>
[2025-04-11 18:03:40] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:03:40] send_request_headers.complete
[2025-04-11 18:03:40] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:03:40] send_request_body.complete
[2025-04-11 18:03:40] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:03:43] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:03:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3435'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_7b4f8561ccad550ffc8f2a5183732e5d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9a7c82c7a4a40-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:03:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:03:43] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:03:43] receive_response_body.complete
[2025-04-11 18:03:43] response_closed.started
[2025-04-11 18:03:43] response_closed.complete
[2025-04-11 18:03:43] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:03:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3435', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_7b4f8561ccad550ffc8f2a5183732e5d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9a7c82c7a4a40-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:03:43] request_id: req_7b4f8561ccad550ffc8f2a5183732e5d
[2025-04-11 18:03:43] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 18:03:43] [SIM] News Sentiment: BUY
[2025-04-11 18:03:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:03:44] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:03:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:03:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:03:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:03:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:03:44] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:03:44] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "417e2f7bdb57432ca3c5"
}
[2025-04-11 18:03:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:03:45] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:03:45] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:08:45] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:08:45] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:08:45] close.started
[2025-04-11 18:08:45] close.complete
[2025-04-11 18:08:45] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:08:45] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766079cd0>
[2025-04-11 18:08:45] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:08:45] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476607a150>
[2025-04-11 18:08:45] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:08:45] send_request_headers.complete
[2025-04-11 18:08:45] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:08:45] send_request_body.complete
[2025-04-11 18:08:45] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:08:47] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:08:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2568'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_78f1fa157c69979e1b1c79d5ed9d792e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9af3a6a6e4a75-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:08:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:08:47] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:08:47] receive_response_body.complete
[2025-04-11 18:08:47] response_closed.started
[2025-04-11 18:08:47] response_closed.complete
[2025-04-11 18:08:47] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:08:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2568', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_78f1fa157c69979e1b1c79d5ed9d792e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9af3a6a6e4a75-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:08:47] request_id: req_78f1fa157c69979e1b1c79d5ed9d792e
[2025-04-11 18:08:47] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 18:08:47] [SIM] News Sentiment: BUY
[2025-04-11 18:08:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:08:48] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:08:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:08:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:08:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:08:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:08:48] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:08:48] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ec900a7400d8467e8327"
}
[2025-04-11 18:08:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:08:49] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:08:49] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:13:49] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:13:49] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:13:49] close.started
[2025-04-11 18:13:49] close.complete
[2025-04-11 18:13:49] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:13:49] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476607a9d0>
[2025-04-11 18:13:49] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:13:49] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766079a10>
[2025-04-11 18:13:49] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:13:49] send_request_headers.complete
[2025-04-11 18:13:49] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:13:49] send_request_body.complete
[2025-04-11 18:13:49] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:13:51] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:13:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2487'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d7febb0b4bc6cc30ccd69f4a9a67280d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=6ueSF.AJesrlFczS10YH.a13wrPrDrOFpEfgZzIctUY-1744366431-1.0.1.1-z_223VUJRa8.v9bDg2SU0ik7NUgu7HIuTqj0XLqKUxIPVhTK75IJI2XFcN19yjkoiZOztcNIEvGBhGVL.JbP5ApNS4IT6biaL8xudjyz9_4; path=/; expires=Fri, 11-Apr-25 10:43:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9b6a72ce98445-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:13:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:13:51] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:13:52] receive_response_body.complete
[2025-04-11 18:13:52] response_closed.started
[2025-04-11 18:13:52] response_closed.complete
[2025-04-11 18:13:52] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:13:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2487', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_d7febb0b4bc6cc30ccd69f4a9a67280d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=6ueSF.AJesrlFczS10YH.a13wrPrDrOFpEfgZzIctUY-1744366431-1.0.1.1-z_223VUJRa8.v9bDg2SU0ik7NUgu7HIuTqj0XLqKUxIPVhTK75IJI2XFcN19yjkoiZOztcNIEvGBhGVL.JbP5ApNS4IT6biaL8xudjyz9_4; path=/; expires=Fri, 11-Apr-25 10:43:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9b6a72ce98445-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:13:52] request_id: req_d7febb0b4bc6cc30ccd69f4a9a67280d
[2025-04-11 18:13:52] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 18:13:52] [SIM] News Sentiment: BUY
[2025-04-11 18:13:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:13:52] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:13:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:13:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 18:13:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:13:52] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 18:13:52] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:13:52] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7e1cf657a7f94dbaa1db"
}
[2025-04-11 18:13:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:13:53] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:13:53] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:18:53] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:18:53] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:18:53] close.started
[2025-04-11 18:18:53] close.complete
[2025-04-11 18:18:53] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:18:53] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766068150>
[2025-04-11 18:18:53] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:18:53] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660697d0>
[2025-04-11 18:18:53] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:18:53] send_request_headers.complete
[2025-04-11 18:18:53] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:18:53] send_request_body.complete
[2025-04-11 18:18:53] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:18:55] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:18:55 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'1557'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_7dd16e4877b064922f1b339982bce359'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9be12ac824a63-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:18:55] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:18:55] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:18:55] receive_response_body.complete
[2025-04-11 18:18:55] response_closed.started
[2025-04-11 18:18:55] response_closed.complete
[2025-04-11 18:18:55] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:18:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '1557', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_7dd16e4877b064922f1b339982bce359', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9be12ac824a63-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:18:55] request_id: req_7dd16e4877b064922f1b339982bce359
[2025-04-11 18:18:55] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 18:18:55] [SIM] News Sentiment: BUY
[2025-04-11 18:18:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:18:55] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:18:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:18:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:18:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:18:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:18:55] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:18:55] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "badf58fc3eee4635bfe3"
}
[2025-04-11 18:18:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:18:56] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:18:56] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:23:56] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:23:56] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:23:56] close.started
[2025-04-11 18:23:56] close.complete
[2025-04-11 18:23:56] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:23:56] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766085490>
[2025-04-11 18:23:56] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:23:56] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766084790>
[2025-04-11 18:23:56] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:23:56] send_request_headers.complete
[2025-04-11 18:23:56] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:23:56] send_request_body.complete
[2025-04-11 18:23:56] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:23:56] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:23:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'276'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_b739e211e73a54806817136d80de17ea'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9c578abc9a9a7-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:23:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:23:56] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:23:56] receive_response_body.complete
[2025-04-11 18:23:56] response_closed.started
[2025-04-11 18:23:56] response_closed.complete
[2025-04-11 18:23:56] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:23:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '276', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_b739e211e73a54806817136d80de17ea', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9c578abc9a9a7-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:23:56] request_id: req_b739e211e73a54806817136d80de17ea
[2025-04-11 18:23:56] [SIM] News Sentiment: SELL
[2025-04-11 18:23:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:23:57] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:23:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:23:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:23:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:23:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:23:57] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:23:57] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "839c9fa3a7934eedb2b8"
}
[2025-04-11 18:23:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:23:58] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:23:58] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:28:58] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:28:58] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:28:58] close.started
[2025-04-11 18:28:58] close.complete
[2025-04-11 18:28:58] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:28:58] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476607b610>
[2025-04-11 18:28:58] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:28:58] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476607bcd0>
[2025-04-11 18:28:58] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:28:58] send_request_headers.complete
[2025-04-11 18:28:58] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:28:58] send_request_body.complete
[2025-04-11 18:28:58] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:29:01] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:29:01 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3522'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_976ab20706bd0958cef1c61ba8200481'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=UzueKjz3E07wc9DXA6M4RwtZmI0UdxYKdeDndFvEzSo-1744367341-1.0.1.1-iCi3KzjdDC_wJEXNyIHqhhzPEa6Pg5.b8E_K71XKffOokouQ5SHfbAdbY2GE4GsYa9Dy0EvvECN729wJ9RmIik4mVk_MsB0yTdaUHWuaq9g; path=/; expires=Fri, 11-Apr-25 10:59:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9ccd71f488469-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:29:01] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:29:01] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:29:01] receive_response_body.complete
[2025-04-11 18:29:01] response_closed.started
[2025-04-11 18:29:01] response_closed.complete
[2025-04-11 18:29:01] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:29:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3522', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_976ab20706bd0958cef1c61ba8200481', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=UzueKjz3E07wc9DXA6M4RwtZmI0UdxYKdeDndFvEzSo-1744367341-1.0.1.1-iCi3KzjdDC_wJEXNyIHqhhzPEa6Pg5.b8E_K71XKffOokouQ5SHfbAdbY2GE4GsYa9Dy0EvvECN729wJ9RmIik4mVk_MsB0yTdaUHWuaq9g; path=/; expires=Fri, 11-Apr-25 10:59:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9ccd71f488469-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:29:01] request_id: req_976ab20706bd0958cef1c61ba8200481
[2025-04-11 18:29:01] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 18:29:01] [SIM] News Sentiment: BUY
[2025-04-11 18:29:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:29:02] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:29:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:29:02] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:29:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:29:02] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:29:02] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:29:02] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f0c8a1d2df914b7bb8d6"
}
[2025-04-11 18:29:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:29:03] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:29:03] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:34:03] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:34:03] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:34:03] close.started
[2025-04-11 18:34:03] close.complete
[2025-04-11 18:34:03] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:34:03] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766086510>
[2025-04-11 18:34:03] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:34:03] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766084c50>
[2025-04-11 18:34:03] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:34:03] send_request_headers.complete
[2025-04-11 18:34:03] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:34:03] send_request_body.complete
[2025-04-11 18:34:03] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:34:06] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:34:06 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3326'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_1a992c09784e206b8f53ac22608bdb53'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9d4496b108091-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:34:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:34:06] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:34:06] receive_response_body.complete
[2025-04-11 18:34:06] response_closed.started
[2025-04-11 18:34:06] response_closed.complete
[2025-04-11 18:34:06] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:34:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3326', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_1a992c09784e206b8f53ac22608bdb53', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9d4496b108091-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:34:06] request_id: req_1a992c09784e206b8f53ac22608bdb53
[2025-04-11 18:34:06] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 18:34:06] [SIM] News Sentiment: BUY
[2025-04-11 18:34:06] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:34:06] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:34:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:34:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:34:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:34:07] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:34:07] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:34:07] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "248478f276a3446d85d7"
}
[2025-04-11 18:34:07] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:34:08] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:34:08] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:39:08] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:39:08] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:39:08] close.started
[2025-04-11 18:39:08] close.complete
[2025-04-11 18:39:08] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:39:08] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766085610>
[2025-04-11 18:39:08] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:39:08] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766084750>
[2025-04-11 18:39:08] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:39:08] send_request_headers.complete
[2025-04-11 18:39:08] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:39:08] send_request_body.complete
[2025-04-11 18:39:08] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:39:09] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:39:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'447'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_2fa48c98f98be7187de49054839f14c2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9dbbffb9a8464-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:39:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:39:09] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:39:09] receive_response_body.complete
[2025-04-11 18:39:09] response_closed.started
[2025-04-11 18:39:09] response_closed.complete
[2025-04-11 18:39:09] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:39:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '447', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_2fa48c98f98be7187de49054839f14c2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9dbbffb9a8464-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:39:09] request_id: req_2fa48c98f98be7187de49054839f14c2
[2025-04-11 18:39:09] [SIM] News Sentiment: SELL
[2025-04-11 18:39:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:39:09] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:39:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:39:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:39:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:39:10] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 18:39:10] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:39:10] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e41a3b3365c14774a931"
}
[2025-04-11 18:39:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:39:10] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:39:10] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:44:10] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:44:10] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:44:10] close.started
[2025-04-11 18:44:10] close.complete
[2025-04-11 18:44:10] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:44:10] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476608db50>
[2025-04-11 18:44:10] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:44:10] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476608d610>
[2025-04-11 18:44:10] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:44:10] send_request_headers.complete
[2025-04-11 18:44:10] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:44:10] send_request_body.complete
[2025-04-11 18:44:10] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:44:12] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:44:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'1536'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_aaa4d11003952f8af7de90bac5f7d025'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=xyYulEgojND_OHWhyVyePCb3n19yDS40Wj6_OEdFd1g-1744368252-1.0.1.1-paX4FmJM.nv5csvtFNL6.vQhNy0ybB4Aky3_OCEBphEkr32y0qPsPM0f96pkW0qesVyW6D5dq_rSd4yKbDUW3LUNM8wbYuL4Y9C79hBN68E; path=/; expires=Fri, 11-Apr-25 11:14:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9e31ec96b4a63-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:44:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:44:12] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:44:12] receive_response_body.complete
[2025-04-11 18:44:12] response_closed.started
[2025-04-11 18:44:12] response_closed.complete
[2025-04-11 18:44:12] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:44:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '1536', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_aaa4d11003952f8af7de90bac5f7d025', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=xyYulEgojND_OHWhyVyePCb3n19yDS40Wj6_OEdFd1g-1744368252-1.0.1.1-paX4FmJM.nv5csvtFNL6.vQhNy0ybB4Aky3_OCEBphEkr32y0qPsPM0f96pkW0qesVyW6D5dq_rSd4yKbDUW3LUNM8wbYuL4Y9C79hBN68E; path=/; expires=Fri, 11-Apr-25 11:14:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9e31ec96b4a63-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:44:12] request_id: req_aaa4d11003952f8af7de90bac5f7d025
[2025-04-11 18:44:12] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 18:44:12] [SIM] News Sentiment: BUY
[2025-04-11 18:44:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:44:12] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:44:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:44:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:44:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:44:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:44:13] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:44:13] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "2f82666155044aa09ca8"
}
[2025-04-11 18:44:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:44:13] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:44:13] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:49:13] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:49:13] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:49:13] close.started
[2025-04-11 18:49:13] close.complete
[2025-04-11 18:49:13] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:49:13] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476608e090>
[2025-04-11 18:49:13] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:49:13] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476608e6d0>
[2025-04-11 18:49:13] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:49:13] send_request_headers.complete
[2025-04-11 18:49:13] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:49:13] send_request_body.complete
[2025-04-11 18:49:13] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:49:18] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:49:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'4597'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_c1c9ee5e015fb36429b5f98271ce5988'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9ea847c584a82-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:49:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:49:18] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:49:18] receive_response_body.complete
[2025-04-11 18:49:18] response_closed.started
[2025-04-11 18:49:18] response_closed.complete
[2025-04-11 18:49:18] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:49:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '4597', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_c1c9ee5e015fb36429b5f98271ce5988', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9ea847c584a82-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:49:18] request_id: req_c1c9ee5e015fb36429b5f98271ce5988
[2025-04-11 18:49:18] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 18:49:18] [SIM] News Sentiment: BUY
[2025-04-11 18:49:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:49:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:49:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:49:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:49:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:49:19] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:49:19] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:49:19] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "95d9aa5516274d2eb21d"
}
[2025-04-11 18:49:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:49:19] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:49:19] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:54:19] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:54:19] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:54:19] close.started
[2025-04-11 18:54:19] close.complete
[2025-04-11 18:54:19] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:54:19] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766090750>
[2025-04-11 18:54:19] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:54:19] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766090d90>
[2025-04-11 18:54:19] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:54:19] send_request_headers.complete
[2025-04-11 18:54:19] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:54:19] send_request_body.complete
[2025-04-11 18:54:19] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:54:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:54:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'418'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_727c87c49d383606f72ed0ecc720e94c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9f1fd1b418f18-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:54:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:54:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:54:20] receive_response_body.complete
[2025-04-11 18:54:20] response_closed.started
[2025-04-11 18:54:20] response_closed.complete
[2025-04-11 18:54:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:54:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '418', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_727c87c49d383606f72ed0ecc720e94c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9f1fd1b418f18-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:54:20] request_id: req_727c87c49d383606f72ed0ecc720e94c
[2025-04-11 18:54:20] [SIM] News Sentiment: SELL
[2025-04-11 18:54:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:54:20] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:54:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:54:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:54:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:54:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:54:21] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:54:21] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "30c56b8910c848a39c48"
}
[2025-04-11 18:54:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:54:21] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:54:21] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 18:59:21] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 18:59:21] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 18:59:21] close.started
[2025-04-11 18:59:21] close.complete
[2025-04-11 18:59:21] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 18:59:21] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476608d4d0>
[2025-04-11 18:59:21] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 18:59:21] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476608de50>
[2025-04-11 18:59:21] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 18:59:21] send_request_headers.complete
[2025-04-11 18:59:21] send_request_body.started request=<Request [b'POST']>
[2025-04-11 18:59:21] send_request_body.complete
[2025-04-11 18:59:21] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 18:59:25] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 10:59:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2860'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_13d168f8f763f0c2f1ea5526cb1a1bf9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=ILEaf0_Uq8YvZCO0YZ1_Hhkt7DvgQZ3oHOppprtiZQg-1744369165-1.0.1.1-VK.z0Ew5IgAGARhn5Cqfqupf5m2i.HTsN2XqrwiICJ5MvtOV8jKRjy3tad8kf9Bb5KQtIElMKJR5y4ZyNG1cvBkh5ENLyGRjePMm1kgnZ7o; path=/; expires=Fri, 11-Apr-25 11:29:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92e9f95dec6d5706-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 18:59:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 18:59:25] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 18:59:25] receive_response_body.complete
[2025-04-11 18:59:25] response_closed.started
[2025-04-11 18:59:25] response_closed.complete
[2025-04-11 18:59:25] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 10:59:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2860', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_13d168f8f763f0c2f1ea5526cb1a1bf9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=ILEaf0_Uq8YvZCO0YZ1_Hhkt7DvgQZ3oHOppprtiZQg-1744369165-1.0.1.1-VK.z0Ew5IgAGARhn5Cqfqupf5m2i.HTsN2XqrwiICJ5MvtOV8jKRjy3tad8kf9Bb5KQtIElMKJR5y4ZyNG1cvBkh5ENLyGRjePMm1kgnZ7o; path=/; expires=Fri, 11-Apr-25 11:29:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92e9f95dec6d5706-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 18:59:25] request_id: req_13d168f8f763f0c2f1ea5526cb1a1bf9
[2025-04-11 18:59:25] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 18:59:25] [SIM] News Sentiment: BUY
[2025-04-11 18:59:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:59:25] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 18:59:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:59:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:59:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:59:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 18:59:26] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 18:59:26] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ab4bc4736d7046cbbb86"
}
[2025-04-11 18:59:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 18:59:26] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 18:59:26] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:04:26] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:04:26] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:04:26] close.started
[2025-04-11 19:04:26] close.complete
[2025-04-11 19:04:26] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:04:26] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660980d0>
[2025-04-11 19:04:26] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:04:26] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766098690>
[2025-04-11 19:04:26] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:04:26] send_request_headers.complete
[2025-04-11 19:04:26] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:04:26] send_request_body.complete
[2025-04-11 19:04:26] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:04:30] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:04:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'4176'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_1de88401bb979b39e51d7147de4cc505'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea00cc88e34a9d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:04:30] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:04:30] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:04:30] receive_response_body.complete
[2025-04-11 19:04:30] response_closed.started
[2025-04-11 19:04:30] response_closed.complete
[2025-04-11 19:04:30] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:04:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '4176', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_1de88401bb979b39e51d7147de4cc505', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea00cc88e34a9d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:04:30] request_id: req_1de88401bb979b39e51d7147de4cc505
[2025-04-11 19:04:30] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:04:30] [SIM] News Sentiment: BUY
[2025-04-11 19:04:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:04:31] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:04:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:04:31] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 19:04:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:04:31] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 19:04:31] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:04:31] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6303fb0ca8d04824930d"
}
[2025-04-11 19:04:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:04:32] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:04:32] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:09:32] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:09:32] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:09:32] close.started
[2025-04-11 19:09:32] close.complete
[2025-04-11 19:09:32] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:09:32] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609aa50>
[2025-04-11 19:09:32] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:09:32] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609a810>
[2025-04-11 19:09:32] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:09:32] send_request_headers.complete
[2025-04-11 19:09:32] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:09:32] send_request_body.complete
[2025-04-11 19:09:32] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:09:35] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:09:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2941'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_4dc4dddbeab0afb3735e166dada5f012'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea0843591e8265-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:09:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:09:35] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:09:35] receive_response_body.complete
[2025-04-11 19:09:35] response_closed.started
[2025-04-11 19:09:35] response_closed.complete
[2025-04-11 19:09:35] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:09:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2941', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_4dc4dddbeab0afb3735e166dada5f012', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea0843591e8265-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:09:35] request_id: req_4dc4dddbeab0afb3735e166dada5f012
[2025-04-11 19:09:35] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:09:35] [SIM] News Sentiment: BUY
[2025-04-11 19:09:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:09:35] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:09:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:09:35] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 19:09:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:09:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 19:09:36] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:09:36] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e27c3ee17bd54666aacf"
}
[2025-04-11 19:09:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:09:36] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:09:36] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:14:36] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:14:36] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:14:36] close.started
[2025-04-11 19:14:36] close.complete
[2025-04-11 19:14:36] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:14:36] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766099210>
[2025-04-11 19:14:36] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:14:36] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660995d0>
[2025-04-11 19:14:36] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:14:36] send_request_headers.complete
[2025-04-11 19:14:36] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:14:36] send_request_body.complete
[2025-04-11 19:14:36] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:14:39] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:14:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3276'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_b91c49338134c701c52913684f21ccfb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Ek6XCQICuDXhuB6nHTYUd33wXaxmVuEu9FglRQ4OMhk-1744370079-1.0.1.1-G4VHsKbWdf5ho2.ZFuCo.bdfyBWIiqr.ku2.LvM6PhBTS09IX5Z5Lc6z.yfDMW_QukGgaFfRP.jlpnSewg21E.gt78xk3E.EKoY3EL6OdKU; path=/; expires=Fri, 11-Apr-25 11:44:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea0fb19b106a81-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:14:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:14:39] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:14:39] receive_response_body.complete
[2025-04-11 19:14:39] response_closed.started
[2025-04-11 19:14:39] response_closed.complete
[2025-04-11 19:14:39] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:14:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3276', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_b91c49338134c701c52913684f21ccfb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=Ek6XCQICuDXhuB6nHTYUd33wXaxmVuEu9FglRQ4OMhk-1744370079-1.0.1.1-G4VHsKbWdf5ho2.ZFuCo.bdfyBWIiqr.ku2.LvM6PhBTS09IX5Z5Lc6z.yfDMW_QukGgaFfRP.jlpnSewg21E.gt78xk3E.EKoY3EL6OdKU; path=/; expires=Fri, 11-Apr-25 11:44:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea0fb19b106a81-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:14:39] request_id: req_b91c49338134c701c52913684f21ccfb
[2025-04-11 19:14:39] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:14:39] [SIM] News Sentiment: BUY
[2025-04-11 19:14:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:14:40] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:14:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:14:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 19:14:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:14:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:14:40] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:14:40] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "350f687fa8b24a228c0b"
}
[2025-04-11 19:14:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:14:41] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:14:41] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:19:41] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:19:41] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:19:41] close.started
[2025-04-11 19:19:41] close.complete
[2025-04-11 19:19:41] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:19:41] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660a45d0>
[2025-04-11 19:19:41] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:19:41] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660a4590>
[2025-04-11 19:19:41] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:19:41] send_request_headers.complete
[2025-04-11 19:19:41] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:19:41] send_request_body.complete
[2025-04-11 19:19:41] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:19:43] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:19:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2463'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_3593cae40c7ee8fba50665a580762c6b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea17234b224a9d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:19:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:19:43] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:19:44] receive_response_body.complete
[2025-04-11 19:19:44] response_closed.started
[2025-04-11 19:19:44] response_closed.complete
[2025-04-11 19:19:44] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:19:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2463', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_3593cae40c7ee8fba50665a580762c6b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea17234b224a9d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:19:44] request_id: req_3593cae40c7ee8fba50665a580762c6b
[2025-04-11 19:19:44] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:19:44] [SIM] News Sentiment: BUY
[2025-04-11 19:19:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:19:44] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:19:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:19:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:19:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:19:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:19:44] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:19:44] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a70ce2a3742643be8697"
}
[2025-04-11 19:19:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:19:45] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:19:45] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:24:45] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:24:45] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:24:45] close.started
[2025-04-11 19:24:45] close.complete
[2025-04-11 19:24:45] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:24:45] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660acc90>
[2025-04-11 19:24:45] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:24:45] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660ac8d0>
[2025-04-11 19:24:45] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:24:45] send_request_headers.complete
[2025-04-11 19:24:45] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:24:45] send_request_body.complete
[2025-04-11 19:24:45] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:24:48] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:24:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3121'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_4fd6b4d9746ed42ea11cb6e940a872f6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea1e8f5fb98085-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:24:48] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:24:48] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:24:48] receive_response_body.complete
[2025-04-11 19:24:48] response_closed.started
[2025-04-11 19:24:48] response_closed.complete
[2025-04-11 19:24:48] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:24:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3121', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_4fd6b4d9746ed42ea11cb6e940a872f6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea1e8f5fb98085-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:24:48] request_id: req_4fd6b4d9746ed42ea11cb6e940a872f6
[2025-04-11 19:24:48] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:24:48] [SIM] News Sentiment: BUY
[2025-04-11 19:24:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:24:49] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:24:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:24:49] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:24:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:24:49] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 19:24:49] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:24:49] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "775f796e515f4d528aee"
}
[2025-04-11 19:24:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:24:50] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:24:50] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:29:50] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:29:50] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:29:50] close.started
[2025-04-11 19:29:50] close.complete
[2025-04-11 19:29:50] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:29:50] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660af090>
[2025-04-11 19:29:50] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:29:50] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660afbd0>
[2025-04-11 19:29:50] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:29:50] send_request_headers.complete
[2025-04-11 19:29:50] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:29:50] send_request_body.complete
[2025-04-11 19:29:50] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:29:52] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:29:52 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2213'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_07e2394fd0067ef6d0681f1ca0e22b40'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=I7h_bJw9VRlHm9RG8JJqPZRo6.6DYqOkHk539CuaUxA-1744370992-1.0.1.1-Lz5KOQymGVbhpwSxz9FqEl7YkKAndUpwR7fq4gq.Dulb2AxOMS5mLI3JepTnk9C.nGTZbnGxNDqYP_1b0biMBgqLHTugao36qssjEALusPk; path=/; expires=Fri, 11-Apr-25 11:59:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea26003dfa4a2a-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:29:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:29:52] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:29:52] receive_response_body.complete
[2025-04-11 19:29:52] response_closed.started
[2025-04-11 19:29:52] response_closed.complete
[2025-04-11 19:29:52] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:29:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2213', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_07e2394fd0067ef6d0681f1ca0e22b40', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=I7h_bJw9VRlHm9RG8JJqPZRo6.6DYqOkHk539CuaUxA-1744370992-1.0.1.1-Lz5KOQymGVbhpwSxz9FqEl7YkKAndUpwR7fq4gq.Dulb2AxOMS5mLI3JepTnk9C.nGTZbnGxNDqYP_1b0biMBgqLHTugao36qssjEALusPk; path=/; expires=Fri, 11-Apr-25 11:59:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea26003dfa4a2a-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:29:52] request_id: req_07e2394fd0067ef6d0681f1ca0e22b40
[2025-04-11 19:29:52] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:29:52] [SIM] News Sentiment: BUY
[2025-04-11 19:29:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:29:52] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:29:52] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:29:53] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:29:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:29:53] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:29:53] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:29:53] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "c45601f8193c4b988ba3"
}
[2025-04-11 19:29:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:29:53] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:29:53] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:34:53] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:34:53] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:34:53] close.started
[2025-04-11 19:34:53] close.complete
[2025-04-11 19:34:53] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:34:53] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b1d50>
[2025-04-11 19:34:53] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:34:53] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b0210>
[2025-04-11 19:34:53] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:34:53] send_request_headers.complete
[2025-04-11 19:34:53] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:34:53] send_request_body.complete
[2025-04-11 19:34:53] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:34:56] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:34:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2310'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_cef9438a43b980359d7bd77387fed371'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea2d6aac5b3138-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:34:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:34:56] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:34:56] receive_response_body.complete
[2025-04-11 19:34:56] response_closed.started
[2025-04-11 19:34:56] response_closed.complete
[2025-04-11 19:34:56] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:34:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2310', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_cef9438a43b980359d7bd77387fed371', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea2d6aac5b3138-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:34:56] request_id: req_cef9438a43b980359d7bd77387fed371
[2025-04-11 19:34:56] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:34:56] [SIM] News Sentiment: BUY
[2025-04-11 19:34:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:34:56] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:34:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:34:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:34:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:34:57] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:34:57] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:34:57] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "dd22eca20334481c8cf5"
}
[2025-04-11 19:34:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:34:57] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:34:57] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:39:57] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:39:57] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:39:57] close.started
[2025-04-11 19:39:57] close.complete
[2025-04-11 19:39:57] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:39:57] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660acb10>
[2025-04-11 19:39:57] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:39:57] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660af590>
[2025-04-11 19:39:57] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:39:57] send_request_headers.complete
[2025-04-11 19:39:57] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:39:57] send_request_body.complete
[2025-04-11 19:39:57] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:40:02] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:40:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'4664'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_903f618f5b39425641fbe26ab9c0827c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea34d59ef48f09-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:40:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:40:02] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:40:02] receive_response_body.complete
[2025-04-11 19:40:02] response_closed.started
[2025-04-11 19:40:02] response_closed.complete
[2025-04-11 19:40:02] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:40:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '4664', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_903f618f5b39425641fbe26ab9c0827c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea34d59ef48f09-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:40:02] request_id: req_903f618f5b39425641fbe26ab9c0827c
[2025-04-11 19:40:02] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:40:02] [SIM] News Sentiment: BUY
[2025-04-11 19:40:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:40:02] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:40:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:40:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:40:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:40:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:40:03] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:40:03] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ff3b70b95a544ff199b6"
}
[2025-04-11 19:40:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:40:03] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:40:03] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:45:03] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:45:03] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:45:03] close.started
[2025-04-11 19:45:03] close.complete
[2025-04-11 19:45:03] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:45:03] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660a74d0>
[2025-04-11 19:45:03] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:45:03] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660a7450>
[2025-04-11 19:45:03] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:45:03] send_request_headers.complete
[2025-04-11 19:45:03] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:45:03] send_request_body.complete
[2025-04-11 19:45:03] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:45:10] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:45:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'6367'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d068f18304902fffc58a25a19e27df92'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=qG0h0mnRJ9zI5Ry9COM4vlnBe_CTJ6rM4bFV9LQnizY-1744371910-1.0.1.1-N5sk4NqpEB.QC7ZuX57wzCdj3jlkTXrItw6greMsf.t1_vu5hS4onVMRJ8YlrznEFadPLH9NBm.7fT8F.C3P4ck7PpfsnXMAiYHg0IW98UE; path=/; expires=Fri, 11-Apr-25 12:15:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea3c4eeb408f12-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:45:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:45:10] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:45:10] receive_response_body.complete
[2025-04-11 19:45:10] response_closed.started
[2025-04-11 19:45:10] response_closed.complete
[2025-04-11 19:45:10] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:45:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '6367', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_d068f18304902fffc58a25a19e27df92', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=qG0h0mnRJ9zI5Ry9COM4vlnBe_CTJ6rM4bFV9LQnizY-1744371910-1.0.1.1-N5sk4NqpEB.QC7ZuX57wzCdj3jlkTXrItw6greMsf.t1_vu5hS4onVMRJ8YlrznEFadPLH9NBm.7fT8F.C3P4ck7PpfsnXMAiYHg0IW98UE; path=/; expires=Fri, 11-Apr-25 12:15:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea3c4eeb408f12-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:45:10] request_id: req_d068f18304902fffc58a25a19e27df92
[2025-04-11 19:45:10] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:45:10] [SIM] News Sentiment: BUY
[2025-04-11 19:45:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:45:10] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:45:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:45:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:45:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:45:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:45:11] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:45:11] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "613905365fde4dc8a6f4"
}
[2025-04-11 19:45:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:45:11] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:45:11] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:50:11] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:50:11] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:50:11] close.started
[2025-04-11 19:50:11] close.complete
[2025-04-11 19:50:11] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:50:11] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766092b10>
[2025-04-11 19:50:11] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:50:11] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766090c50>
[2025-04-11 19:50:11] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:50:11] send_request_headers.complete
[2025-04-11 19:50:11] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:50:11] send_request_body.complete
[2025-04-11 19:50:11] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:50:15] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:50:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3017'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_218fbeecbcf41a0cd0d18687000e4e6c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea43d33e494a21-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:50:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:50:15] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:50:15] receive_response_body.complete
[2025-04-11 19:50:15] response_closed.started
[2025-04-11 19:50:15] response_closed.complete
[2025-04-11 19:50:15] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:50:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3017', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_218fbeecbcf41a0cd0d18687000e4e6c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea43d33e494a21-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:50:15] request_id: req_218fbeecbcf41a0cd0d18687000e4e6c
[2025-04-11 19:50:15] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:50:15] [SIM] News Sentiment: BUY
[2025-04-11 19:50:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:50:15] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:50:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:50:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:50:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:50:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:50:16] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:50:16] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "8ba1068b447a4c81a360"
}
[2025-04-11 19:50:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:50:16] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:50:16] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 19:55:16] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 19:55:16] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 19:55:16] close.started
[2025-04-11 19:55:16] close.complete
[2025-04-11 19:55:16] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 19:55:16] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b0290>
[2025-04-11 19:55:16] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 19:55:16] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b1290>
[2025-04-11 19:55:16] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 19:55:16] send_request_headers.complete
[2025-04-11 19:55:16] send_request_body.started request=<Request [b'POST']>
[2025-04-11 19:55:16] send_request_body.complete
[2025-04-11 19:55:16] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 19:55:19] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 11:55:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2992'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_96e4ac3bbe4f29442c00334abefe4a4f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea4b435cd74a40-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 19:55:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 19:55:19] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 19:55:19] receive_response_body.complete
[2025-04-11 19:55:19] response_closed.started
[2025-04-11 19:55:19] response_closed.complete
[2025-04-11 19:55:19] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 11:55:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2992', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_96e4ac3bbe4f29442c00334abefe4a4f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea4b435cd74a40-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 19:55:19] request_id: req_96e4ac3bbe4f29442c00334abefe4a4f
[2025-04-11 19:55:19] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 19:55:19] [SIM] News Sentiment: BUY
[2025-04-11 19:55:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:55:19] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 19:55:19] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:55:20] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:55:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:55:20] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 19:55:20] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 19:55:20] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5b8ace40388b4dbda149"
}
[2025-04-11 19:55:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 19:55:20] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 19:55:20] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:00:20] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:00:20] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:00:20] close.started
[2025-04-11 20:00:20] close.complete
[2025-04-11 20:00:20] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:00:20] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b3090>
[2025-04-11 20:00:20] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:00:20] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b3510>
[2025-04-11 20:00:20] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:00:20] send_request_headers.complete
[2025-04-11 20:00:20] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:00:20] send_request_body.complete
[2025-04-11 20:00:20] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:00:23] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:00:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2409'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_025424a8ab6d5dd37bf1b729c2a95063'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=psGg8l6Ga9QBmMt3DxxJxSUshPV0OS.5gY1ZyR.iYb0-1744372823-1.0.1.1-Jac97x4H3BKNg.B6dK5kFHqhwWHofiQiJTY1EyS_OKHQiBZvb.4aqvf2evEfT2tVCgVYkf5e4J1jPOXASeT3Oz6zjukuT5UpzGvIKt3kHaM; path=/; expires=Fri, 11-Apr-25 12:30:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea52b29b1f4a6d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:00:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:00:23] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:00:23] receive_response_body.complete
[2025-04-11 20:00:23] response_closed.started
[2025-04-11 20:00:23] response_closed.complete
[2025-04-11 20:00:23] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:00:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2409', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_025424a8ab6d5dd37bf1b729c2a95063', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=psGg8l6Ga9QBmMt3DxxJxSUshPV0OS.5gY1ZyR.iYb0-1744372823-1.0.1.1-Jac97x4H3BKNg.B6dK5kFHqhwWHofiQiJTY1EyS_OKHQiBZvb.4aqvf2evEfT2tVCgVYkf5e4J1jPOXASeT3Oz6zjukuT5UpzGvIKt3kHaM; path=/; expires=Fri, 11-Apr-25 12:30:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea52b29b1f4a6d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:00:23] request_id: req_025424a8ab6d5dd37bf1b729c2a95063
[2025-04-11 20:00:23] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:00:23] [SIM] News Sentiment: BUY
[2025-04-11 20:00:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:00:23] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:00:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:00:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:00:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:00:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:00:24] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:00:24] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "32ae1a3f44794388998c"
}
[2025-04-11 20:00:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:00:24] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:00:24] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:05:24] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:05:24] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:05:24] close.started
[2025-04-11 20:05:24] close.complete
[2025-04-11 20:05:24] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:05:24] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609df50>
[2025-04-11 20:05:24] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:05:24] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609ce50>
[2025-04-11 20:05:24] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:05:24] send_request_headers.complete
[2025-04-11 20:05:24] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:05:24] send_request_body.complete
[2025-04-11 20:05:24] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:05:29] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:05:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'4017'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_e33ba9bd39e9cdddc00bea8d3214468a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea5a1e3b588f18-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:05:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:05:29] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:05:29] receive_response_body.complete
[2025-04-11 20:05:29] response_closed.started
[2025-04-11 20:05:29] response_closed.complete
[2025-04-11 20:05:29] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:05:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '4017', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_e33ba9bd39e9cdddc00bea8d3214468a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea5a1e3b588f18-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:05:29] request_id: req_e33ba9bd39e9cdddc00bea8d3214468a
[2025-04-11 20:05:29] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:05:29] [SIM] News Sentiment: BUY
[2025-04-11 20:05:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:05:29] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:05:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:05:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1595
[2025-04-11 20:05:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:05:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:05:30] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:05:30] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "65b2e09d7be148058a8c"
}
[2025-04-11 20:05:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:05:30] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:05:30] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:10:30] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:10:30] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:10:30] close.started
[2025-04-11 20:10:30] close.complete
[2025-04-11 20:10:30] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:10:30] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b24d0>
[2025-04-11 20:10:30] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:10:30] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b2950>
[2025-04-11 20:10:30] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:10:30] send_request_headers.complete
[2025-04-11 20:10:30] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:10:30] send_request_body.complete
[2025-04-11 20:10:30] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:10:33] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:10:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3323'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d6d9a1a08e1efa84e5c9bdde1316f0f5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea6193d80b8436-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:10:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:10:33] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:10:33] receive_response_body.complete
[2025-04-11 20:10:33] response_closed.started
[2025-04-11 20:10:33] response_closed.complete
[2025-04-11 20:10:33] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:10:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3323', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_d6d9a1a08e1efa84e5c9bdde1316f0f5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea6193d80b8436-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:10:33] request_id: req_d6d9a1a08e1efa84e5c9bdde1316f0f5
[2025-04-11 20:10:33] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:10:33] [SIM] News Sentiment: BUY
[2025-04-11 20:10:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:10:34] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:10:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:10:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:10:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:10:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 20:10:34] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:10:34] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ad9af6bf708349b39a94"
}
[2025-04-11 20:10:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:10:35] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:10:35] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:15:35] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:15:35] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:15:35] close.started
[2025-04-11 20:15:35] close.complete
[2025-04-11 20:15:35] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:15:35] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b1e90>
[2025-04-11 20:15:35] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:15:35] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b1c50>
[2025-04-11 20:15:35] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:15:35] send_request_headers.complete
[2025-04-11 20:15:35] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:15:35] send_request_body.complete
[2025-04-11 20:15:35] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:15:38] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:15:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3323'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_a04f2302baca3276b2c411166fd0ed6f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=K3XrS0h8YrtkTPAz1_BOi_tW3bTPv9.8alAMmn4ToQ0-1744373738-1.0.1.1-.YlGcRQhnbD8OcNQU.Tsjv0YousSkaeYxWsBtEhRzJ2D.m3cUi.AHgITqgfV4I3D0lzr9ZB1VQloHfLf8sEa06Y.7612QVTmFfwyo9lHsXw; path=/; expires=Fri, 11-Apr-25 12:45:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea69058dab6b72-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:15:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:15:38] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:15:38] receive_response_body.complete
[2025-04-11 20:15:38] response_closed.started
[2025-04-11 20:15:38] response_closed.complete
[2025-04-11 20:15:38] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:15:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3323', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_a04f2302baca3276b2c411166fd0ed6f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=K3XrS0h8YrtkTPAz1_BOi_tW3bTPv9.8alAMmn4ToQ0-1744373738-1.0.1.1-.YlGcRQhnbD8OcNQU.Tsjv0YousSkaeYxWsBtEhRzJ2D.m3cUi.AHgITqgfV4I3D0lzr9ZB1VQloHfLf8sEa06Y.7612QVTmFfwyo9lHsXw; path=/; expires=Fri, 11-Apr-25 12:45:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea69058dab6b72-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:15:38] request_id: req_a04f2302baca3276b2c411166fd0ed6f
[2025-04-11 20:15:38] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:15:38] [SIM] News Sentiment: BUY
[2025-04-11 20:15:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:15:39] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:15:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:15:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 20:15:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:15:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 20:15:40] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:15:40] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d36a8b185dbe446888dc"
}
[2025-04-11 20:15:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:15:40] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:15:40] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:20:40] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:20:40] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:20:40] close.started
[2025-04-11 20:20:40] close.complete
[2025-04-11 20:20:40] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:20:40] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660a75d0>
[2025-04-11 20:20:40] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:20:40] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b1150>
[2025-04-11 20:20:40] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:20:40] send_request_headers.complete
[2025-04-11 20:20:40] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:20:40] send_request_body.complete
[2025-04-11 20:20:40] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:20:43] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:20:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2685'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_a60271e342cd25c915ab493a12433edb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea7078997d845e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:20:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:20:43] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:20:43] receive_response_body.complete
[2025-04-11 20:20:43] response_closed.started
[2025-04-11 20:20:43] response_closed.complete
[2025-04-11 20:20:43] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:20:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2685', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_a60271e342cd25c915ab493a12433edb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea7078997d845e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:20:43] request_id: req_a60271e342cd25c915ab493a12433edb
[2025-04-11 20:20:43] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:20:43] [SIM] News Sentiment: BUY
[2025-04-11 20:20:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:20:43] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:20:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:20:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 20:20:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:20:44] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:20:44] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:20:44] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "2bc8512913a14c01a58c"
}
[2025-04-11 20:20:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:20:44] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:20:44] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:25:44] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:25:44] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:25:44] close.started
[2025-04-11 20:25:44] close.complete
[2025-04-11 20:25:44] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:25:44] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660ac1d0>
[2025-04-11 20:25:44] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:25:44] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660aeb50>
[2025-04-11 20:25:44] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:25:44] send_request_headers.complete
[2025-04-11 20:25:44] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:25:44] send_request_body.complete
[2025-04-11 20:25:44] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:25:48] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:25:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3138'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d83d66a7568852cd2bd5a9c3463eeee5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea77e67f8a4a6e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:25:48] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:25:48] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:25:48] receive_response_body.complete
[2025-04-11 20:25:48] response_closed.started
[2025-04-11 20:25:48] response_closed.complete
[2025-04-11 20:25:48] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:25:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3138', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_d83d66a7568852cd2bd5a9c3463eeee5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea77e67f8a4a6e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:25:48] request_id: req_d83d66a7568852cd2bd5a9c3463eeee5
[2025-04-11 20:25:48] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:25:48] [SIM] News Sentiment: BUY
[2025-04-11 20:25:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:25:48] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:25:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:25:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:25:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:25:49] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:25:49] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:25:49] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9b78da91f4824264beb1"
}
[2025-04-11 20:25:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:25:49] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:25:49] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:30:49] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:30:49] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:30:49] close.started
[2025-04-11 20:30:49] close.complete
[2025-04-11 20:30:49] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:30:49] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660ada50>
[2025-04-11 20:30:49] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:30:49] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660ae3d0>
[2025-04-11 20:30:49] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:30:49] send_request_headers.complete
[2025-04-11 20:30:49] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:30:49] send_request_body.complete
[2025-04-11 20:30:49] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:30:53] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:30:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3838'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_b66c4c715dd32ab2eaff61252249dd1a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=LzSQSrjNib_YdgrPp8w3c_otPB9nlxpO7ajGcbqWEvI-1744374653-1.0.1.1-qSY9ZuJ3ctRvxJxX7rqekcesIr6JC5.ROLud6WhyAHKALR5I312imTC77Qifi8FAwO7gSah4zw3Z_2P0NVfO2TNPLx6luC0X_1SZgXeUg7U; path=/; expires=Fri, 11-Apr-25 13:00:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea7f57cca34a5d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:30:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:30:53] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:30:53] receive_response_body.complete
[2025-04-11 20:30:53] response_closed.started
[2025-04-11 20:30:53] response_closed.complete
[2025-04-11 20:30:53] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:30:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3838', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_b66c4c715dd32ab2eaff61252249dd1a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=LzSQSrjNib_YdgrPp8w3c_otPB9nlxpO7ajGcbqWEvI-1744374653-1.0.1.1-qSY9ZuJ3ctRvxJxX7rqekcesIr6JC5.ROLud6WhyAHKALR5I312imTC77Qifi8FAwO7gSah4zw3Z_2P0NVfO2TNPLx6luC0X_1SZgXeUg7U; path=/; expires=Fri, 11-Apr-25 13:00:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea7f57cca34a5d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:30:53] request_id: req_b66c4c715dd32ab2eaff61252249dd1a
[2025-04-11 20:30:53] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:30:53] [SIM] News Sentiment: BUY
[2025-04-11 20:30:53] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:30:54] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:30:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:30:54] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:30:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:30:54] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:30:54] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:30:54] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "b31f5b9d532742cc9c26"
}
[2025-04-11 20:30:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:30:55] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:30:55] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:35:55] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:35:55] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:35:55] close.started
[2025-04-11 20:35:55] close.complete
[2025-04-11 20:35:55] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:35:55] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609e050>
[2025-04-11 20:35:55] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:35:55] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609e690>
[2025-04-11 20:35:55] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:35:55] send_request_headers.complete
[2025-04-11 20:35:55] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:35:55] send_request_body.complete
[2025-04-11 20:35:55] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:35:57] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:35:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'1855'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_63935ff696bc1debdbdbef1d43529f76'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea86ce2ed38410-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:35:57] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:35:57] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:35:57] receive_response_body.complete
[2025-04-11 20:35:57] response_closed.started
[2025-04-11 20:35:57] response_closed.complete
[2025-04-11 20:35:57] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:35:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '1855', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_63935ff696bc1debdbdbef1d43529f76', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea86ce2ed38410-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:35:57] request_id: req_63935ff696bc1debdbdbef1d43529f76
[2025-04-11 20:35:57] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:35:57] [SIM] News Sentiment: BUY
[2025-04-11 20:35:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:35:57] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:35:57] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:35:58] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:35:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:35:58] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:35:58] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:35:58] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ab47214aec70446dad91"
}
[2025-04-11 20:35:58] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:35:58] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:35:58] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:40:58] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:40:58] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:40:58] close.started
[2025-04-11 20:40:58] close.complete
[2025-04-11 20:40:58] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:40:58] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660ae890>
[2025-04-11 20:40:58] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:40:58] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660addd0>
[2025-04-11 20:40:58] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:40:58] send_request_headers.complete
[2025-04-11 20:40:58] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:40:58] send_request_body.complete
[2025-04-11 20:40:58] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:41:02] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:41:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3073'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_77b6fc310a1eb6b237c6868bd542d37e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea8e375b8b6b74-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:41:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:41:02] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:41:02] receive_response_body.complete
[2025-04-11 20:41:02] response_closed.started
[2025-04-11 20:41:02] response_closed.complete
[2025-04-11 20:41:02] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:41:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3073', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_77b6fc310a1eb6b237c6868bd542d37e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea8e375b8b6b74-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:41:02] request_id: req_77b6fc310a1eb6b237c6868bd542d37e
[2025-04-11 20:41:02] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:41:02] [SIM] News Sentiment: BUY
[2025-04-11 20:41:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:41:02] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:41:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:41:02] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:41:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:41:02] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:41:02] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:41:02] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ce22a59554c2434f9ff9"
}
[2025-04-11 20:41:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:41:03] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:41:03] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:46:03] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:46:03] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:46:03] close.started
[2025-04-11 20:46:03] close.complete
[2025-04-11 20:46:03] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:46:03] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660a4590>
[2025-04-11 20:46:03] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:46:03] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660a7a90>
[2025-04-11 20:46:03] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:46:03] send_request_headers.complete
[2025-04-11 20:46:03] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:46:03] send_request_body.complete
[2025-04-11 20:46:03] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:46:03] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:46:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'430'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_2527f55efebb51a295970cf0b3f0edc2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=sauPr0q1lRUNb0RjU2wRVDU5JufWebDuan0FjvmdHJM-1744375563-1.0.1.1-LNaBTaXSAwovMuZwKnlQzcu8GPsfTsWabvGqTuM_vrJEWR6zt2ZxpsiI1baYjN0cYC3eDZL6U_nNAykQomJR2q40n4g_wRLSY2e9b.HaS_4; path=/; expires=Fri, 11-Apr-25 13:16:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea95a69c384a07-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:46:03] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:46:03] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:46:03] receive_response_body.complete
[2025-04-11 20:46:03] response_closed.started
[2025-04-11 20:46:03] response_closed.complete
[2025-04-11 20:46:03] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:46:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '430', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_2527f55efebb51a295970cf0b3f0edc2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=sauPr0q1lRUNb0RjU2wRVDU5JufWebDuan0FjvmdHJM-1744375563-1.0.1.1-LNaBTaXSAwovMuZwKnlQzcu8GPsfTsWabvGqTuM_vrJEWR6zt2ZxpsiI1baYjN0cYC3eDZL6U_nNAykQomJR2q40n4g_wRLSY2e9b.HaS_4; path=/; expires=Fri, 11-Apr-25 13:16:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea95a69c384a07-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:46:03] request_id: req_2527f55efebb51a295970cf0b3f0edc2
[2025-04-11 20:46:03] [SIM] News Sentiment: SELL
[2025-04-11 20:46:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:46:04] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:46:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:46:04] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:46:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:46:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:46:05] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:46:05] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "87631c90d8434cecaa32"
}
[2025-04-11 20:46:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:46:05] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:46:05] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:51:05] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:51:05] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:51:05] close.started
[2025-04-11 20:51:05] close.complete
[2025-04-11 20:51:05] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:51:05] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766099410>
[2025-04-11 20:51:05] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:51:05] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4766098790>
[2025-04-11 20:51:05] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:51:05] send_request_headers.complete
[2025-04-11 20:51:05] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:51:05] send_request_body.complete
[2025-04-11 20:51:05] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:51:08] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:51:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2475'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_6a3c2e3fdd62ec8e61d0fd44169ac56d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ea9d071c064a21-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:51:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:51:08] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:51:08] receive_response_body.complete
[2025-04-11 20:51:08] response_closed.started
[2025-04-11 20:51:08] response_closed.complete
[2025-04-11 20:51:08] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:51:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2475', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_6a3c2e3fdd62ec8e61d0fd44169ac56d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ea9d071c064a21-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:51:08] request_id: req_6a3c2e3fdd62ec8e61d0fd44169ac56d
[2025-04-11 20:51:08] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:51:08] [SIM] News Sentiment: BUY
[2025-04-11 20:51:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:51:08] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:51:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:51:08] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 20:51:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:51:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 20:51:09] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:51:09] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "3fefa1d1aa74491eb0d6"
}
[2025-04-11 20:51:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:51:09] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:51:09] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 20:56:09] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 20:56:09] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 20:56:09] close.started
[2025-04-11 20:56:09] close.complete
[2025-04-11 20:56:09] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 20:56:09] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b1910>
[2025-04-11 20:56:09] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 20:56:09] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b1450>
[2025-04-11 20:56:09] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 20:56:09] send_request_headers.complete
[2025-04-11 20:56:09] send_request_body.started request=<Request [b'POST']>
[2025-04-11 20:56:09] send_request_body.complete
[2025-04-11 20:56:09] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 20:56:11] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 12:56:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'1808'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_671d2ed6fa7aaa54ec737362b323363c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eaa47318d54a1b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 20:56:11] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 20:56:11] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 20:56:11] receive_response_body.complete
[2025-04-11 20:56:11] response_closed.started
[2025-04-11 20:56:11] response_closed.complete
[2025-04-11 20:56:11] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 12:56:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '1808', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_671d2ed6fa7aaa54ec737362b323363c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eaa47318d54a1b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 20:56:11] request_id: req_671d2ed6fa7aaa54ec737362b323363c
[2025-04-11 20:56:11] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 20:56:11] [SIM] News Sentiment: BUY
[2025-04-11 20:56:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:56:11] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 20:56:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:56:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 20:56:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:56:12] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 20:56:12] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 20:56:12] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bdeeb98e9b0849b4a3d6"
}
[2025-04-11 20:56:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 20:56:12] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 20:56:12] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:01:12] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:01:12] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:01:12] close.started
[2025-04-11 21:01:12] close.complete
[2025-04-11 21:01:12] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:01:12] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609c250>
[2025-04-11 21:01:12] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:01:12] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609edd0>
[2025-04-11 21:01:12] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:01:12] send_request_headers.complete
[2025-04-11 21:01:12] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:01:12] send_request_body.complete
[2025-04-11 21:01:12] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:01:17] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:01:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2299'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_b0b4cfd821d9026c620a8db3cc734d7e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=tk84fBgWB91GerAfYU051Ysmc3sUHBnVsUGyHM0XiuI-1744376477-1.0.1.1-BNq2GZB_uxH8RXfn7ID8YmBrXQm2w1cl8mjgTFW4mI.5SiH8OItjRsWho4LPGCMSm0QPbukx4.51RmIyDkNA.h0F1TFeeWi_4b5aLi1sgTs; path=/; expires=Fri, 11-Apr-25 13:31:17 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eaabdb48c74a62-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:01:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:01:17] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:01:17] receive_response_body.complete
[2025-04-11 21:01:17] response_closed.started
[2025-04-11 21:01:17] response_closed.complete
[2025-04-11 21:01:17] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:01:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2299', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_b0b4cfd821d9026c620a8db3cc734d7e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=tk84fBgWB91GerAfYU051Ysmc3sUHBnVsUGyHM0XiuI-1744376477-1.0.1.1-BNq2GZB_uxH8RXfn7ID8YmBrXQm2w1cl8mjgTFW4mI.5SiH8OItjRsWho4LPGCMSm0QPbukx4.51RmIyDkNA.h0F1TFeeWi_4b5aLi1sgTs; path=/; expires=Fri, 11-Apr-25 13:31:17 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eaabdb48c74a62-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:01:17] request_id: req_b0b4cfd821d9026c620a8db3cc734d7e
[2025-04-11 21:01:17] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:01:17] [SIM] News Sentiment: BUY
[2025-04-11 21:01:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:01:18] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:01:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:01:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 21:01:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:01:18] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 21:01:18] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 21:01:18] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1e4088468b424d2494df"
}
[2025-04-11 21:01:18] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:01:19] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:01:19] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:06:19] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:06:19] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:06:19] close.started
[2025-04-11 21:06:19] close.complete
[2025-04-11 21:06:19] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:06:19] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609e950>
[2025-04-11 21:06:19] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:06:19] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609f5d0>
[2025-04-11 21:06:19] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:06:19] send_request_headers.complete
[2025-04-11 21:06:19] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:06:19] send_request_body.complete
[2025-04-11 21:06:19] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:06:22] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:06:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3265'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_9e59fb9f9082010d153314811bbed3cb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eab3558d196b68-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:06:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:06:22] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:06:22] receive_response_body.complete
[2025-04-11 21:06:22] response_closed.started
[2025-04-11 21:06:22] response_closed.complete
[2025-04-11 21:06:22] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:06:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3265', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_9e59fb9f9082010d153314811bbed3cb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eab3558d196b68-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:06:22] request_id: req_9e59fb9f9082010d153314811bbed3cb
[2025-04-11 21:06:22] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:06:22] [SIM] News Sentiment: BUY
[2025-04-11 21:06:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:06:22] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:06:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:06:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:06:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:06:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:06:23] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 21:06:23] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "117253fb14e245ce86d7"
}
[2025-04-11 21:06:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:06:23] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:06:23] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:11:23] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:11:23] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:11:23] close.started
[2025-04-11 21:11:23] close.complete
[2025-04-11 21:11:23] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:11:24] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609ce10>
[2025-04-11 21:11:24] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:11:24] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f476609fa50>
[2025-04-11 21:11:24] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:11:24] send_request_headers.complete
[2025-04-11 21:11:24] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:11:24] send_request_body.complete
[2025-04-11 21:11:24] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:11:26] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:11:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2360'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_a25f15862e40954765f3ddc9a2b49252'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eabac72fdf8458-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:11:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:11:26] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:11:26] receive_response_body.complete
[2025-04-11 21:11:26] response_closed.started
[2025-04-11 21:11:26] response_closed.complete
[2025-04-11 21:11:26] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:11:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2360', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_a25f15862e40954765f3ddc9a2b49252', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eabac72fdf8458-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:11:26] request_id: req_a25f15862e40954765f3ddc9a2b49252
[2025-04-11 21:11:26] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:11:26] [SIM] News Sentiment: BUY
[2025-04-11 21:11:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:11:26] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:11:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:11:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:11:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:11:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:11:27] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 21:11:27] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ad87a5ef11ee40cdb0f4"
}
[2025-04-11 21:11:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:11:28] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:11:28] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:16:28] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:16:28] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:16:28] close.started
[2025-04-11 21:16:28] close.complete
[2025-04-11 21:16:28] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:16:28] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b1f90>
[2025-04-11 21:16:28] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f47661b2690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:16:28] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f47660b0350>
[2025-04-11 21:16:28] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:16:28] send_request_headers.complete
[2025-04-11 21:16:28] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:16:28] send_request_body.complete
[2025-04-11 21:16:28] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:16:32] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:16:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3646'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_657bd9df71fa615d62ee2083eea44148'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=gg_hlwPHFpKoObKUcSCpb6_FOVB8rf1Z8slapY6dXik-1744377392-1.0.1.1-.8KulyCT2hNfHm9eCXAWnr2tym.k5jDF0jAANanVkXPGLQF4iqWniEn1COjTCiBctR77TZo7hJSFDD5jQN4FuMBZAV7TJzv3s1lOlPit6C4; path=/; expires=Fri, 11-Apr-25 13:46:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eac2339c5e8440-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:16:32] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:16:32] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:16:32] receive_response_body.complete
[2025-04-11 21:16:32] response_closed.started
[2025-04-11 21:16:32] response_closed.complete
[2025-04-11 21:16:32] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:16:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3646', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_657bd9df71fa615d62ee2083eea44148', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=gg_hlwPHFpKoObKUcSCpb6_FOVB8rf1Z8slapY6dXik-1744377392-1.0.1.1-.8KulyCT2hNfHm9eCXAWnr2tym.k5jDF0jAANanVkXPGLQF4iqWniEn1COjTCiBctR77TZo7hJSFDD5jQN4FuMBZAV7TJzv3s1lOlPit6C4; path=/; expires=Fri, 11-Apr-25 13:46:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eac2339c5e8440-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:16:32] request_id: req_657bd9df71fa615d62ee2083eea44148
[2025-04-11 21:16:32] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:16:32] [SIM] News Sentiment: BUY
[2025-04-11 21:16:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:16:32] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:16:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:16:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:16:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:16:33] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 21:16:33] [FALLBACK] ❗ 使用 tick fallback: stop=0.003, limit=0.009000000000000001
[2025-04-11 21:16:33] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.009,
  "stopDistance": 0.003,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "37425dd5df234e8c8684"
}
[2025-04-11 21:16:33] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:16:33] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:16:33] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[🧪 測試觀察] 🔄 重新啟動 auto_trading_unified_sim.py v1.2.9
nohup: ignoring input
[2025-04-11 21:17:51] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.2.9-Fallback50Tick

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_2117.zip)
[2025-04-11 21:17:51] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_2117.zip
[2025-04-11 21:17:51] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 21:17:51] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:17:51] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 21:17:51] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:17:51] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:17:51] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:17:51] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4f74394d90>
[2025-04-11 21:17:51] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f4f744fe690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:17:51] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4f744b9ad0>
[2025-04-11 21:17:51] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:17:51] send_request_headers.complete
[2025-04-11 21:17:51] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:17:51] send_request_body.complete
[2025-04-11 21:17:51] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:17:55] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:17:55 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3103'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_acd214c1146f0871edc615638dd34e81'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=eng6YZZ7uReUIkCIpdZT6vmYrdVrmpPm9XUQdVYkpHQ-1744377475-1.0.1.1-4VbUL03MXTf.UfXVY3dtd_3QKUN0egVjae5_PQOZf48Ed68o4Xz_FvaexNSFSFODlJMAWpyR7urYtWCKbSVb5ORpgXNnv2PXi7aLLrxRFkI; path=/; expires=Fri, 11-Apr-25 13:47:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=PsuQGZqGHbrpliHWh_4ZJ7sCaOG9DXeLI7FqtdCRK4A-1744377475036-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eac43d8a3d827d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:17:55] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:17:55] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:17:55] receive_response_body.complete
[2025-04-11 21:17:55] response_closed.started
[2025-04-11 21:17:55] response_closed.complete
[2025-04-11 21:17:55] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 13:17:55 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '3103'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9966'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '204ms'), ('x-request-id', 'req_acd214c1146f0871edc615638dd34e81'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=eng6YZZ7uReUIkCIpdZT6vmYrdVrmpPm9XUQdVYkpHQ-1744377475-1.0.1.1-4VbUL03MXTf.UfXVY3dtd_3QKUN0egVjae5_PQOZf48Ed68o4Xz_FvaexNSFSFODlJMAWpyR7urYtWCKbSVb5ORpgXNnv2PXi7aLLrxRFkI; path=/; expires=Fri, 11-Apr-25 13:47:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=PsuQGZqGHbrpliHWh_4ZJ7sCaOG9DXeLI7FqtdCRK4A-1744377475036-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92eac43d8a3d827d-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 21:17:55] request_id: req_acd214c1146f0871edc615638dd34e81
[2025-04-11 21:17:55] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:17:55] [SIM] News Sentiment: BUY
[2025-04-11 21:17:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:17:55] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:17:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:17:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 21:17:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:17:56] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 21:17:56] [FALLBACK] ❗ 使用 tick fallback: stop=0.005, limit=0.015
[2025-04-11 21:17:56] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9313ca0c632a4e4d9618"
}
[2025-04-11 21:17:56] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:17:56] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:17:56] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:22:56] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:22:56] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:22:56] close.started
[2025-04-11 21:22:56] close.complete
[2025-04-11 21:22:56] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:22:56] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4f743b1090>
[2025-04-11 21:22:56] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f4f744fe690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:22:56] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4f743b1110>
[2025-04-11 21:22:56] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:22:56] send_request_headers.complete
[2025-04-11 21:22:56] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:22:56] send_request_body.complete
[2025-04-11 21:22:56] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:22:59] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:22:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2677'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_2f02c664b15385a040b76671cd4a79eb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eacbaeefc8a3a0-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:22:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:22:59] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:22:59] receive_response_body.complete
[2025-04-11 21:22:59] response_closed.started
[2025-04-11 21:22:59] response_closed.complete
[2025-04-11 21:22:59] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:22:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2677', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_2f02c664b15385a040b76671cd4a79eb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eacbaeefc8a3a0-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:22:59] request_id: req_2f02c664b15385a040b76671cd4a79eb
[2025-04-11 21:22:59] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:22:59] [SIM] News Sentiment: BUY
[2025-04-11 21:22:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:22:59] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:22:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:22:59] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:22:59] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:23:00] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:23:00] [FALLBACK] ❗ 使用 tick fallback: stop=0.005, limit=0.015
[2025-04-11 21:23:00] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1f7230d588244575ba78"
}
[2025-04-11 21:23:00] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:23:00] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:23:00] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:28:00] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:28:00] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:28:00] close.started
[2025-04-11 21:28:00] close.complete
[2025-04-11 21:28:00] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:28:00] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4f743b1810>
[2025-04-11 21:28:00] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f4f744fe690> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:28:00] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4f743b3310>
[2025-04-11 21:28:00] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:28:00] send_request_headers.complete
[2025-04-11 21:28:00] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:28:00] send_request_body.complete
[2025-04-11 21:28:00] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:28:02] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:28:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2022'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_b26ac4d31046e5d54c43f28e54e1e412'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ead31bfdc38424-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:28:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:28:02] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:28:02] receive_response_body.complete
[2025-04-11 21:28:02] response_closed.started
[2025-04-11 21:28:02] response_closed.complete
[2025-04-11 21:28:02] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:28:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2022', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_b26ac4d31046e5d54c43f28e54e1e412', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ead31bfdc38424-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:28:02] request_id: req_b26ac4d31046e5d54c43f28e54e1e412
[2025-04-11 21:28:02] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:28:02] [SIM] News Sentiment: BUY
[2025-04-11 21:28:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:28:03] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:28:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:28:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:28:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:28:03] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:28:03] [FALLBACK] ❗ 使用 tick fallback: stop=0.005, limit=0.015
[2025-04-11 21:28:03] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "4a8e52549fcb4cdf9884"
}
[2025-04-11 21:28:03] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:28:04] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:28:04] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[🧪 測試觀察] 🔄 重新啟動 auto_trading_unified_sim.py v1.3.0
nohup: ignoring input
[2025-04-11 21:30:26] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.0-FinalConfirm

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_2130.zip)
[2025-04-11 21:30:26] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_2130.zip
[2025-04-11 21:30:26] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 21:30:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:30:26] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 21:30:26] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:30:26] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:30:26] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:30:26] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f64174482d0>
[2025-04-11 21:30:26] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f641759e840> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:30:26] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6417423a10>
[2025-04-11 21:30:26] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:30:26] send_request_headers.complete
[2025-04-11 21:30:26] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:30:26] send_request_body.complete
[2025-04-11 21:30:26] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:30:29] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:30:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2877'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_416c3f0578705fe325b51f957b84bf49'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=0aN6ueTlWnBsl_2PQQswlGFAGab6Pec1myi.OPUbpCo-1744378229-1.0.1.1-GMg17mHj2kGeDlsAemYEC.vvtGY2Gq02OUimokKp0VnrsnXa7u2.tWLZ65EksRID4jcyI8iFo0fNEZ4yjvwqrIkvSlUaWMt8XTWnritSEcE; path=/; expires=Fri, 11-Apr-25 14:00:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=gslhtlaI44.ltJsaSVg6AFJYOsxX3LVP1v4MPhFL644-1744378229769-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ead6ac4bf5a9b0-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:30:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:30:29] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:30:29] receive_response_body.complete
[2025-04-11 21:30:29] response_closed.started
[2025-04-11 21:30:29] response_closed.complete
[2025-04-11 21:30:29] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 13:30:29 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '2877'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9966'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '204ms'), ('x-request-id', 'req_416c3f0578705fe325b51f957b84bf49'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=0aN6ueTlWnBsl_2PQQswlGFAGab6Pec1myi.OPUbpCo-1744378229-1.0.1.1-GMg17mHj2kGeDlsAemYEC.vvtGY2Gq02OUimokKp0VnrsnXa7u2.tWLZ65EksRID4jcyI8iFo0fNEZ4yjvwqrIkvSlUaWMt8XTWnritSEcE; path=/; expires=Fri, 11-Apr-25 14:00:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=gslhtlaI44.ltJsaSVg6AFJYOsxX3LVP1v4MPhFL644-1744378229769-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92ead6ac4bf5a9b0-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 21:30:29] request_id: req_416c3f0578705fe325b51f957b84bf49
[2025-04-11 21:30:29] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:30:29] [SIM] News Sentiment: BUY
[2025-04-11 21:30:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:30:30] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:30:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:30:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:30:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:30:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:30:30] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 21:30:30] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e54920f5500341f0ae7b"
}
[2025-04-11 21:30:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:30:31] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:30:31] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:30:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:30:31] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/e54920f5500341f0ae7b HTTP/1.1" 200 438
[2025-04-11 21:30:31] ❌ Confirm 回報失敗，請檢查倉位：{"date":"2025-04-11T13:30:31.108","status":null,"reason":"ATTACHED_ORDER_LEVEL_ERROR","dealStatus":"REJECTED","epic":"CS.D.EURUSD.MINI.IP","expiry":null,"dealReference":"e54920f5500341f0ae7b","dealId":"DIAAAATELSQJ5BB","affectedDeals":[],"level":null,"size":null,"direction":"SELL","stopLevel":null,"limitLevel":null,"stopDistance":null,"limitDistance":null,"guaranteedStop":false,"trailingStop":false,"profit":null,"profitCurrency":null}
[2025-04-11 21:35:31] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:35:31] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:35:31] close.started
[2025-04-11 21:35:31] close.complete
[2025-04-11 21:35:31] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:35:31] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f6417458350>
[2025-04-11 21:35:31] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f641759e840> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:35:31] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f641744d790>
[2025-04-11 21:35:31] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:35:31] send_request_headers.complete
[2025-04-11 21:35:31] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:35:31] send_request_body.complete
[2025-04-11 21:35:31] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:35:36] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:35:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'4491'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_97d09dc28c581a5c0f891404d86284a0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eade1ecdaba33d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:35:36] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:35:36] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:35:36] receive_response_body.complete
[2025-04-11 21:35:36] response_closed.started
[2025-04-11 21:35:36] response_closed.complete
[2025-04-11 21:35:36] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:35:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '4491', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_97d09dc28c581a5c0f891404d86284a0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eade1ecdaba33d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:35:36] request_id: req_97d09dc28c581a5c0f891404d86284a0
[2025-04-11 21:35:36] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:35:36] [SIM] News Sentiment: BUY
[2025-04-11 21:35:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:35:36] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:35:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:35:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 21:35:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:35:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1591
[2025-04-11 21:35:37] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 21:35:37] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "86d4ef337e474535ac43"
}
[2025-04-11 21:35:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:35:37] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:35:37] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:35:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:35:38] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/86d4ef337e474535ac43 HTTP/1.1" 200 437
[2025-04-11 21:35:38] ❌ Confirm 回報失敗，請檢查倉位：{"date":"2025-04-11T13:35:37.586","status":null,"reason":"ATTACHED_ORDER_LEVEL_ERROR","dealStatus":"REJECTED","epic":"CS.D.EURUSD.MINI.IP","expiry":null,"dealReference":"86d4ef337e474535ac43","dealId":"DIAAAATELT7NZAH","affectedDeals":[],"level":null,"size":null,"direction":"BUY","stopLevel":null,"limitLevel":null,"stopDistance":null,"limitDistance":null,"guaranteedStop":false,"trailingStop":false,"profit":null,"profitCurrency":null}
[2025-04-11 21:40:38] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:40:38] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:40:38] close.started
[2025-04-11 21:40:38] close.complete
[2025-04-11 21:40:38] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:40:38] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f641744e790>
[2025-04-11 21:40:38] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f641759e840> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:40:38] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f641744d0d0>
[2025-04-11 21:40:38] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:40:38] send_request_headers.complete
[2025-04-11 21:40:38] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:40:38] send_request_body.complete
[2025-04-11 21:40:38] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:40:42] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:40:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3707'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d58242897b1646284cdec388fb7ffb89'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eae59a3cfca3a0-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:40:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:40:42] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:40:42] receive_response_body.complete
[2025-04-11 21:40:42] response_closed.started
[2025-04-11 21:40:42] response_closed.complete
[2025-04-11 21:40:42] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:40:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3707', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_d58242897b1646284cdec388fb7ffb89', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eae59a3cfca3a0-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:40:42] request_id: req_d58242897b1646284cdec388fb7ffb89
[2025-04-11 21:40:42] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:40:42] [SIM] News Sentiment: BUY
[2025-04-11 21:40:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:40:42] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:40:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:40:42] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:40:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:40:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:40:43] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 21:40:43] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "56593c32a9804d9b8b18"
}
[2025-04-11 21:40:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:40:43] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:40:43] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:40:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:40:43] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/56593c32a9804d9b8b18 HTTP/1.1" 200 437
[2025-04-11 21:40:43] ❌ Confirm 回報失敗，請檢查倉位：{"date":"2025-04-11T13:40:43.298","status":null,"reason":"ATTACHED_ORDER_LEVEL_ERROR","dealStatus":"REJECTED","epic":"CS.D.EURUSD.MINI.IP","expiry":null,"dealReference":"56593c32a9804d9b8b18","dealId":"DIAAAATELVFSKA7","affectedDeals":[],"level":null,"size":null,"direction":"BUY","stopLevel":null,"limitLevel":null,"stopDistance":null,"limitDistance":null,"guaranteedStop":false,"trailingStop":false,"profit":null,"profitCurrency":null}
[🧪 測試觀察] 🔄 重新啟動 auto_trading_unified_sim.py v1.3.1
nohup: ignoring input
[2025-04-11 21:45:01] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.1-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_2145.zip)
[2025-04-11 21:45:01] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_2145.zip
[2025-04-11 21:45:01] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 21:45:01] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:45:01] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 21:45:01] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:45:01] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:45:01] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:45:01] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb378e404d0>
[2025-04-11 21:45:01] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb378f968d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:45:01] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb378e40590>
[2025-04-11 21:45:01] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:45:01] send_request_headers.complete
[2025-04-11 21:45:01] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:45:01] send_request_body.complete
[2025-04-11 21:45:01] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:45:04] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:45:04 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2475'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_59ec103cb5abd8f8086f017464083633'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=H_GzIU98lFQ3pDuI4HRuz43wh3EgtXa8ZH8PQ744PIA-1744379104-1.0.1.1-Y5TrwHFHA4su3SDIOzdqhDWwOYsSk_vGYSZrgPVDfxs.L2HzxgdMBq523YVs_lMmnJmjqoSGqQfeG5775.Sh2b8IlylV8WdOb84KpoEMTus; path=/; expires=Fri, 11-Apr-25 14:15:04 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=8K_IcKjaBLY65AxZ0RUxnkhVLAHNvd9B6vSTcxD8IGI-1744379104648-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eaec0b3e694a91-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:45:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:45:04] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:45:04] receive_response_body.complete
[2025-04-11 21:45:04] response_closed.started
[2025-04-11 21:45:04] response_closed.complete
[2025-04-11 21:45:04] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 13:45:04 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '2475'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9966'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '204ms'), ('x-request-id', 'req_59ec103cb5abd8f8086f017464083633'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=H_GzIU98lFQ3pDuI4HRuz43wh3EgtXa8ZH8PQ744PIA-1744379104-1.0.1.1-Y5TrwHFHA4su3SDIOzdqhDWwOYsSk_vGYSZrgPVDfxs.L2HzxgdMBq523YVs_lMmnJmjqoSGqQfeG5775.Sh2b8IlylV8WdOb84KpoEMTus; path=/; expires=Fri, 11-Apr-25 14:15:04 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=8K_IcKjaBLY65AxZ0RUxnkhVLAHNvd9B6vSTcxD8IGI-1744379104648-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92eaec0b3e694a91-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 21:45:04] request_id: req_59ec103cb5abd8f8086f017464083633
[2025-04-11 21:45:04] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:45:04] [SIM] News Sentiment: BUY
[2025-04-11 21:45:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:45:04] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:45:04] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:45:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:45:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:45:05] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:45:05] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 21:45:05] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "c8fb5ab147f04a6e8193"
}
[2025-04-11 21:45:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:45:05] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:45:05] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:45:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:45:06] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/c8fb5ab147f04a6e8193 HTTP/1.1" 200 437
[2025-04-11 21:45:06] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T13:45:05.739", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "c8fb5ab147f04a6e8193", "dealId": "DIAAAATELV2H2A6", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 21:50:06] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:50:06] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:50:06] close.started
[2025-04-11 21:50:06] close.complete
[2025-04-11 21:50:06] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:50:06] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb378e417d0>
[2025-04-11 21:50:06] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb378f968d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:50:06] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb378f62d90>
[2025-04-11 21:50:06] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:50:06] send_request_headers.complete
[2025-04-11 21:50:06] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:50:06] send_request_body.complete
[2025-04-11 21:50:06] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:50:10] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:50:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3952'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_3fc99ad0a8dbf18c893c7bf7e647933a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eaf3789ac96b6c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:50:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:50:10] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:50:10] receive_response_body.complete
[2025-04-11 21:50:10] response_closed.started
[2025-04-11 21:50:10] response_closed.complete
[2025-04-11 21:50:10] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:50:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3952', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_3fc99ad0a8dbf18c893c7bf7e647933a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eaf3789ac96b6c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:50:10] request_id: req_3fc99ad0a8dbf18c893c7bf7e647933a
[2025-04-11 21:50:10] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:50:10] [SIM] News Sentiment: BUY
[2025-04-11 21:50:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:50:10] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:50:10] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:50:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1592
[2025-04-11 21:50:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:50:11] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 21:50:11] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 21:50:11] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "987d5c86b2af4186add9"
}
[2025-04-11 21:50:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:50:11] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:50:11] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:50:11] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:50:11] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/987d5c86b2af4186add9 HTTP/1.1" 200 437
[2025-04-11 21:50:11] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T13:50:11.527", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "987d5c86b2af4186add9", "dealId": "DIAAAATELV4VQAS", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 21:55:11] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 21:55:11] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 21:55:11] close.started
[2025-04-11 21:55:11] close.complete
[2025-04-11 21:55:11] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 21:55:11] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb378e44850>
[2025-04-11 21:55:11] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb378f968d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 21:55:11] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb378e47ad0>
[2025-04-11 21:55:11] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 21:55:11] send_request_headers.complete
[2025-04-11 21:55:11] send_request_body.started request=<Request [b'POST']>
[2025-04-11 21:55:11] send_request_body.complete
[2025-04-11 21:55:11] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 21:55:14] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 13:55:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2784'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_de632892cb1b4c7b6a851f3d59ae9a58'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eafaefd8c14a4e-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 21:55:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 21:55:14] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 21:55:14] receive_response_body.complete
[2025-04-11 21:55:14] response_closed.started
[2025-04-11 21:55:14] response_closed.complete
[2025-04-11 21:55:14] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 13:55:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2784', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_de632892cb1b4c7b6a851f3d59ae9a58', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eafaefd8c14a4e-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 21:55:14] request_id: req_de632892cb1b4c7b6a851f3d59ae9a58
[2025-04-11 21:55:14] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 21:55:14] [SIM] News Sentiment: BUY
[2025-04-11 21:55:14] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:55:15] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 21:55:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:55:15] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 21:55:15] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:55:16] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 21:55:16] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 21:55:16] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6baf2090a4464f1f8608"
}
[2025-04-11 21:55:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:55:16] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 21:55:16] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 21:55:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 21:55:16] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/6baf2090a4464f1f8608 HTTP/1.1" 200 437
[2025-04-11 21:55:16] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T13:55:16.281", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "6baf2090a4464f1f8608", "dealId": "DIAAAATELXASCAH", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 22:00:16] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:00:16] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:00:16] close.started
[2025-04-11 22:00:16] close.complete
[2025-04-11 22:00:16] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:00:16] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb378e5e1d0>
[2025-04-11 22:00:16] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb378f968d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:00:16] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb378e5dc90>
[2025-04-11 22:00:16] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:00:16] send_request_headers.complete
[2025-04-11 22:00:16] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:00:16] send_request_body.complete
[2025-04-11 22:00:16] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:00:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:00:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3756'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_3591bcf1b83e3a0b52042c890f53cccc'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=puvoK4mqy4d4s.5bkQjbxDxqf9D3eg69KhESh53d5vY-1744380020-1.0.1.1-GZ6mFL1WD_R2bNIayC41KsfpKLniQ6MRExr7IyvvtbmlgkXgBPD5GCeM9IAywD9rdjWiutb9.1n1lOTKOnG8lZtw0.0GWoxb6u_j7BDcEts; path=/; expires=Fri, 11-Apr-25 14:30:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb0260ea7e8288-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:00:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:00:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:00:20] receive_response_body.complete
[2025-04-11 22:00:20] response_closed.started
[2025-04-11 22:00:20] response_closed.complete
[2025-04-11 22:00:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:00:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3756', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_3591bcf1b83e3a0b52042c890f53cccc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=puvoK4mqy4d4s.5bkQjbxDxqf9D3eg69KhESh53d5vY-1744380020-1.0.1.1-GZ6mFL1WD_R2bNIayC41KsfpKLniQ6MRExr7IyvvtbmlgkXgBPD5GCeM9IAywD9rdjWiutb9.1n1lOTKOnG8lZtw0.0GWoxb6u_j7BDcEts; path=/; expires=Fri, 11-Apr-25 14:30:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb0260ea7e8288-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:00:20] request_id: req_3591bcf1b83e3a0b52042c890f53cccc
[2025-04-11 22:00:20] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:00:20] [SIM] News Sentiment: BUY
[2025-04-11 22:00:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:00:21] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:00:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:00:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1596
[2025-04-11 22:00:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:00:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:00:21] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 22:00:21] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "96d92ef5492d4030a338"
}
[2025-04-11 22:00:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:00:21] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:00:21] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:00:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:00:22] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/96d92ef5492d4030a338 HTTP/1.1" 200 437
[2025-04-11 22:00:22] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T14:00:21.871", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "96d92ef5492d4030a338", "dealId": "DIAAAATELY9YCAV", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[🧪 測試觀察] 🔄 重新啟動 auto_trading_unified_sim.py v1.3.1
nohup: ignoring input
[2025-04-11 22:03:22] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.1-Final

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_2203.zip)
[2025-04-11 22:03:22] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_2203.zip
[2025-04-11 22:03:22] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 22:03:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:03:22] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 22:03:22] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:03:22] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:03:22] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:03:22] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c341d0>
[2025-04-11 22:03:22] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fbe33d8a8d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:03:22] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c34290>
[2025-04-11 22:03:22] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:03:22] send_request_headers.complete
[2025-04-11 22:03:22] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:03:22] send_request_body.complete
[2025-04-11 22:03:22] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:03:25] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:03:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2124'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_13d2d26a112385963fb76c2cb52095b7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=FrdyX0a8zjXpHhwqgYSOcQM2um1PE02h7fORXuh93UU-1744380205-1.0.1.1-LsnS27eMeoQ_KCmpDdxIAxoIQ3OBNysn5u1HbuxsFSE6SpBTz3GoBOP9n9.3BB.EeImtcDLLImItggUfbZC5sMWixa5ditRgBJjugEzZzI8; path=/; expires=Fri, 11-Apr-25 14:33:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=AOv0S2D6TNrJJLNYLzGZlsBrM3hj97BrffPn_fMqvkc-1744380205333-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb06ecce47a9b0-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:03:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:03:25] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:03:25] receive_response_body.complete
[2025-04-11 22:03:25] response_closed.started
[2025-04-11 22:03:25] response_closed.complete
[2025-04-11 22:03:25] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 14:03:25 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '2124'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9966'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '204ms'), ('x-request-id', 'req_13d2d26a112385963fb76c2cb52095b7'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=FrdyX0a8zjXpHhwqgYSOcQM2um1PE02h7fORXuh93UU-1744380205-1.0.1.1-LsnS27eMeoQ_KCmpDdxIAxoIQ3OBNysn5u1HbuxsFSE6SpBTz3GoBOP9n9.3BB.EeImtcDLLImItggUfbZC5sMWixa5ditRgBJjugEzZzI8; path=/; expires=Fri, 11-Apr-25 14:33:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=AOv0S2D6TNrJJLNYLzGZlsBrM3hj97BrffPn_fMqvkc-1744380205333-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92eb06ecce47a9b0-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 22:03:25] request_id: req_13d2d26a112385963fb76c2cb52095b7
[2025-04-11 22:03:25] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:03:25] [SIM] News Sentiment: BUY
[2025-04-11 22:03:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:03:25] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:03:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:03:25] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:03:25] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:03:26] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:03:26] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 22:03:26] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ae217206c8b6425aad42"
}
[2025-04-11 22:03:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:03:26] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:03:26] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:03:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:03:26] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/ae217206c8b6425aad42 HTTP/1.1" 200 437
[2025-04-11 22:03:26] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T14:03:26.444", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "ae217206c8b6425aad42", "dealId": "DIAAAATELZGQKA5", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 22:08:26] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:08:26] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:08:26] close.started
[2025-04-11 22:08:26] close.complete
[2025-04-11 22:08:26] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:08:26] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c34250>
[2025-04-11 22:08:26] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fbe33d8a8d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:08:26] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c392d0>
[2025-04-11 22:08:26] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:08:26] send_request_headers.complete
[2025-04-11 22:08:26] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:08:26] send_request_body.complete
[2025-04-11 22:08:26] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:08:29] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:08:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2143'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_e4311fc10fe154fa379aa42372d7845f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb0e580dcd8416-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:08:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:08:29] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:08:29] receive_response_body.complete
[2025-04-11 22:08:29] response_closed.started
[2025-04-11 22:08:29] response_closed.complete
[2025-04-11 22:08:29] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:08:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2143', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_e4311fc10fe154fa379aa42372d7845f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb0e580dcd8416-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:08:29] request_id: req_e4311fc10fe154fa379aa42372d7845f
[2025-04-11 22:08:29] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:08:29] [SIM] News Sentiment: BUY
[2025-04-11 22:08:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:08:29] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:08:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:08:29] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:08:29] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:08:30] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1593
[2025-04-11 22:08:30] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 22:08:30] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "c08407f12aee4eb6a670"
}
[2025-04-11 22:08:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:08:30] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:08:30] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:08:30] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:08:30] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/c08407f12aee4eb6a670 HTTP/1.1" 200 437
[2025-04-11 22:08:30] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T14:08:30.542", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "c08407f12aee4eb6a670", "dealId": "DIAAAATELZUWAAU", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 22:13:30] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:13:30] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:13:30] close.started
[2025-04-11 22:13:30] close.complete
[2025-04-11 22:13:30] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:13:30] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c3bd90>
[2025-04-11 22:13:30] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fbe33d8a8d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:13:30] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c3a490>
[2025-04-11 22:13:30] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:13:30] send_request_headers.complete
[2025-04-11 22:13:30] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:13:30] send_request_body.complete
[2025-04-11 22:13:30] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:13:34] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:13:34 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2996'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_1a27151a7e1035df209c17c14574976e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb15c49b2c4a96-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:13:34] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:13:34] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:13:34] receive_response_body.complete
[2025-04-11 22:13:34] response_closed.started
[2025-04-11 22:13:34] response_closed.complete
[2025-04-11 22:13:34] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:13:34 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2996', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_1a27151a7e1035df209c17c14574976e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb15c49b2c4a96-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:13:34] request_id: req_1a27151a7e1035df209c17c14574976e
[2025-04-11 22:13:34] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:13:34] [SIM] News Sentiment: BUY
[2025-04-11 22:13:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:13:34] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:13:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:13:34] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:13:34] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:13:35] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1593
[2025-04-11 22:13:35] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 22:13:35] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "85b0181c9fba4cf88c3d"
}
[2025-04-11 22:13:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:13:35] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:13:35] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:13:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:13:35] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/85b0181c9fba4cf88c3d HTTP/1.1" 200 437
[2025-04-11 22:13:35] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T14:13:35.382", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "85b0181c9fba4cf88c3d", "dealId": "DIAAAATEL4QR7AS", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 22:18:35] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:18:35] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:18:35] close.started
[2025-04-11 22:18:35] close.complete
[2025-04-11 22:18:35] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:18:35] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c50790>
[2025-04-11 22:18:35] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fbe33d8a8d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:18:35] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c51950>
[2025-04-11 22:18:35] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:18:35] send_request_headers.complete
[2025-04-11 22:18:35] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:18:35] send_request_body.complete
[2025-04-11 22:18:35] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:18:38] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:18:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2482'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_419b91aab20884f1573ea46014e69123'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=9yxVKu7BGbghHAFv7GUKMVI5TPSIVWUVZIGTOFibO8c-1744381118-1.0.1.1-P61.aiZhOfxlQQNcyDxIvOuKQA4Teq6wk4GIlsOdOz0PaJkt0Kf4nlsWwizvWPMDY93G_Hz2WVewqs.BZ_.2_lhzqZc0rkUXN1MsB0MAyzY; path=/; expires=Fri, 11-Apr-25 14:48:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb1d35fa404a55-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:18:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:18:38] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:18:38] receive_response_body.complete
[2025-04-11 22:18:38] response_closed.started
[2025-04-11 22:18:38] response_closed.complete
[2025-04-11 22:18:38] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:18:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2482', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_419b91aab20884f1573ea46014e69123', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=9yxVKu7BGbghHAFv7GUKMVI5TPSIVWUVZIGTOFibO8c-1744381118-1.0.1.1-P61.aiZhOfxlQQNcyDxIvOuKQA4Teq6wk4GIlsOdOz0PaJkt0Kf4nlsWwizvWPMDY93G_Hz2WVewqs.BZ_.2_lhzqZc0rkUXN1MsB0MAyzY; path=/; expires=Fri, 11-Apr-25 14:48:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb1d35fa404a55-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:18:38] request_id: req_419b91aab20884f1573ea46014e69123
[2025-04-11 22:18:38] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:18:38] [SIM] News Sentiment: BUY
[2025-04-11 22:18:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:18:38] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:18:38] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:18:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:18:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:18:39] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:18:39] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 22:18:39] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "26262cf7f0ee40eeb2bb"
}
[2025-04-11 22:18:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:18:39] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:18:39] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:18:39] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:18:40] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/26262cf7f0ee40eeb2bb HTTP/1.1" 200 438
[2025-04-11 22:18:40] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T14:18:39.659", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "26262cf7f0ee40eeb2bb", "dealId": "DIAAAATEL6YSJAP", "affectedDeals": [], "level": null, "size": null, "direction": "SELL", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 22:23:40] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:23:40] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:23:40] close.started
[2025-04-11 22:23:40] close.complete
[2025-04-11 22:23:40] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:23:40] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c52e50>
[2025-04-11 22:23:40] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fbe33d8a8d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:23:40] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c507d0>
[2025-04-11 22:23:40] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:23:40] send_request_headers.complete
[2025-04-11 22:23:40] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:23:40] send_request_body.complete
[2025-04-11 22:23:40] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:23:42] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:23:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2227'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_2f806362a09955c41fe5e665c7efe79e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb24a3ddb48282-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:23:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:23:42] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:23:42] receive_response_body.complete
[2025-04-11 22:23:42] response_closed.started
[2025-04-11 22:23:42] response_closed.complete
[2025-04-11 22:23:42] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:23:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2227', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_2f806362a09955c41fe5e665c7efe79e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb24a3ddb48282-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:23:42] request_id: req_2f806362a09955c41fe5e665c7efe79e
[2025-04-11 22:23:42] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:23:42] [SIM] News Sentiment: BUY
[2025-04-11 22:23:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:23:42] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:23:42] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:23:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:23:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:23:43] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:23:43] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 22:23:43] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "aa28a90d97474bfb9744"
}
[2025-04-11 22:23:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:23:43] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:23:43] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:23:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:23:44] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/aa28a90d97474bfb9744 HTTP/1.1" 200 437
[2025-04-11 22:23:44] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T14:23:43.737", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "aa28a90d97474bfb9744", "dealId": "DIAAAATEL9DRMBC", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 22:28:44] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:28:44] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:28:44] close.started
[2025-04-11 22:28:44] close.complete
[2025-04-11 22:28:44] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:28:44] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c639d0>
[2025-04-11 22:28:44] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fbe33d8a8d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:28:44] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c624d0>
[2025-04-11 22:28:44] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:28:44] send_request_headers.complete
[2025-04-11 22:28:44] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:28:44] send_request_body.complete
[2025-04-11 22:28:44] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:28:47] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:28:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2598'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_ac3a955704dbc6f08d357628ae60745a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb2c102b0c4a00-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:28:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:28:47] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:28:47] receive_response_body.complete
[2025-04-11 22:28:47] response_closed.started
[2025-04-11 22:28:47] response_closed.complete
[2025-04-11 22:28:47] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:28:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2598', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_ac3a955704dbc6f08d357628ae60745a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb2c102b0c4a00-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:28:47] request_id: req_ac3a955704dbc6f08d357628ae60745a
[2025-04-11 22:28:47] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:28:47] [SIM] News Sentiment: BUY
[2025-04-11 22:28:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:28:47] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:28:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:28:47] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1593
[2025-04-11 22:28:47] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:28:48] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:28:48] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 22:28:48] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "2304052895d64f28a5a0"
}
[2025-04-11 22:28:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:28:48] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:28:48] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:28:48] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:28:48] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/2304052895d64f28a5a0 HTTP/1.1" 200 437
[2025-04-11 22:28:48] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T14:28:48.282", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "2304052895d64f28a5a0", "dealId": "DIAAAATEMBNMCAV", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 22:33:48] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:33:48] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:33:48] close.started
[2025-04-11 22:33:48] close.complete
[2025-04-11 22:33:48] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:33:48] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c61790>
[2025-04-11 22:33:48] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fbe33d8a8d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:33:48] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c51810>
[2025-04-11 22:33:48] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:33:48] send_request_headers.complete
[2025-04-11 22:33:48] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:33:48] send_request_body.complete
[2025-04-11 22:33:48] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:33:49] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:33:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'320'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_b732298e8e52683de14233df9fa37917'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=fVFUNT6DkIJ_2d0GJuF.FJ6.sFcnBrnpjCndtCJi0Ls-1744382029-1.0.1.1-eFcIrQ_LlhBMHscIjW5WCCCXSj94Y86rUShV_mPvTUIzDw7ravFawS_EqzlyhkLztSRsRiOHXU6Vu0.pdCSOEoeGWARKDw3HLm4DzScacB0; path=/; expires=Fri, 11-Apr-25 15:03:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb337ffa61a331-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:33:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:33:49] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:33:49] receive_response_body.complete
[2025-04-11 22:33:49] response_closed.started
[2025-04-11 22:33:49] response_closed.complete
[2025-04-11 22:33:49] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:33:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '320', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_b732298e8e52683de14233df9fa37917', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=fVFUNT6DkIJ_2d0GJuF.FJ6.sFcnBrnpjCndtCJi0Ls-1744382029-1.0.1.1-eFcIrQ_LlhBMHscIjW5WCCCXSj94Y86rUShV_mPvTUIzDw7ravFawS_EqzlyhkLztSRsRiOHXU6Vu0.pdCSOEoeGWARKDw3HLm4DzScacB0; path=/; expires=Fri, 11-Apr-25 15:03:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb337ffa61a331-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:33:49] request_id: req_b732298e8e52683de14233df9fa37917
[2025-04-11 22:33:49] [SIM] News Sentiment: SELL
[2025-04-11 22:33:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:33:49] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:33:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:33:49] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1593
[2025-04-11 22:33:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:33:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1593
[2025-04-11 22:33:50] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 22:33:50] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "7cad244752024929bf86"
}
[2025-04-11 22:33:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:33:50] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:33:50] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:33:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:33:50] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/7cad244752024929bf86 HTTP/1.1" 200 437
[2025-04-11 22:33:50] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T14:33:50.52", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "7cad244752024929bf86", "dealId": "DIAAAATEMC3KAA5", "affectedDeals": [], "level": null, "size": null, "direction": "SELL", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
[2025-04-11 22:38:50] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:38:50] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:38:50] close.started
[2025-04-11 22:38:50] close.complete
[2025-04-11 22:38:50] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:38:50] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c67f50>
[2025-04-11 22:38:50] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fbe33d8a8d0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:38:50] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fbe33c67750>
[2025-04-11 22:38:50] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:38:50] send_request_headers.complete
[2025-04-11 22:38:50] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:38:50] send_request_body.complete
[2025-04-11 22:38:50] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:38:54] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:38:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3094'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_b217ccc3e6845121a951db4983b53673'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb3ae0991a843c-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:38:54] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:38:54] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:38:54] receive_response_body.complete
[2025-04-11 22:38:54] response_closed.started
[2025-04-11 22:38:54] response_closed.complete
[2025-04-11 22:38:54] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:38:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3094', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_b217ccc3e6845121a951db4983b53673', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb3ae0991a843c-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:38:54] request_id: req_b217ccc3e6845121a951db4983b53673
[2025-04-11 22:38:54] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:38:54] [SIM] News Sentiment: BUY
[2025-04-11 22:38:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:38:54] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:38:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:38:54] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1594
[2025-04-11 22:38:54] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:38:55] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 22:38:55] [FALLBACK] ❗ 使用 tick fallback: stop=0.008, limit=0.024
[2025-04-11 22:38:55] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "f29e662a6cb34f26a874"
}
[2025-04-11 22:38:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:38:55] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:38:55] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:38:55] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:38:55] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/f29e662a6cb34f26a874 HTTP/1.1" 200 437
[2025-04-11 22:38:55] ❌ Confirm 回報失敗，請檢查倉位：{"date": "2025-04-11T14:38:55.484", "status": null, "reason": "ATTACHED_ORDER_LEVEL_ERROR", "dealStatus": "REJECTED", "epic": "CS.D.EURUSD.MINI.IP", "expiry": null, "dealReference": "f29e662a6cb34f26a874", "dealId": "DIAAAATEMFHCTAU", "affectedDeals": [], "level": null, "size": null, "direction": "BUY", "stopLevel": null, "limitLevel": null, "stopDistance": null, "limitDistance": null, "guaranteedStop": false, "trailingStop": false, "profit": null, "profitCurrency": null}
nohup: ignoring input
[2025-04-11 22:43:43] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.3-SmartFallback

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_2243.zip)
[2025-04-11 22:43:43] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_2243.zip
[2025-04-11 22:43:43] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 22:43:43] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:43:43] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 22:43:43] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:43:43] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:43:43] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:43:43] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4f2de43dd0>
[2025-04-11 22:43:43] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f4f2dfaa7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:43:43] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4f2de43e90>
[2025-04-11 22:43:43] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:43:43] send_request_headers.complete
[2025-04-11 22:43:43] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:43:43] send_request_body.complete
[2025-04-11 22:43:43] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:43:44] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:43:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'503'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_1f3d6057a35c4fc1378ef9cc01858cb2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=ns175hy8M1t1SwvsdQb_edworkipk5lArP3UwpimXnY-1744382624-1.0.1.1-CJaIjIOsOtLny2GcBm.DJ1IqXDzTNjDuJUKTMlZqX2IYm8qmA.7M460hZKdvZlJ9wgddCau31bG9_BIx2WMpfcgN0TBIEebUHVAwEBiG104; path=/; expires=Fri, 11-Apr-25 15:13:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=GMFShX1tXZGWypCoJ3.pryF96CBh70GHsI86k47wTR4-1744382624401-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb4205c8904a3a-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:43:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:43:44] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:43:44] receive_response_body.complete
[2025-04-11 22:43:44] response_closed.started
[2025-04-11 22:43:44] response_closed.complete
[2025-04-11 22:43:44] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 14:43:44 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '503'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9966'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '204ms'), ('x-request-id', 'req_1f3d6057a35c4fc1378ef9cc01858cb2'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=ns175hy8M1t1SwvsdQb_edworkipk5lArP3UwpimXnY-1744382624-1.0.1.1-CJaIjIOsOtLny2GcBm.DJ1IqXDzTNjDuJUKTMlZqX2IYm8qmA.7M460hZKdvZlJ9wgddCau31bG9_BIx2WMpfcgN0TBIEebUHVAwEBiG104; path=/; expires=Fri, 11-Apr-25 15:13:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=GMFShX1tXZGWypCoJ3.pryF96CBh70GHsI86k47wTR4-1744382624401-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92eb4205c8904a3a-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 22:43:44] request_id: req_1f3d6057a35c4fc1378ef9cc01858cb2
[2025-04-11 22:43:44] [SIM] News Sentiment: SELL
[2025-04-11 22:43:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:43:44] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:43:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:43:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 22:43:45] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "9fa33e6a60344d159522"
}
[2025-04-11 22:43:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:43:45] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:43:45] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[🧪 測試觀察] 🔄 重新啟動 v1.3.3
nohup: ignoring input
[2025-04-11 22:44:05] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.3-SmartFallback

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250411_2244.zip)
[2025-04-11 22:44:05] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_2244.zip
[2025-04-11 22:44:05] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 22:44:05] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:44:05] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 22:44:05] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:44:05] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:44:05] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:44:05] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744537d50>
[2025-04-11 22:44:05] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd74469e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:44:05] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744534d90>
[2025-04-11 22:44:05] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:44:05] send_request_headers.complete
[2025-04-11 22:44:05] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:44:05] send_request_body.complete
[2025-04-11 22:44:05] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:44:08] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:44:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2536'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d9112435677564b652c690e8cf374a1b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=.OvQFpNhLxk1NFTYGT6DQ1DtRTHC3ObSpbywSXuQZds-1744382648-1.0.1.1-lJPn07tQWGGj27pOW02qOqJdS404pPvgmMgps5jRAoR.sEg4dsnERkBa9St7V_jsp9xhfAAnhb2ag3dE1lEOuEVu5UR8q6vhWdXfDzDGU_w; path=/; expires=Fri, 11-Apr-25 15:14:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=0PFCeK5CRwU_KgZPATqaIVIpQnpXg36o2nEp30V8tcg-1744382648684-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb42911ceb4a09-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:44:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:44:08] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:44:08] receive_response_body.complete
[2025-04-11 22:44:08] response_closed.started
[2025-04-11 22:44:08] response_closed.complete
[2025-04-11 22:44:08] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 14:44:08 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '2536'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9966'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '204ms'), ('x-request-id', 'req_d9112435677564b652c690e8cf374a1b'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=.OvQFpNhLxk1NFTYGT6DQ1DtRTHC3ObSpbywSXuQZds-1744382648-1.0.1.1-lJPn07tQWGGj27pOW02qOqJdS404pPvgmMgps5jRAoR.sEg4dsnERkBa9St7V_jsp9xhfAAnhb2ag3dE1lEOuEVu5UR8q6vhWdXfDzDGU_w; path=/; expires=Fri, 11-Apr-25 15:14:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=0PFCeK5CRwU_KgZPATqaIVIpQnpXg36o2nEp30V8tcg-1744382648684-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92eb42911ceb4a09-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 22:44:08] request_id: req_d9112435677564b652c690e8cf374a1b
[2025-04-11 22:44:08] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:44:08] [SIM] News Sentiment: BUY
[2025-04-11 22:44:08] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:44:09] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:44:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:44:09] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 22:44:09] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "8d294bc265af4cfaac57"
}
[2025-04-11 22:44:09] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:44:09] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:44:09] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:49:09] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:49:09] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:49:09] close.started
[2025-04-11 22:49:09] close.complete
[2025-04-11 22:49:09] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:49:09] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744550290>
[2025-04-11 22:49:09] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd74469e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:49:09] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744548e10>
[2025-04-11 22:49:09] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:49:09] send_request_headers.complete
[2025-04-11 22:49:09] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:49:09] send_request_body.complete
[2025-04-11 22:49:09] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:49:12] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:49:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2897'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_a7eae0e73724b92437034cfc0338ce59'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb49fbdeaa828f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:49:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:49:12] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:49:12] receive_response_body.complete
[2025-04-11 22:49:12] response_closed.started
[2025-04-11 22:49:12] response_closed.complete
[2025-04-11 22:49:12] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:49:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2897', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_a7eae0e73724b92437034cfc0338ce59', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb49fbdeaa828f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:49:12] request_id: req_a7eae0e73724b92437034cfc0338ce59
[2025-04-11 22:49:12] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:49:12] [SIM] News Sentiment: BUY
[2025-04-11 22:49:12] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:49:13] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:49:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:49:13] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 22:49:13] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d3efb3d46d9c4991baaf"
}
[2025-04-11 22:49:13] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:49:13] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:49:13] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:54:13] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:54:13] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:54:13] close.started
[2025-04-11 22:54:13] close.complete
[2025-04-11 22:54:13] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:54:13] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744551dd0>
[2025-04-11 22:54:13] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd74469e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:54:13] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744552f10>
[2025-04-11 22:54:13] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:54:13] send_request_headers.complete
[2025-04-11 22:54:13] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:54:13] send_request_body.complete
[2025-04-11 22:54:13] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:54:16] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:54:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2807'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_3a1364cb77a614c1ad84c0182f4f0db7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb51686b864a07-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:54:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:54:16] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:54:16] receive_response_body.complete
[2025-04-11 22:54:16] response_closed.started
[2025-04-11 22:54:16] response_closed.complete
[2025-04-11 22:54:16] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:54:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2807', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_3a1364cb77a614c1ad84c0182f4f0db7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb51686b864a07-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:54:16] request_id: req_3a1364cb77a614c1ad84c0182f4f0db7
[2025-04-11 22:54:16] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:54:16] [SIM] News Sentiment: BUY
[2025-04-11 22:54:16] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:54:17] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:54:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:54:17] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 22:54:17] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "5519ebed8e5342938afc"
}
[2025-04-11 22:54:17] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:54:17] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:54:17] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 22:59:17] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 22:59:17] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 22:59:17] close.started
[2025-04-11 22:59:17] close.complete
[2025-04-11 22:59:17] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 22:59:17] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744560e10>
[2025-04-11 22:59:17] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd74469e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 22:59:17] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744561950>
[2025-04-11 22:59:17] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 22:59:17] send_request_headers.complete
[2025-04-11 22:59:17] send_request_body.started request=<Request [b'POST']>
[2025-04-11 22:59:17] send_request_body.complete
[2025-04-11 22:59:17] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 22:59:20] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 14:59:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2896'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_b779b76bf75ea783e777a697da518409'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=V.XNvN0_X5GMlRXEccnjpTUguycOtX9aQr3asXGkm7k-1744383560-1.0.1.1-S1azZnDINqW.uc6xCTfa017.6gG3bYxmknCpyxvECVStvTRtAx7eTqGXhu.mbiJmOqSd3n245z14eFnmsNPRS_FCPqQSOhn4NB54m47bPEY; path=/; expires=Fri, 11-Apr-25 15:29:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb58d4c9b849f7-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 22:59:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 22:59:20] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 22:59:20] receive_response_body.complete
[2025-04-11 22:59:20] response_closed.started
[2025-04-11 22:59:20] response_closed.complete
[2025-04-11 22:59:20] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 14:59:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2896', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_b779b76bf75ea783e777a697da518409', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=V.XNvN0_X5GMlRXEccnjpTUguycOtX9aQr3asXGkm7k-1744383560-1.0.1.1-S1azZnDINqW.uc6xCTfa017.6gG3bYxmknCpyxvECVStvTRtAx7eTqGXhu.mbiJmOqSd3n245z14eFnmsNPRS_FCPqQSOhn4NB54m47bPEY; path=/; expires=Fri, 11-Apr-25 15:29:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb58d4c9b849f7-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 22:59:20] request_id: req_b779b76bf75ea783e777a697da518409
[2025-04-11 22:59:20] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 22:59:20] [SIM] News Sentiment: BUY
[2025-04-11 22:59:20] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:59:21] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 22:59:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:59:21] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1589
[2025-04-11 22:59:21] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "970602279ab444d99627"
}
[2025-04-11 22:59:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 22:59:21] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 22:59:21] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:04:21] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:04:21] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:04:21] close.started
[2025-04-11 23:04:21] close.complete
[2025-04-11 23:04:21] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:04:21] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744560610>
[2025-04-11 23:04:21] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd74469e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:04:21] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744551a50>
[2025-04-11 23:04:21] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:04:21] send_request_headers.complete
[2025-04-11 23:04:21] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:04:21] send_request_body.complete
[2025-04-11 23:04:21] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:04:24] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:04:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'1768'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_07388bc62e0f0590c6fb57907d7f7f15'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb60413fca4a9a-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:04:24] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:04:24] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:04:24] receive_response_body.complete
[2025-04-11 23:04:24] response_closed.started
[2025-04-11 23:04:24] response_closed.complete
[2025-04-11 23:04:24] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:04:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '1768', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_07388bc62e0f0590c6fb57907d7f7f15', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb60413fca4a9a-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:04:24] request_id: req_07388bc62e0f0590c6fb57907d7f7f15
[2025-04-11 23:04:24] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:04:24] [SIM] News Sentiment: BUY
[2025-04-11 23:04:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:04:24] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:04:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:04:24] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:04:24] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "ca1ba732b9f64f6cad25"
}
[2025-04-11 23:04:24] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:04:25] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:04:25] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:09:25] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:09:25] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:09:25] close.started
[2025-04-11 23:09:25] close.complete
[2025-04-11 23:09:25] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:09:25] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744569050>
[2025-04-11 23:09:25] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd74469e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:09:25] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744569790>
[2025-04-11 23:09:25] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:09:25] send_request_headers.complete
[2025-04-11 23:09:25] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:09:25] send_request_body.complete
[2025-04-11 23:09:25] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:09:28] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:09:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2788'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_e0e6392b3afc3318f22f0a6d6cb43011'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb67a788e64aa4-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:09:28] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:09:28] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:09:28] receive_response_body.complete
[2025-04-11 23:09:28] response_closed.started
[2025-04-11 23:09:28] response_closed.complete
[2025-04-11 23:09:28] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:09:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2788', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_e0e6392b3afc3318f22f0a6d6cb43011', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb67a788e64aa4-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:09:28] request_id: req_e0e6392b3afc3318f22f0a6d6cb43011
[2025-04-11 23:09:28] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:09:28] [SIM] News Sentiment: BUY
[2025-04-11 23:09:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:09:28] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:09:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:09:28] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:09:28] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "0e584f76a8dd49ac92df"
}
[2025-04-11 23:09:28] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:09:28] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:09:28] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:14:28] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:14:28] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:14:28] close.started
[2025-04-11 23:14:28] close.complete
[2025-04-11 23:14:28] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:14:29] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd7445518d0>
[2025-04-11 23:14:29] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd74469e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:14:29] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744551510>
[2025-04-11 23:14:29] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:14:29] send_request_headers.complete
[2025-04-11 23:14:29] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:14:29] send_request_body.complete
[2025-04-11 23:14:29] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:14:31] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:14:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2620'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d204288bf1f2c6c41de40611819e38d6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=XLgSL4ZzH_vhNsWRXSDw78NkxsROudcej7.vqRZtUg8-1744384471-1.0.1.1-O10iq3GGBeTQW7pBFnWtcADQ3uAFy_yMS6rhd4e59U2RAk60vBBVzAUsZAN7ccaW_EKBgrQhjA32EHFHNGa8NwA__4tqqr4tYkQ5bjw7Hc8; path=/; expires=Fri, 11-Apr-25 15:44:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb6f135c3d844b-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:14:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:14:31] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:14:31] receive_response_body.complete
[2025-04-11 23:14:31] response_closed.started
[2025-04-11 23:14:31] response_closed.complete
[2025-04-11 23:14:31] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:14:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2620', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_d204288bf1f2c6c41de40611819e38d6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=XLgSL4ZzH_vhNsWRXSDw78NkxsROudcej7.vqRZtUg8-1744384471-1.0.1.1-O10iq3GGBeTQW7pBFnWtcADQ3uAFy_yMS6rhd4e59U2RAk60vBBVzAUsZAN7ccaW_EKBgrQhjA32EHFHNGa8NwA__4tqqr4tYkQ5bjw7Hc8; path=/; expires=Fri, 11-Apr-25 15:44:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb6f135c3d844b-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:14:31] request_id: req_d204288bf1f2c6c41de40611819e38d6
[2025-04-11 23:14:31] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:14:31] [SIM] News Sentiment: BUY
[2025-04-11 23:14:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:14:32] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:14:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:14:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:14:32] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "4fb4bccf429e4ab1a5cb"
}
[2025-04-11 23:14:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:14:32] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:14:32] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:19:32] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:19:32] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:19:32] close.started
[2025-04-11 23:19:32] close.complete
[2025-04-11 23:19:32] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:19:32] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd74456d310>
[2025-04-11 23:19:32] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd74469e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:19:32] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd74456cd50>
[2025-04-11 23:19:32] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:19:32] send_request_headers.complete
[2025-04-11 23:19:32] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:19:32] send_request_body.complete
[2025-04-11 23:19:32] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:19:37] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:19:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'4109'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_77b3e93a1e7ef4083211a74821c5eb5f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb767e4a688412-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:19:37] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:19:37] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:19:37] receive_response_body.complete
[2025-04-11 23:19:37] response_closed.started
[2025-04-11 23:19:37] response_closed.complete
[2025-04-11 23:19:37] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:19:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '4109', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_77b3e93a1e7ef4083211a74821c5eb5f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb767e4a688412-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:19:37] request_id: req_77b3e93a1e7ef4083211a74821c5eb5f
[2025-04-11 23:19:37] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:19:37] [SIM] News Sentiment: BUY
[2025-04-11 23:19:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:19:37] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:19:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:19:37] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:19:37] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "e130436d8514438fb82c"
}
[2025-04-11 23:19:37] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:19:38] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:19:38] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:24:38] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:24:38] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:24:38] close.started
[2025-04-11 23:24:38] close.complete
[2025-04-11 23:24:38] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:24:38] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744561790>
[2025-04-11 23:24:38] start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd74469e7b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:24:38] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fd744574350>
[2025-04-11 23:24:38] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:24:38] send_request_headers.complete
[2025-04-11 23:24:38] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:24:38] send_request_body.complete
[2025-04-11 23:24:38] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:24:40] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:24:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2383'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_147c7dd9eeccab81dacfe46cbc443349'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb7df28d5e8454-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:24:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:24:40] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:24:40] receive_response_body.complete
[2025-04-11 23:24:40] response_closed.started
[2025-04-11 23:24:40] response_closed.complete
[2025-04-11 23:24:40] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:24:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2383', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_147c7dd9eeccab81dacfe46cbc443349', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb7df28d5e8454-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:24:40] request_id: req_147c7dd9eeccab81dacfe46cbc443349
[2025-04-11 23:24:40] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:24:40] [SIM] News Sentiment: BUY
[2025-04-11 23:24:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:24:41] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:24:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:24:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:24:41] 🧾 下單 payload:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "2884693b64124fe5b36b"
}
[2025-04-11 23:24:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:24:41] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:24:41] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[🧪 測試觀察] 🔄 重新啟動 v1.3.5
nohup: ignoring input
[2025-04-11 23:25:21] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.5-Integrated
[2025-04-11 23:25:21] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250411_2325.zip
[2025-04-11 23:25:21] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-11 23:25:21] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:25:21] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 200 528
[2025-04-11 23:25:21] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:25:21] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:25:21] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:25:21] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8333734550>
[2025-04-11 23:25:21] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f83338967b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:25:21] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f83337345d0>
[2025-04-11 23:25:21] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:25:21] send_request_headers.complete
[2025-04-11 23:25:21] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:25:21] send_request_body.complete
[2025-04-11 23:25:21] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:25:22] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:25:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'529'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_c7b8c3230947c94296bd3feeab7545b9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=eUI9rODhLsbWNURRM1M2sCl5Yj_SC55.XByZmvKxN3g-1744385122-1.0.1.1-NM9gfrJACowTXcndB4p1xXEuKp5yllE0bv6hYOK46O5u6jMMyYAAEltoH9F5zlMIMqt5FElQ194vmMMrC_BUQ4xpOW6tGbxjoXjVpNmAE.o; path=/; expires=Fri, 11-Apr-25 15:55:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=dqGmZ7da.TXqh_MhXZ6JilaQ.uaKhNDlyYV5hBbTi3k-1744385122501-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb7f030f986a84-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:25:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:25:22] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:25:22] receive_response_body.complete
[2025-04-11 23:25:22] response_closed.started
[2025-04-11 23:25:22] response_closed.complete
[2025-04-11 23:25:22] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 11 Apr 2025 15:25:22 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'lucifinel'), ('openai-processing-ms', '529'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9966'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '204ms'), ('x-request-id', 'req_c7b8c3230947c94296bd3feeab7545b9'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=eUI9rODhLsbWNURRM1M2sCl5Yj_SC55.XByZmvKxN3g-1744385122-1.0.1.1-NM9gfrJACowTXcndB4p1xXEuKp5yllE0bv6hYOK46O5u6jMMyYAAEltoH9F5zlMIMqt5FElQ194vmMMrC_BUQ4xpOW6tGbxjoXjVpNmAE.o; path=/; expires=Fri, 11-Apr-25 15:55:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=dqGmZ7da.TXqh_MhXZ6JilaQ.uaKhNDlyYV5hBbTi3k-1744385122501-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '92eb7f030f986a84-TPE'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[2025-04-11 23:25:22] request_id: req_c7b8c3230947c94296bd3feeab7545b9
[2025-04-11 23:25:22] [SIM] News Sentiment: SELL
[2025-04-11 23:25:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:25:22] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:25:22] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:25:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:25:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:25:23] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:25:23] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "d39d88ffdd5d4b3da7bb"
}
[2025-04-11 23:25:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:25:23] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:25:23] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:25:23] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:25:24] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/d39d88ffdd5d4b3da7bb HTTP/1.1" 200 438
[2025-04-11 23:25:24] ❌ Confirm 回報失敗：{'date': '2025-04-11T15:25:23.605', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'd39d88ffdd5d4b3da7bb', 'dealId': 'DIAAAATEMWRD8AU', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-11 23:30:24] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:30:24] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:30:24] close.started
[2025-04-11 23:30:24] close.complete
[2025-04-11 23:30:24] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:30:24] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f83337441d0>
[2025-04-11 23:30:24] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f83338967b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:30:24] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f833373ad90>
[2025-04-11 23:30:24] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:30:24] send_request_headers.complete
[2025-04-11 23:30:24] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:30:24] send_request_body.complete
[2025-04-11 23:30:24] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:30:26] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:30:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2295'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_093b8e7d97d6ac563d25072d6ccfa1cd'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb86646ea2a9c7-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:30:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:30:26] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:30:26] receive_response_body.complete
[2025-04-11 23:30:26] response_closed.started
[2025-04-11 23:30:26] response_closed.complete
[2025-04-11 23:30:26] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:30:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2295', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_093b8e7d97d6ac563d25072d6ccfa1cd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb86646ea2a9c7-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:30:26] request_id: req_093b8e7d97d6ac563d25072d6ccfa1cd
[2025-04-11 23:30:26] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:30:26] [SIM] News Sentiment: BUY
[2025-04-11 23:30:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:30:26] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:30:26] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:30:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:30:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:30:27] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:30:27] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a1e3df9626bc4830ab49"
}
[2025-04-11 23:30:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:30:27] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:30:27] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:30:27] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:30:28] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/a1e3df9626bc4830ab49 HTTP/1.1" 200 437
[2025-04-11 23:30:28] ❌ Confirm 回報失敗：{'date': '2025-04-11T15:30:27.686', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'a1e3df9626bc4830ab49', 'dealId': 'DIAAAATEMXTDBAP', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-11 23:35:28] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:35:28] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:35:28] close.started
[2025-04-11 23:35:28] close.complete
[2025-04-11 23:35:28] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:35:28] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8333747c90>
[2025-04-11 23:35:28] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f83338967b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:35:28] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8333745090>
[2025-04-11 23:35:28] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:35:28] send_request_headers.complete
[2025-04-11 23:35:28] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:35:28] send_request_body.complete
[2025-04-11 23:35:28] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:35:31] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:35:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2704'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_1a8e575b9041ce94e6fe8440c2cd48f5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb8dd0da1f4a0f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:35:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:35:31] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:35:31] receive_response_body.complete
[2025-04-11 23:35:31] response_closed.started
[2025-04-11 23:35:31] response_closed.complete
[2025-04-11 23:35:31] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:35:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2704', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_1a8e575b9041ce94e6fe8440c2cd48f5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb8dd0da1f4a0f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:35:31] request_id: req_1a8e575b9041ce94e6fe8440c2cd48f5
[2025-04-11 23:35:31] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:35:31] [SIM] News Sentiment: BUY
[2025-04-11 23:35:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:35:31] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:35:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:35:31] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1589
[2025-04-11 23:35:31] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:35:32] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1589
[2025-04-11 23:35:32] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fab34aa4cb514ba3b86d"
}
[2025-04-11 23:35:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:35:32] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:35:32] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:35:32] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:35:32] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/fab34aa4cb514ba3b86d HTTP/1.1" 200 437
[2025-04-11 23:35:32] ❌ Confirm 回報失敗：{'date': '2025-04-11T15:35:32.276', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'fab34aa4cb514ba3b86d', 'dealId': 'DIAAAATEMZ5KCAJ', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-11 23:40:32] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:40:32] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:40:32] close.started
[2025-04-11 23:40:32] close.complete
[2025-04-11 23:40:32] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:40:32] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f833375b590>
[2025-04-11 23:40:32] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f83338967b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:40:32] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f83337586d0>
[2025-04-11 23:40:32] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:40:32] send_request_headers.complete
[2025-04-11 23:40:32] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:40:32] send_request_body.complete
[2025-04-11 23:40:32] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:40:35] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:40:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2485'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d6de30066242d165d87950ddabcca864'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=CsubXvVuiv.HuqdlauqfTmUAGI7RLg2Kf8UW93YL6P4-1744386035-1.0.1.1-gq_jvtZ5rL2Vo2C6_0P2kkm66xgPxUI.xb6KmSDLH3KyEFkWluQUazBbvNLmZDSm1dMU7t5HXRdFQem6HsW.2kd9ndhQNtTwVEYpLRo0Ekw; path=/; expires=Fri, 11-Apr-25 16:10:35 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb954079b96b68-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:40:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:40:35] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:40:35] receive_response_body.complete
[2025-04-11 23:40:35] response_closed.started
[2025-04-11 23:40:35] response_closed.complete
[2025-04-11 23:40:35] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:40:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2485', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_d6de30066242d165d87950ddabcca864', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=CsubXvVuiv.HuqdlauqfTmUAGI7RLg2Kf8UW93YL6P4-1744386035-1.0.1.1-gq_jvtZ5rL2Vo2C6_0P2kkm66xgPxUI.xb6KmSDLH3KyEFkWluQUazBbvNLmZDSm1dMU7t5HXRdFQem6HsW.2kd9ndhQNtTwVEYpLRo0Ekw; path=/; expires=Fri, 11-Apr-25 16:10:35 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb954079b96b68-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:40:35] request_id: req_d6de30066242d165d87950ddabcca864
[2025-04-11 23:40:35] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:40:35] [SIM] News Sentiment: BUY
[2025-04-11 23:40:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:40:35] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:40:35] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:40:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:40:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:40:36] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:40:36] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "0f21e6de57964b73a65a"
}
[2025-04-11 23:40:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:40:36] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:40:36] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:40:36] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:40:36] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/0f21e6de57964b73a65a HTTP/1.1" 200 437
[2025-04-11 23:40:36] ❌ Confirm 回報失敗：{'date': '2025-04-11T15:40:36.586', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '0f21e6de57964b73a65a', 'dealId': 'DIAAAATEM3V5MA2', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-11 23:45:36] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:45:36] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:45:36] close.started
[2025-04-11 23:45:36] close.complete
[2025-04-11 23:45:36] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:45:37] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8333746b50>
[2025-04-11 23:45:37] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f83338967b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:45:37] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8333747d50>
[2025-04-11 23:45:37] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:45:37] send_request_headers.complete
[2025-04-11 23:45:37] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:45:37] send_request_body.complete
[2025-04-11 23:45:37] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:45:40] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:45:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'3038'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_d3a73511f4bd8f0281a9ac43b5cee90e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eb9cae69dea39f-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:45:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:45:40] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:45:40] receive_response_body.complete
[2025-04-11 23:45:40] response_closed.started
[2025-04-11 23:45:40] response_closed.complete
[2025-04-11 23:45:40] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:45:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '3038', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_d3a73511f4bd8f0281a9ac43b5cee90e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eb9cae69dea39f-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:45:40] request_id: req_d3a73511f4bd8f0281a9ac43b5cee90e
[2025-04-11 23:45:40] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:45:40] [SIM] News Sentiment: BUY
[2025-04-11 23:45:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:45:40] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:45:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:45:40] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:45:40] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:45:41] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:45:41] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "29f8f6c2f91f47a0a3cf"
}
[2025-04-11 23:45:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:45:41] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:45:41] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:45:41] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:45:41] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/29f8f6c2f91f47a0a3cf HTTP/1.1" 200 438
[2025-04-11 23:45:41] ❌ Confirm 回報失敗：{'date': '2025-04-11T15:45:41.457', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '29f8f6c2f91f47a0a3cf', 'dealId': 'DIAAAATEM537FBD', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-11 23:50:41] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:50:41] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:50:41] close.started
[2025-04-11 23:50:41] close.complete
[2025-04-11 23:50:41] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:50:41] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8333761e10>
[2025-04-11 23:50:41] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f83338967b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:50:41] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f8333762490>
[2025-04-11 23:50:41] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:50:41] send_request_headers.complete
[2025-04-11 23:50:41] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:50:41] send_request_body.complete
[2025-04-11 23:50:41] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:50:44] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:50:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2488'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_db492aac56d31763f06950eec844aa51'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92eba41ff8dea3a0-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:50:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:50:44] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:50:44] receive_response_body.complete
[2025-04-11 23:50:44] response_closed.started
[2025-04-11 23:50:44] response_closed.complete
[2025-04-11 23:50:44] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:50:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2488', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_db492aac56d31763f06950eec844aa51', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92eba41ff8dea3a0-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:50:44] request_id: req_db492aac56d31763f06950eec844aa51
[2025-04-11 23:50:44] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:50:44] [SIM] News Sentiment: BUY
[2025-04-11 23:50:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:50:44] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:50:44] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:50:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:50:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:50:45] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:50:45] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "a1bc002821f040568057"
}
[2025-04-11 23:50:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:50:45] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:50:45] ✅ 下單成功：BUY CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:50:45] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:50:46] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/a1bc002821f040568057 HTTP/1.1" 200 437
[2025-04-11 23:50:46] ❌ Confirm 回報失敗：{'date': '2025-04-11T15:50:45.788', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'a1bc002821f040568057', 'dealId': 'DIAAAATEM744WAP', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-11 23:55:46] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '你是一位專業交易員，請根據新聞內容回覆 BUY 或 SELL'}, {'role': 'user', 'content': 'EUR/USD is volatile due to macroeconomic uncertainty.'}], 'model': 'gpt-4'}}
[2025-04-11 23:55:46] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
[2025-04-11 23:55:46] close.started
[2025-04-11 23:55:46] close.complete
[2025-04-11 23:55:46] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
[2025-04-11 23:55:46] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f83337452d0>
[2025-04-11 23:55:46] start_tls.started ssl_context=<ssl.SSLContext object at 0x7f83338967b0> server_hostname='api.openai.com' timeout=5.0
[2025-04-11 23:55:46] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f833375a790>
[2025-04-11 23:55:46] send_request_headers.started request=<Request [b'POST']>
[2025-04-11 23:55:46] send_request_headers.complete
[2025-04-11 23:55:46] send_request_body.started request=<Request [b'POST']>
[2025-04-11 23:55:46] send_request_body.complete
[2025-04-11 23:55:46] receive_response_headers.started request=<Request [b'POST']>
[2025-04-11 23:55:49] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 11 Apr 2025 15:55:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'lucifinel'), (b'openai-processing-ms', b'2642'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9966'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'204ms'), (b'x-request-id', b'req_7d74aeb72446fa862ec4cae736d97a3c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=i9CHUusp5lhgGZUOBYk_svkakv_2edcNxuRfGBEf3Ds-1744386949-1.0.1.1-6SKnCfp15wDOWCKktZQnbC5CpBCBDlPn2MUynzgwbAfntr0Y6Qoj_4eqC_Q5muRLZC27cX7PrwzQvy6t617U8ca6nCLB4tFiQrL1YM8mE_M; path=/; expires=Fri, 11-Apr-25 16:25:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92ebab8dfad6826d-TPE'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[2025-04-11 23:55:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-11 23:55:49] receive_response_body.started request=<Request [b'POST']>
[2025-04-11 23:55:49] receive_response_body.complete
[2025-04-11 23:55:49] response_closed.started
[2025-04-11 23:55:49] response_closed.complete
[2025-04-11 23:55:49] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Fri, 11 Apr 2025 15:55:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'lucifinel', 'openai-processing-ms': '2642', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9966', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '204ms', 'x-request-id': 'req_7d74aeb72446fa862ec4cae736d97a3c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=i9CHUusp5lhgGZUOBYk_svkakv_2edcNxuRfGBEf3Ds-1744386949-1.0.1.1-6SKnCfp15wDOWCKktZQnbC5CpBCBDlPn2MUynzgwbAfntr0Y6Qoj_4eqC_Q5muRLZC27cX7PrwzQvy6t617U8ca6nCLB4tFiQrL1YM8mE_M; path=/; expires=Fri, 11-Apr-25 16:25:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '92ebab8dfad6826d-TPE', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[2025-04-11 23:55:49] request_id: req_7d74aeb72446fa862ec4cae736d97a3c
[2025-04-11 23:55:49] ❌ OpenAI 分析失敗：OpenAI 回傳非 BUY/SELL
[2025-04-11 23:55:49] [SIM] News Sentiment: BUY
[2025-04-11 23:55:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:55:49] https://demo-api.ig.com:443 "GET /gateway/deal/positions HTTP/1.1" 200 16
[2025-04-11 23:55:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:55:49] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:55:49] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:55:50] https://demo-api.ig.com:443 "GET /gateway/deal/markets/CS.D.EURUSD.MINI.IP HTTP/1.1" 200 1590
[2025-04-11 23:55:50] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6687ca6fd39e4171a2d7"
}
[2025-04-11 23:55:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:55:50] https://demo-api.ig.com:443 "POST /gateway/deal/positions/otc HTTP/1.1" 200 40
[2025-04-11 23:55:50] ✅ 下單成功：SELL CS.D.EURUSD.MINI.IP size=0.1
[2025-04-11 23:55:50] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-11 23:55:50] https://demo-api.ig.com:443 "GET /gateway/deal/confirms/6687ca6fd39e4171a2d7 HTTP/1.1" 200 438
[2025-04-11 23:55:50] ❌ Confirm 回報失敗：{'date': '2025-04-11T15:55:50.212', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '6687ca6fd39e4171a2d7', 'dealId': 'DIAAAATEM9YMVA5', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-12 00:00:50] 🛑 [SIM] 已達 00:00，結束模擬任務
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.5-Integrated
[2025-04-12 00:00:50] close.started
[2025-04-12 00:00:50] close.complete
nohup: ignoring input
[2025-04-12 00:12:32] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm
updating: auto_trading_unified_sim.py (deflated 57%)
updating: sim_trading_log.txt (deflated 93%)
updating: update_list.txt (stored 0%)
[2025-04-12 00:12:32] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0012.zip
[2025-04-12 00:12:32] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-12 00:12:33] 🛑 模擬交易結束
[🧪 測試觀察] 🔄 啟動 v1.3.6
nohup: ignoring input
[2025-04-12 00:13:14] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm
  adding: auto_trading_unified_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-12 00:13:14] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0013.zip
[2025-04-12 00:13:14] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-12 00:13:14] 🛑 模擬交易結束
-e 
[2025-04-12 06:55:01] 🔍 清晨提示：目前自動交易系統進程 PID 狀況如下：
[🧪 測試觀察] 🔄 重新啟動 v1.3.6-SafeConfirm
nohup: ignoring input
[2025-04-12 07:38:40] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm
updating: auto_trading_unified_sim.py (deflated 57%)
updating: sim_trading_log.txt (deflated 93%)
updating: update_list.txt (stored 0%)
[2025-04-12 07:38:40] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0738.zip
[2025-04-12 07:38:40] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-12 07:38:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:38:44] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:38:44] [SIM] News Sentiment: BUY
[2025-04-12 07:38:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:38:49] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:38:49] [SIM] News Sentiment: BUY
[2025-04-12 07:38:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:38:53] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:38:53] [SIM] News Sentiment: BUY
[2025-04-12 07:38:55] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:38:55] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:38:55] [SIM] News Sentiment: BUY
[2025-04-12 07:38:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:38:58] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:38:58] [SIM] News Sentiment: BUY
[2025-04-12 07:39:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:02] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:02] [SIM] News Sentiment: BUY
[2025-04-12 07:39:07] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:07] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:07] [SIM] News Sentiment: BUY
[2025-04-12 07:39:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:12] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:12] [SIM] News Sentiment: BUY
[2025-04-12 07:39:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:18] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:18] [SIM] News Sentiment: BUY
[2025-04-12 07:39:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:22] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:22] [SIM] News Sentiment: BUY
[2025-04-12 07:39:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:25] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:25] [SIM] News Sentiment: BUY
[2025-04-12 07:39:28] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:28] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:28] [SIM] News Sentiment: BUY
[2025-04-12 07:39:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:31] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:31] [SIM] News Sentiment: BUY
[2025-04-12 07:39:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:35] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:35] [SIM] News Sentiment: BUY
[2025-04-12 07:39:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:40] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:40] [SIM] News Sentiment: BUY
[2025-04-12 07:39:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:43] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:43] [SIM] News Sentiment: BUY
[2025-04-12 07:39:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:46] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:46] [SIM] News Sentiment: BUY
[2025-04-12 07:39:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:50] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:50] [SIM] News Sentiment: BUY
[2025-04-12 07:39:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:53] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:53] [SIM] News Sentiment: BUY
[2025-04-12 07:39:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:56] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:56] [SIM] News Sentiment: BUY
[2025-04-12 07:39:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:39:59] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:39:59] [SIM] News Sentiment: BUY
[2025-04-12 07:40:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:02] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:02] [SIM] News Sentiment: BUY
[2025-04-12 07:40:05] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:05] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:05] [SIM] News Sentiment: BUY
[2025-04-12 07:40:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:09] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:09] [SIM] News Sentiment: BUY
[2025-04-12 07:40:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:10] [SIM] News Sentiment: SELL
[2025-04-12 07:40:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:12] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:12] [SIM] News Sentiment: BUY
[2025-04-12 07:40:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:16] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:16] [SIM] News Sentiment: BUY
[2025-04-12 07:40:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:19] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:19] [SIM] News Sentiment: BUY
[2025-04-12 07:40:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:22] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:22] [SIM] News Sentiment: BUY
[2025-04-12 07:40:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:26] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:26] [SIM] News Sentiment: BUY
[2025-04-12 07:40:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:29] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:29] [SIM] News Sentiment: BUY
[2025-04-12 07:40:32] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:32] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:32] [SIM] News Sentiment: BUY
[2025-04-12 07:40:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:35] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:35] [SIM] News Sentiment: BUY
[2025-04-12 07:40:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:38] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:38] [SIM] News Sentiment: BUY
[2025-04-12 07:40:41] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:41] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:41] [SIM] News Sentiment: BUY
[2025-04-12 07:40:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:42] [SIM] News Sentiment: SELL
[2025-04-12 07:40:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:44] [SIM] News Sentiment: SELL
[2025-04-12 07:40:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:47] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:47] [SIM] News Sentiment: BUY
[2025-04-12 07:40:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:50] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:50] [SIM] News Sentiment: BUY
[2025-04-12 07:40:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:52] [SIM] News Sentiment: SELL
[2025-04-12 07:40:55] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:55] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:55] [SIM] News Sentiment: BUY
[2025-04-12 07:40:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:40:59] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:40:59] [SIM] News Sentiment: BUY
[2025-04-12 07:41:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:00] [SIM] News Sentiment: SELL
[2025-04-12 07:41:03] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:03] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:03] [SIM] News Sentiment: BUY
[2025-04-12 07:41:07] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:07] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:07] [SIM] News Sentiment: BUY
[2025-04-12 07:41:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:10] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:10] [SIM] News Sentiment: BUY
[2025-04-12 07:41:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:13] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:13] [SIM] News Sentiment: BUY
[2025-04-12 07:41:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:16] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:16] [SIM] News Sentiment: BUY
[2025-04-12 07:41:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:19] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:19] [SIM] News Sentiment: BUY
[2025-04-12 07:41:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:23] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:23] [SIM] News Sentiment: BUY
[2025-04-12 07:41:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:26] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:26] [SIM] News Sentiment: BUY
[2025-04-12 07:41:30] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:30] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:30] [SIM] News Sentiment: BUY
[2025-04-12 07:41:34] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:34] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:34] [SIM] News Sentiment: BUY
[2025-04-12 07:41:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:35] [SIM] News Sentiment: SELL
[2025-04-12 07:41:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:38] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:38] [SIM] News Sentiment: BUY
[2025-04-12 07:41:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:42] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:42] [SIM] News Sentiment: BUY
[2025-04-12 07:41:45] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:45] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:45] [SIM] News Sentiment: BUY
[2025-04-12 07:41:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:46] [SIM] News Sentiment: SELL
[2025-04-12 07:41:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:49] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:49] [SIM] News Sentiment: BUY
[2025-04-12 07:41:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:50] [SIM] News Sentiment: SELL
[2025-04-12 07:41:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:51] [SIM] News Sentiment: SELL
[2025-04-12 07:41:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:52] [SIM] News Sentiment: SELL
[2025-04-12 07:41:54] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:54] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:54] [SIM] News Sentiment: BUY
[2025-04-12 07:41:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:41:58] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:41:58] [SIM] News Sentiment: BUY
[2025-04-12 07:42:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:00] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:00] [SIM] News Sentiment: BUY
[2025-04-12 07:42:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:04] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:04] [SIM] News Sentiment: BUY
[2025-04-12 07:42:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:06] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:06] [SIM] News Sentiment: BUY
[2025-04-12 07:42:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:10] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:10] [SIM] News Sentiment: BUY
[2025-04-12 07:42:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:14] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:14] [SIM] News Sentiment: BUY
[2025-04-12 07:42:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:17] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:17] [SIM] News Sentiment: BUY
[2025-04-12 07:42:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:22] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:22] [SIM] News Sentiment: BUY
[2025-04-12 07:42:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:26] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:26] [SIM] News Sentiment: BUY
[2025-04-12 07:42:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:31] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:31] [SIM] News Sentiment: BUY
[2025-04-12 07:42:32] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:32] [SIM] News Sentiment: SELL
[2025-04-12 07:42:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:35] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:35] [SIM] News Sentiment: BUY
[2025-04-12 07:42:38] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:38] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:38] [SIM] News Sentiment: BUY
[2025-04-12 07:42:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:40] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:40] [SIM] News Sentiment: BUY
[2025-04-12 07:42:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:44] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:44] [SIM] News Sentiment: BUY
[2025-04-12 07:42:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:47] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:47] [SIM] News Sentiment: BUY
[2025-04-12 07:42:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:50] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:50] [SIM] News Sentiment: BUY
[2025-04-12 07:42:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:53] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:53] [SIM] News Sentiment: BUY
[2025-04-12 07:42:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:56] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:56] [SIM] News Sentiment: BUY
[2025-04-12 07:42:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:42:59] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:42:59] [SIM] News Sentiment: BUY
[2025-04-12 07:43:01] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:01] [SIM] News Sentiment: SELL
[2025-04-12 07:43:05] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:05] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:05] [SIM] News Sentiment: BUY
[2025-04-12 07:43:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:10] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:10] [SIM] News Sentiment: BUY
[2025-04-12 07:43:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:13] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:13] [SIM] News Sentiment: BUY
[2025-04-12 07:43:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:16] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:16] [SIM] News Sentiment: BUY
[2025-04-12 07:43:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:18] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:18] [SIM] News Sentiment: BUY
[2025-04-12 07:43:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:22] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:22] [SIM] News Sentiment: BUY
[2025-04-12 07:43:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:25] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:25] [SIM] News Sentiment: BUY
[2025-04-12 07:43:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:27] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:27] [SIM] News Sentiment: BUY
[2025-04-12 07:43:29] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:29] [SIM] News Sentiment: SELL
[2025-04-12 07:43:30] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:30] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:30] [SIM] News Sentiment: BUY
[2025-04-12 07:43:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:33] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:33] [SIM] News Sentiment: BUY
[2025-04-12 07:43:36] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:36] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:36] [SIM] News Sentiment: BUY
[2025-04-12 07:43:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:39] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:39] [SIM] News Sentiment: BUY
[2025-04-12 07:43:40] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:40] [SIM] News Sentiment: SELL
[2025-04-12 07:43:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:43] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:43] [SIM] News Sentiment: BUY
[2025-04-12 07:43:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:47] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:47] [SIM] News Sentiment: BUY
[2025-04-12 07:43:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:50] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:50] [SIM] News Sentiment: BUY
[2025-04-12 07:43:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:52] [SIM] News Sentiment: SELL
[2025-04-12 07:43:54] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:54] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:54] [SIM] News Sentiment: BUY
[2025-04-12 07:43:57] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:57] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:57] [SIM] News Sentiment: BUY
[2025-04-12 07:43:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:43:59] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:43:59] [SIM] News Sentiment: BUY
[2025-04-12 07:44:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:02] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:02] [SIM] News Sentiment: BUY
[2025-04-12 07:44:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:06] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:06] [SIM] News Sentiment: BUY
[2025-04-12 07:44:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:10] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:10] [SIM] News Sentiment: BUY
[2025-04-12 07:44:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:14] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:14] [SIM] News Sentiment: BUY
[2025-04-12 07:44:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:15] [SIM] News Sentiment: SELL
[2025-04-12 07:44:18] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:18] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:18] [SIM] News Sentiment: BUY
[2025-04-12 07:44:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:19] [SIM] News Sentiment: SELL
[2025-04-12 07:44:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:22] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:22] [SIM] News Sentiment: BUY
[2025-04-12 07:44:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:27] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:27] [SIM] News Sentiment: BUY
[2025-04-12 07:44:31] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:31] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:31] [SIM] News Sentiment: BUY
[2025-04-12 07:44:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:35] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:35] [SIM] News Sentiment: BUY
[2025-04-12 07:44:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:39] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:39] [SIM] News Sentiment: BUY
[2025-04-12 07:44:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:42] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:42] [SIM] News Sentiment: BUY
[2025-04-12 07:44:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:46] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:46] [SIM] News Sentiment: BUY
[2025-04-12 07:44:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:49] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:49] [SIM] News Sentiment: BUY
[2025-04-12 07:44:52] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:52] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:52] [SIM] News Sentiment: BUY
[2025-04-12 07:44:55] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:55] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:55] [SIM] News Sentiment: BUY
[2025-04-12 07:44:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:44:58] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:44:58] [SIM] News Sentiment: BUY
[2025-04-12 07:45:01] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:01] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:01] [SIM] News Sentiment: BUY
[2025-04-12 07:45:05] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:05] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:05] [SIM] News Sentiment: BUY
[2025-04-12 07:45:07] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:07] [SIM] News Sentiment: SELL
[2025-04-12 07:45:10] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:10] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:10] [SIM] News Sentiment: BUY
[2025-04-12 07:45:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:13] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:13] [SIM] News Sentiment: BUY
[2025-04-12 07:45:16] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:16] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:16] [SIM] News Sentiment: BUY
[2025-04-12 07:45:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:20] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:20] [SIM] News Sentiment: BUY
[2025-04-12 07:45:22] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:22] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:22] [SIM] News Sentiment: BUY
[2025-04-12 07:45:26] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:26] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:26] [SIM] News Sentiment: BUY
[2025-04-12 07:45:28] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:28] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:28] [SIM] News Sentiment: BUY
[2025-04-12 07:45:34] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:34] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:34] [SIM] News Sentiment: BUY
[2025-04-12 07:45:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:35] [SIM] News Sentiment: SELL
[2025-04-12 07:45:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:39] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:39] [SIM] News Sentiment: BUY
[2025-04-12 07:45:43] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:43] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:43] [SIM] News Sentiment: BUY
[2025-04-12 07:45:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:46] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:46] [SIM] News Sentiment: BUY
[2025-04-12 07:45:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:51] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:51] [SIM] News Sentiment: BUY
[2025-04-12 07:45:53] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:53] [SIM] News Sentiment: SELL
[2025-04-12 07:45:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:45:56] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:45:56] [SIM] News Sentiment: BUY
[2025-04-12 07:46:00] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:00] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:00] [SIM] News Sentiment: BUY
[2025-04-12 07:46:03] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:03] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:03] [SIM] News Sentiment: BUY
[2025-04-12 07:46:06] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:06] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:06] [SIM] News Sentiment: BUY
[2025-04-12 07:46:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:09] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:09] [SIM] News Sentiment: BUY
[2025-04-12 07:46:11] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:11] [SIM] News Sentiment: SELL
[2025-04-12 07:46:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:12] [SIM] News Sentiment: SELL
[2025-04-12 07:46:14] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:14] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:14] [SIM] News Sentiment: BUY
[2025-04-12 07:46:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:17] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:17] [SIM] News Sentiment: BUY
[2025-04-12 07:46:20] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:20] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:20] [SIM] News Sentiment: BUY
[2025-04-12 07:46:23] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:23] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:23] [SIM] News Sentiment: BUY
[2025-04-12 07:46:25] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:25] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:25] [SIM] News Sentiment: BUY
[2025-04-12 07:46:30] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:30] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:30] [SIM] News Sentiment: BUY
[2025-04-12 07:46:33] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:33] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:33] [SIM] News Sentiment: BUY
[2025-04-12 07:46:37] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:37] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:37] [SIM] News Sentiment: BUY
[2025-04-12 07:46:41] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:41] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:41] [SIM] News Sentiment: BUY
[2025-04-12 07:46:44] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:44] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:44] [SIM] News Sentiment: BUY
[2025-04-12 07:46:48] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:48] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:48] [SIM] News Sentiment: BUY
[2025-04-12 07:46:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:51] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:51] [SIM] News Sentiment: BUY
[2025-04-12 07:46:54] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:54] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:54] [SIM] News Sentiment: BUY
[2025-04-12 07:46:56] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:56] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:56] [SIM] News Sentiment: BUY
[2025-04-12 07:46:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:46:59] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:46:59] [SIM] News Sentiment: BUY
[2025-04-12 07:47:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:02] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:02] [SIM] News Sentiment: BUY
[2025-04-12 07:47:04] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:04] [SIM] News Sentiment: SELL
[2025-04-12 07:47:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:09] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:09] [SIM] News Sentiment: BUY
[2025-04-12 07:47:12] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:12] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:12] [SIM] News Sentiment: BUY
[2025-04-12 07:47:15] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:15] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:15] [SIM] News Sentiment: BUY
[2025-04-12 07:47:19] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:19] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:19] [SIM] News Sentiment: BUY
[2025-04-12 07:47:24] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:24] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:24] [SIM] News Sentiment: BUY
[2025-04-12 07:47:27] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:27] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:27] [SIM] News Sentiment: BUY
[2025-04-12 07:47:32] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:32] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:32] [SIM] News Sentiment: BUY
[2025-04-12 07:47:35] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:35] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:35] [SIM] News Sentiment: BUY
[2025-04-12 07:47:39] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:39] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:39] [SIM] News Sentiment: BUY
[2025-04-12 07:47:42] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:42] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:42] [SIM] News Sentiment: BUY
[2025-04-12 07:47:46] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:46] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:46] [SIM] News Sentiment: BUY
[2025-04-12 07:47:49] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:49] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:49] [SIM] News Sentiment: BUY
[2025-04-12 07:47:51] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:51] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:51] [SIM] News Sentiment: BUY
[2025-04-12 07:47:55] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:55] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:55] [SIM] News Sentiment: BUY
[2025-04-12 07:47:59] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:47:59] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:47:59] [SIM] News Sentiment: BUY
[2025-04-12 07:48:02] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:48:02] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:48:02] [SIM] News Sentiment: BUY
[2025-04-12 07:48:05] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:48:05] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:48:05] [SIM] News Sentiment: BUY
[2025-04-12 07:48:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:48:09] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:48:09] [SIM] News Sentiment: BUY
[2025-04-12 07:48:13] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:48:13] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:48:13] [SIM] News Sentiment: BUY
[2025-04-12 07:48:17] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-12 07:48:17] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-12 07:48:17] [SIM] News Sentiment: BUY
[🧪 測試觀察] 🔄 重新啟動 v1.3.6-SafeConfirm-A
nohup: ignoring input
[2025-04-12 07:48:20] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm-A

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250412_0748.zip)
[2025-04-12 07:48:20] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0748.zip
[2025-04-12 07:48:20] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-12 07:48:20] ❌ Login Failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm-A
nohup: ignoring input
[2025-04-12 07:49:43] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm-A

zip error: Nothing to do! (/home/hmtf000001/Sim_Trading_Backup_20250412_0749.zip)
[2025-04-12 07:49:43] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0749.zip
[2025-04-12 07:49:43] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-12 07:49:43] ❌ Login Failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm-A
[🧪 測試觀察] 🔄 重新啟動 v1.3.7-SafeConfirmPlus
nohup: ignoring input
[2025-04-12 08:11:19] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.7-SafeConfirmPlus
  adding: auto_trading_unified_sim.py (deflated 58%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-12 08:11:19] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0811.zip
[2025-04-12 08:11:19] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-12 08:11:19] ❌ Login Failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[🧪 測試觀察] 🔄 重新啟動 v1.3.7-FixedEnv
nohup: ignoring input
[2025-04-12 08:32:04] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.7-FixedEnv
  adding: auto_trading_unified_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-12 08:32:04] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0832.zip
[2025-04-12 08:32:04] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-12 08:32:04] [DEBUG] 登入中：USERNAME=Lucifinel1016, API_KEY=2181***
[2025-04-12 08:32:04] ❌ Login Failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[🧪 測試觀察] 🔄 重新啟動 v1.3.7-FixedEnv
nohup: ignoring input
  File "/home/hmtf000001/auto_trading_unified_sim.py", line 1
    ✅ Unified-Sim-v1.3.6-SafeConfirm：Confirm 檢查 + Tick Fallback + 加倉 + 損平
IndentationError: unexpected indent
[🧪 測試觀察] 🔄 回復 v1.3.6-SafeConfirm 測試啟動
nohup: ignoring input
[2025-04-12 08:37:46] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.5-Integrated
[2025-04-12 08:37:46] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0837.zip
[2025-04-12 08:37:46] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-12 08:37:46] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-12 08:37:46] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 403 46
[2025-04-12 08:37:46] ❌ Login Failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.5-Integrated
[🧪 測試觀察] 🔄 回復 v1.3.6-SafeConfirm 測試啟動
nohup: ignoring input
[2025-04-12 08:40:02] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.5-Integrated
[2025-04-12 08:40:02] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0840.zip
[2025-04-12 08:40:02] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-12 08:40:02] Starting new HTTPS connection (1): demo-api.ig.com:443
[2025-04-12 08:40:02] https://demo-api.ig.com:443 "POST /gateway/deal/session HTTP/1.1" 403 46
[2025-04-12 08:40:02] ❌ Login Failed: 403 - {"errorCode":"error.security.api-key-invalid"}
[KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.5-Integrated
[🧪 測試觀察] 🔁 回復執行 v1.3.6-SafeConfirm
nohup: ignoring input
[2025-04-12 08:45:25] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm
  adding: auto_trading_unified_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-12 08:45:25] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0845.zip
[2025-04-12 08:45:25] 🚀 [SIM] 開始模擬全天交易任務
nohup: ignoring input
[2025-04-12 08:48:49] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm
  adding: auto_trading_unified_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-12 08:48:49] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0848.zip
[2025-04-12 08:48:49] 🚀 [SIM] 開始模擬全天交易任務
[🧪 測試觀察] 🔄 回復執行 v1.3.6-SafeConfirm
nohup: ignoring input
[2025-04-12 08:55:04] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm
  adding: auto_trading_unified_sim.py (deflated 57%)
  adding: sim_trading_log.txt (deflated 93%)
  adding: update_list.txt (stored 0%)
[2025-04-12 08:55:04] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250412_0855.zip
[2025-04-12 08:55:04] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-17 16:15:46] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm
[2025-04-17 16:15:46] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250417_1615.zip
[2025-04-17 16:15:46] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-17 16:15:50] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-17 16:15:50] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-17 16:15:50] [SIM] News Sentiment: BUY
[2025-04-17 16:15:51] [FALLBACK] Tick-based stopDistance used
[2025-04-17 16:15:51] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "13af130426704655954f"
}
[2025-04-17 16:15:51] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:15:51.175', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '13af130426704655954f', 'dealId': 'DIAAAATGUX84QAT', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:15:52] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.018,
  "stopDistance": 0.006,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "13af130426704655954f"
}
[2025-04-17 16:15:52] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:15:52.325', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '13af130426704655954f', 'dealId': 'DIAAAATGUZDWMAN', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:15:53] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.021,
  "stopDistance": 0.007,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "13af130426704655954f"
}
[2025-04-17 16:15:53] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:15:53.463', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '13af130426704655954f', 'dealId': 'DIAAAATGUX2UFAU', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:15:54] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "13af130426704655954f"
}
[2025-04-17 16:15:55] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:15:54.611', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '13af130426704655954f', 'dealId': 'DIAAAATGUYCFKA8', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:15:55] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.03,
  "stopDistance": 0.01,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "13af130426704655954f"
}
[2025-04-17 16:15:56] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:15:55.79', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '13af130426704655954f', 'dealId': 'DIAAAATGUYQF2A3', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:15:56] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.036,
  "stopDistance": 0.012,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "13af130426704655954f"
}
[2025-04-17 16:15:57] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:15:56.942', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '13af130426704655954f', 'dealId': 'DIAAAATGUYWRZAH', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:15:57] ⛔ 所有 fallback 測試失敗
[2025-04-17 16:20:44] [KALEN-SIM] ✅ 啟動版本：Unified-Sim-v1.3.6-SafeConfirm
[2025-04-17 16:20:44] 📦 備份完成：/home/hmtf000001/Sim_Trading_Backup_20250417_1620.zip
[2025-04-17 16:20:44] 🚀 [SIM] 開始模擬全天交易任務
[2025-04-17 16:20:47] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-17 16:20:47] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-17 16:20:47] [SIM] News Sentiment: BUY
[2025-04-17 16:20:47] [FALLBACK] Tick-based stopDistance used
[2025-04-17 16:20:47] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bde8956b4d6d4cb0af1b"
}
[2025-04-17 16:20:48] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:20:48.125', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'bde8956b4d6d4cb0af1b', 'dealId': 'DIAAAATGUZTQ4A8', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:20:49] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.018,
  "stopDistance": 0.006,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bde8956b4d6d4cb0af1b"
}
[2025-04-17 16:20:49] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:20:49.259', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'bde8956b4d6d4cb0af1b', 'dealId': 'DIAAAATGU2JS2AB', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:20:50] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.021,
  "stopDistance": 0.007,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bde8956b4d6d4cb0af1b"
}
[2025-04-17 16:20:50] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:20:50.404', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'bde8956b4d6d4cb0af1b', 'dealId': 'DIAAAATGUZ662AJ', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:20:51] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bde8956b4d6d4cb0af1b"
}
[2025-04-17 16:20:51] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:20:51.551', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'bde8956b4d6d4cb0af1b', 'dealId': 'DIAAAATGU2JT6AB', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:20:52] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.03,
  "stopDistance": 0.01,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bde8956b4d6d4cb0af1b"
}
[2025-04-17 16:20:53] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:20:52.703', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'bde8956b4d6d4cb0af1b', 'dealId': 'DIAAAATGU22ZZAV', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:20:53] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.036,
  "stopDistance": 0.012,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "bde8956b4d6d4cb0af1b"
}
[2025-04-17 16:20:54] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:20:53.847', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'bde8956b4d6d4cb0af1b', 'dealId': 'DIAAAATGU2C2UAY', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:20:54] ⛔ 所有 fallback 測試失敗
[2025-04-17 16:20:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-17 16:20:58] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-17 16:20:58] [SIM] News Sentiment: BUY
[2025-04-17 16:20:59] [FALLBACK] Tick-based stopDistance used
[2025-04-17 16:20:59] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fd11b65a278f4b04a7df"
}
[2025-04-17 16:20:59] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:20:59.589', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'fd11b65a278f4b04a7df', 'dealId': 'DIAAAATGU2PDVAZ', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:21:00] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.018,
  "stopDistance": 0.006,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fd11b65a278f4b04a7df"
}
[2025-04-17 16:21:01] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:21:00.724', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'fd11b65a278f4b04a7df', 'dealId': 'DIAAAATGU2YJMAL', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:21:01] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.021,
  "stopDistance": 0.007,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fd11b65a278f4b04a7df"
}
[2025-04-17 16:21:02] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:21:01.888', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'fd11b65a278f4b04a7df', 'dealId': 'DIAAAATGU3GYNAN', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:21:02] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fd11b65a278f4b04a7df"
}
[2025-04-17 16:21:03] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:21:03.029', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'fd11b65a278f4b04a7df', 'dealId': 'DIAAAATGU3GZEAN', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:21:04] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.03,
  "stopDistance": 0.01,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fd11b65a278f4b04a7df"
}
[2025-04-17 16:21:04] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:21:04.165', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'fd11b65a278f4b04a7df', 'dealId': 'DIAAAATGU2NF5A5', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:21:05] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.036,
  "stopDistance": 0.012,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "fd11b65a278f4b04a7df"
}
[2025-04-17 16:21:05] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:21:05.323', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': 'fd11b65a278f4b04a7df', 'dealId': 'DIAAAATGU2UJVBD', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:21:06] ⛔ 所有 fallback 測試失敗
[2025-04-17 16:25:58] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-17 16:25:58] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-17 16:25:58] [SIM] News Sentiment: BUY
[2025-04-17 16:25:59] [FALLBACK] Tick-based stopDistance used
[2025-04-17 16:25:59] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1c0cb0ee279e477eaf62"
}
[2025-04-17 16:25:59] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:25:59.258', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '1c0cb0ee279e477eaf62', 'dealId': 'DIAAAATGU4JBJAS', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:00] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.018,
  "stopDistance": 0.006,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1c0cb0ee279e477eaf62"
}
[2025-04-17 16:26:00] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:00.426', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '1c0cb0ee279e477eaf62', 'dealId': 'DIAAAATGU4AQSAK', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:01] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.021,
  "stopDistance": 0.007,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1c0cb0ee279e477eaf62"
}
[2025-04-17 16:26:01] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:01.568', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '1c0cb0ee279e477eaf62', 'dealId': 'DIAAAATGU4VNFA5', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:02] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1c0cb0ee279e477eaf62"
}
[2025-04-17 16:26:03] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:02.695', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '1c0cb0ee279e477eaf62', 'dealId': 'DIAAAATGU4VNGA5', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:03] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.03,
  "stopDistance": 0.01,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1c0cb0ee279e477eaf62"
}
[2025-04-17 16:26:04] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:03.833', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '1c0cb0ee279e477eaf62', 'dealId': 'DIAAAATGU4JB7AS', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:04] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.036,
  "stopDistance": 0.012,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "1c0cb0ee279e477eaf62"
}
[2025-04-17 16:26:05] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:04.975', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '1c0cb0ee279e477eaf62', 'dealId': 'DIAAAATGU347FAT', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:05] ⛔ 所有 fallback 測試失敗
[2025-04-17 16:26:09] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-17 16:26:09] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-17 16:26:09] [SIM] News Sentiment: BUY
[2025-04-17 16:26:10] [FALLBACK] Tick-based stopDistance used
[2025-04-17 16:26:10] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6abe365c05ec4913af3f"
}
[2025-04-17 16:26:10] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:10.45', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '6abe365c05ec4913af3f', 'dealId': 'DIAAAATGU325VAV', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:11] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.018,
  "stopDistance": 0.006,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6abe365c05ec4913af3f"
}
[2025-04-17 16:26:11] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:11.585', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '6abe365c05ec4913af3f', 'dealId': 'DIAAAATGU4J8KAJ', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:12] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.021,
  "stopDistance": 0.007,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6abe365c05ec4913af3f"
}
[2025-04-17 16:26:13] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:12.72', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '6abe365c05ec4913af3f', 'dealId': 'DIAAAATGU42JSAR', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:13] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6abe365c05ec4913af3f"
}
[2025-04-17 16:26:14] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:13.85', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '6abe365c05ec4913af3f', 'dealId': 'DIAAAATGU4RUNAE', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:14] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.03,
  "stopDistance": 0.01,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6abe365c05ec4913af3f"
}
[2025-04-17 16:26:15] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:14.978', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '6abe365c05ec4913af3f', 'dealId': 'DIAAAATGU4S7VAG', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:15] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "BUY",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.036,
  "stopDistance": 0.012,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "6abe365c05ec4913af3f"
}
[2025-04-17 16:26:16] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:26:16.123', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '6abe365c05ec4913af3f', 'dealId': 'DIAAAATGU4RUVAE', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'BUY', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:26:17] ⛔ 所有 fallback 測試失敗
[2025-04-17 16:31:08] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-04-17 16:31:08] ❌ OpenAI 錯誤：OpenAI 回傳非 BUY/SELL
[2025-04-17 16:31:08] [SIM] News Sentiment: BUY
[2025-04-17 16:31:09] [FALLBACK] Tick-based stopDistance used
[2025-04-17 16:31:09] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.015,
  "stopDistance": 0.005,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "64c9771e34a04397a3c8"
}
[2025-04-17 16:31:10] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:31:09.761', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '64c9771e34a04397a3c8', 'dealId': 'DIAAAATGU5VTRAX', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:31:10] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.018,
  "stopDistance": 0.006,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "64c9771e34a04397a3c8"
}
[2025-04-17 16:31:11] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:31:10.909', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '64c9771e34a04397a3c8', 'dealId': 'DIAAAATGU6CWHA3', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:31:11] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.021,
  "stopDistance": 0.007,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "64c9771e34a04397a3c8"
}
[2025-04-17 16:31:12] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:31:12.064', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '64c9771e34a04397a3c8', 'dealId': 'DIAAAATGU54KTAR', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:31:13] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.024,
  "stopDistance": 0.008,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "64c9771e34a04397a3c8"
}
[2025-04-17 16:31:13] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:31:13.196', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '64c9771e34a04397a3c8', 'dealId': 'DIAAAATGU6UD6AF', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:31:14] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.03,
  "stopDistance": 0.01,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "64c9771e34a04397a3c8"
}
[2025-04-17 16:31:14] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:31:14.33', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '64c9771e34a04397a3c8', 'dealId': 'DIAAAATGU6Z5DA7', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:31:15] 🧾 嘗試下單:
{
  "epic": "CS.D.EURUSD.MINI.IP",
  "expiry": "-",
  "direction": "SELL",
  "size": 0.1,
  "orderType": "MARKET",
  "level": null,
  "limitDistance": 0.036,
  "stopDistance": 0.012,
  "guaranteedStop": false,
  "forceOpen": true,
  "currencyCode": "USD",
  "dealReference": "64c9771e34a04397a3c8"
}
[2025-04-17 16:31:15] ❌ Confirm 回報失敗：{'date': '2025-04-17T08:31:15.498', 'status': None, 'reason': 'ATTACHED_ORDER_LEVEL_ERROR', 'dealStatus': 'REJECTED', 'epic': 'CS.D.EURUSD.MINI.IP', 'expiry': None, 'dealReference': '64c9771e34a04397a3c8', 'dealId': 'DIAAAATGU6GU8BD', 'affectedDeals': [], 'level': None, 'size': None, 'direction': 'SELL', 'stopLevel': None, 'limitLevel': None, 'stopDistance': None, 'limitDistance': None, 'guaranteedStop': False, 'trailingStop': False, 'profit': None, 'profitCurrency': None}
[2025-04-17 16:31:16] ⛔ 所有 fallback 測試失敗
